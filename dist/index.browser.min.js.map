{"version":3,"sources":["../../../src/enums/ConnectionType.ts","../../../src/enums/NodeType.ts","../../node_modules/activations/build/src/index.js","../../../src/utils/Utils.ts","../../../src/methods/Mutation.ts","../../../src/architecture/Connection.ts","../../../src/architecture/Node.ts","../../../src/enums/GatingType.ts","../../../../src/architecture/Layers/Layer.ts","../../../../src/architecture/Nodes/ConstantNode.ts","../../../../src/architecture/Nodes/NoiseNode.ts","../../../../../src/architecture/Layers/NoiseLayers/NoiseLayer.ts","../../../../../src/architecture/Layers/CoreLayers/InputLayer.ts","../../../../../src/architecture/Layers/CoreLayers/OutputLayer.ts","../../node_modules/threads/dist-esm/serializers.js","../../node_modules/threads/dist-esm/common.js","../../node_modules/threads/dist-esm/master/get-bundle-url.browser.js","../../node_modules/threads/dist-esm/master/implementation.browser.js","../../node_modules/ms/index.js","../../node_modules/threads/node_modules/debug/src/common.js","../../node_modules/process/browser.js","../../node_modules/threads/node_modules/debug/src/browser.js","../../node_modules/observable-fns/dist.esm/_scheduler.js","../../node_modules/observable-fns/dist.esm/_symbols.js","../../node_modules/observable-fns/dist.esm/observable.js","../../node_modules/observable-fns/dist.esm/unsubscribe.js","../../node_modules/observable-fns/dist.esm/filter.js","../../node_modules/observable-fns/dist.esm/_util.js","../../node_modules/observable-fns/dist.esm/flatMap.js","../../node_modules/observable-fns/dist.esm/interval.js","../../node_modules/observable-fns/dist.esm/map.js","../../node_modules/observable-fns/dist.esm/merge.js","../../node_modules/observable-fns/dist.esm/subject.js","../../node_modules/observable-fns/dist.esm/multicast.js","../../node_modules/observable-fns/dist.esm/scan.js","../../node_modules/observable-fns/dist.esm/index.js","../../node_modules/threads/dist-esm/ponyfills.js","../../node_modules/threads/dist-esm/master/pool-types.js","../../node_modules/threads/dist-esm/symbols.js","../../node_modules/threads/dist-esm/master/thread.js","../../node_modules/threads/dist-esm/master/pool.js","../../node_modules/threads/dist-esm/promise.js","../../node_modules/threads/dist-esm/types/master.js","../../node_modules/threads/dist-esm/observable-promise.js","../../node_modules/threads/dist-esm/transferable.js","../../node_modules/threads/dist-esm/types/messages.js","../../node_modules/threads/dist-esm/master/invocation-proxy.js","../../node_modules/threads/dist-esm/master/spawn.js","../../node_modules/threads/dist-esm/master/index.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/is-observable/index.js","../../node_modules/threads/dist-esm/worker/implementation.browser.js","../../node_modules/threads/dist-esm/worker/index.js","../../node_modules/threads/dist-esm/index.js","../../node_modules/threads/dist/serializers.js","../../node_modules/threads/dist/common.js","../../node_modules/threads/dist/master/get-bundle-url.browser.js","../../node_modules/threads/dist/master/implementation.browser.js","../../node_modules/threads/dist/ponyfills.js","../../node_modules/threads/dist/master/pool-types.js","../../node_modules/threads/dist/symbols.js","../../node_modules/threads/dist/master/thread.js","../../node_modules/threads/dist/master/pool.js","../../node_modules/threads/dist/promise.js","../../node_modules/threads/dist/types/master.js","../../node_modules/threads/dist/observable-promise.js","../../node_modules/threads/dist/transferable.js","../../node_modules/threads/dist/types/messages.js","../../node_modules/threads/dist/master/invocation-proxy.js","../../node_modules/threads/dist/master/spawn.js","../../node_modules/threads/dist/master/index.js","../../node_modules/threads/dist/worker/implementation.browser.js","../../node_modules/threads/dist/worker/index.js","../../node_modules/threads/dist/index.js","../../node_modules/threads/dist/master/register.js","../../node_modules/threads/register.js","../../node_modules/timsort/build/timsort.js","../../node_modules/timsort/index.js","../../node_modules/os-browserify/browser.js","../../../src/methods/Loss.ts","../../../src/methods/Selection.ts","../../../src/interfaces/EvolveOptions.ts","../../../src/architecture/Species.ts","../../src/NEAT.ts","../../../src/architecture/Network.ts","../../../src/architecture/Architect.ts","../../../../src/architecture/Nodes/ActivationNode.ts","../../../../../src/architecture/Layers/CoreLayers/ActivationLayer.ts","../../../../../src/architecture/Layers/CoreLayers/DenseLayer.ts","../../../../src/architecture/Nodes/DropoutNode.ts","../../../../../src/architecture/Layers/CoreLayers/DropoutLayer.ts","../../../../src/architecture/Nodes/PoolNode.ts","../../../../../src/architecture/Layers/PoolingLayers/PoolingLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/MinPooling1DLayer.ts","../../../../../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer.ts","../../../../../src/architecture/Layers/RecurrentLayers/GRULayer.ts","../../../../../src/architecture/Layers/RecurrentLayers/HopfieldLayer.ts","../../../../../src/architecture/Layers/RecurrentLayers/LSTMLayer.ts","../../../../../src/architecture/Layers/RecurrentLayers/MemoryLayer.ts","../../../../../src/architecture/Layers/RecurrentLayers/RNNLayer.ts","../../../src/methods/Rate.ts","../../../src/interfaces/TrainOptions.ts","../../scripts/index.ts"],"names":["extendSerializer","extend","implementation","fallbackDeserializer","deserialize","bind","fallbackSerializer","serialize","message","input","DefaultErrorSerializer","Object","assign","Error","name","stack","error","__error_marker","isSerializedError","thing","DefaultSerializer","registeredSerializer","registerSerializer","serializer","bundleURL","getBundleURLCached","getBundleURL","err","matches","match","getBaseURL","url","replace","defaultPoolSize","navigator","hardwareConcurrency","isAbsoluteURL","value","test","createSourceBlobURL","code","blob","Blob","type","URL","createObjectURL","selectWorkerImplementation","Worker","constructor","options","_baseURL","JSON","stringify","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","useColors","window","__nwjs","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","formatArgs","namespace","humanize","diff","c","color","splice","index","lastC","log","save","namespaces","storage","setItem","removeItem","load","r","getItem","localstorage","localStorage","colors","require","formatters","j","v","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","AsyncSerialScheduler","observer","_baseObserver","_pendingPromises","Set","complete","all","catch","schedule","task","prevPromisesCompletion","values","promise","delete","add","hasSymbols","Symbol","hasSymbol","Boolean","getSymbol","registerObservableSymbol","observable","asyncIterator","for","Observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","obj","key","TypeError","getSpecies","ctor","undefined","isObservable","x","hostReportError","enqueue","fn","cleanupSubscription","subscription","cleanup","_cleanup","unsubscribe","closeSubscription","_observer","_queue","_state","flushSubscription","item","notifySubscription","m","onNotify","Subscription","subscriber","subscriptionObserver","SubscriptionObserver","closed","_subscription","_subscriber","subscribe","nextOrObserver","onError","onComplete","pipe","first","mappers","intermediate","mapper","tap","tapObserver","start","forEach","map","propagatedValue","filter","reduce","seed","C","hasSeed","hasValue","acc","sources","startNext","from","flatMap","subscriptions","outer","normalizedValue","inner","innerValue","indexOf","completeIfDone","s","observableMethod","iteratorMethod","isArray","of","items","defineProperty","symbol","configurable","scheduler","isAsyncIterator","isIterator","iterator","__asyncValues","o","__values","verb","n","settle","d","e_1","_a","mapped","mapped_1_1","mapped_1","element","e_1_1","return","output","interval","period","counter","handle","setInterval","clearInterval","merge","observables","completed","unsubscribeAll","MulticastSubject","_observers","multicast","coldObservable","subject","Subject","sourceSubscription","subscriberCount","scan","accumulator","accumulated","prevAcc","allSettled","onFulfill","status","onReject","reason","itemPromise","PoolEventType","$errors","$events","$terminate","$transferable","$worker","fail","Thread","errors","thread","events","terminate","adopt","nextPoolID","createArray","size","delay","ms","flattened","slugify","text","trim","spawnWorkers","spawnWorker","count","init","runningTasks","WorkerPool","optionsOrSize","eventSubject","initErrors","isClosing","nextTaskID","taskQueue","debug","String","workers","eventObservable","worker","initialized","findIdlingWorker","concurrency","find","runPoolTask","workerID","id","taskStart","taskID","returnValue","taskCompleted","taskFailed","runPromise","someRunPromise","scheduleWork","availableWorker","nextTask","shift","taskQueueDrained","taskCompletion","eventSubscription","event","terminated","settled","allowResolvingImmediately","getCurrentlyRunningTasks","taskFailures","failureSubscription","settlementPromise","earlyExitPromise","race","taskFunction","maxQueuedJobs","Infinity","taskCompletionDotThen","cancel","someTask","taskCanceled","taskQueued","force","remainingQueue","PoolConstructor","EventType","Pool","doNothing","createPromiseWithResolver","alreadyResolved","resolvedTo","resolver","WorkerEventType","returnInput","runDeferred","isThenable","ObservablePromise","originalObserver","self","onCompletion","onNext","initHasRun","fulfillmentCallbacks","rejectionCallbacks","firstValueSet","state","firstValue","rejection","onRejected","onFulfilled","onFulfilledRaw","onRejectedRaw","onRejectedCalled","rejectionCallback","anotherError","finally","onCompleted","handler","isTransferable","isTransferDescriptor","Transfer","payload","transferables","send","MasterMessageType","WorkerMessageType","debugMessages","nextJobUID","dedupe","isJobErrorMessage","data","isJobResultMessage","isJobStartMessage","running","createObservableForJob","jobUID","asyncType","messageHandler","uid","resultType","removeEventListener","addEventListener","prepareArguments","rawArgs","arg","createProxyFunction","method","runMessage","postMessage","createProxyModule","methodNames","proxy","methodName","debugSpawn","debugThreadUtils","isInitMessage","isUncaughtErrorMessage","initMessageTimeout","withTimeout","timeoutInMs","errorMessage","timeoutHandle","receiveInitMessage","createEventObservable","workerTermination","messageEvent","workerEvent","rejectionHandler","errorEvent","internalError","terminationEvent","termination","createTerminator","setPrivateThreadProps","raw","workerEvents","workerErrors","spawn","initMessage","exposed","methods","symbolObservablePonyfill","root","global","Function","symbolObservable","default","isWorkerRuntime","postMessageToMaster","transferList","subscribeToMasterMessages","onMessage","exposeCalled","isMasterJobRunMessage","isZenObservable","deconstructTransfer","postFunctionInitMessage","postModuleInitMessage","postJobErrorMessage","rawError","postJobResultMessage","resultValue","resultMessage","postJobStartMessage","startMessage","postUncaughtErrorMessage","uncaughtError","subError","runFunction","syncResult","expose","Implementation","messageData","keys","__importDefault","mod","__esModule","debug_1","observable_fns_1","common_1","promise_1","symbols_1","master_1","invocation_proxy_1"],"mappings":"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","file":"index.browser.min.js","sourceRoot":"..\\build\\scripts","sourcesContent":["/**\n * The type of a connection.\n */\nexport enum ConnectionType {\n  /**\n   * No connection used for exceptions.\n   */\n  NO_CONNECTION,\n  /**\n   * Connect all input to all output nodes\n   */\n  ALL_TO_ALL,\n  /**\n   * Connect one input to one output node\n   */\n  ONE_TO_ONE,\n  /**\n   * Connect with pooling\n   */\n  POOLING,\n}\n","/**\n * The type of node.\n */\nexport enum NodeType {\n  /**\n   * Node is an input node.\n   */\n  INPUT,\n  /**\n   * Node is a hidden node.\n   */\n  HIDDEN,\n  /**\n   * Node is a output node.\n   */\n  OUTPUT,\n}\n\n/**\n * The type of pool node.\n */\nexport enum PoolNodeType {\n  /**\n   * Maximum pooling node.\n   */\n  MAX_POOLING,\n  /**\n   * Average pooling node.\n   */\n  AVG_POOLING,\n  /**\n   * Minimum pooling node.\n   */\n  MIN_POOLING,\n}\n\n/**\n * The type of noise node.\n */\nexport enum NoiseNodeType {\n  /**\n   * Gaussian noise node\n   */\n  GAUSSIAN_NOISE,\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ALL_ACTIVATIONS = exports.GAUSSIAN = exports.Sinc = exports.Sinusiod = exports.SiLU = exports.BentIdentity = exports.SoftPlus = exports.LeakyRELU = exports.RELU = exports.SoftSign = exports.ArSinH = exports.ArcTan = exports.SQNL = exports.TANH = exports.Logistic = exports.BinaryStep = exports.Identitiy = void 0;\n/**\n * The Identity activation function.\n * @see Identity function {@link https://en.wikipedia.org/wiki/Identity_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst Identitiy = (x, derivative = false) => !derivative ? x : 1;\nexports.Identitiy = Identitiy;\n/**\n * The Binary-Step activation function.\n * @see Binary Step function {@link https://en.wikipedia.org/wiki/Heaviside_step_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst BinaryStep = (x, derivative = false) => {\n    if (!derivative) {\n        return x < 0 ? 0 : 1;\n    }\n    else {\n        return 0;\n    }\n};\nexports.BinaryStep = BinaryStep;\n/**\n * The Logistic activation function.\n * @see Logistic function {@link https://en.wikipedia.org/wiki/Logistic_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst Logistic = (x, derivative = false) => {\n    const negativeEX = Math.exp(-x);\n    if (!derivative) {\n        return 1 / (1 + negativeEX);\n    }\n    else {\n        return 1 / (1 + negativeEX) * (1 - 1 / (1 + negativeEX));\n    }\n};\nexports.Logistic = Logistic;\n/**\n * The TANH activation function.\n * @see TanH function {@link https://en.wikipedia.org/wiki/Hyperbolic_function#Hyperbolic_tangent}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst TANH = (x, derivative = false) => {\n    if (!derivative) {\n        return Math.tanh(x);\n    }\n    else {\n        return 1 - Math.pow(Math.tanh(x), 2);\n    }\n};\nexports.TANH = TANH;\n/**\n * The SQNL activation function.\n * @see SQNL function {@link https://ieeexplore.ieee.org/document/8489043}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst SQNL = (x, derivative = false) => {\n    if (!derivative) {\n        if (x > 2) {\n            return 1;\n        }\n        else if (x >= 0) {\n            return x - Math.pow((x / 2), 2);\n        }\n        else if (x >= -2) {\n            return x + Math.pow((x / 2), 2);\n        }\n        else {\n            return -1;\n        }\n    }\n    else {\n        if (x > 2) {\n            return 0;\n        }\n        else if (x >= 0) {\n            return 1 - x / 2;\n        }\n        else if (x >= -2) {\n            return 1 + x / 2;\n        }\n        else {\n            return 0;\n        }\n    }\n};\nexports.SQNL = SQNL;\n/**\n * The ArcTAN activation function.\n * @see ArcTAN function {@link https://en.wikipedia.org/wiki/Inverse_trigonometric_functions}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst ArcTan = (x, derivative = false) => {\n    if (!derivative) {\n        return Math.atan(x);\n    }\n    else {\n        return 1 / (Math.pow(x, 2) + 1);\n    }\n};\nexports.ArcTan = ArcTan;\n/**\n * The ArSinH activation function.\n * @see ArSinH function {@link https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_sine}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst ArSinH = (x, derivative = false) => {\n    if (!derivative) {\n        return Math.asinh(x);\n    }\n    else {\n        return 1 / Math.pow((Math.pow(x, 2) + 1), (1 / 2));\n    }\n};\nexports.ArSinH = ArSinH;\n/**\n * The SoftSign activation function.\n * @see SoftSign function {@link https://sefiks.com/2017/11/10/softsign-as-a-neural-networks-activation-function/}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst SoftSign = (x, derivative = false) => {\n    if (!derivative) {\n        return x / (1 + Math.abs(x));\n    }\n    else {\n        return 1 / Math.pow((1 + Math.abs(x)), 2);\n    }\n};\nexports.SoftSign = SoftSign;\n/**\n * The RELU activation function.\n * @see RELU function {@link https://en.wikipedia.org/wiki/Rectifier_(neural_networks)}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst RELU = (x, derivative = false) => {\n    if (!derivative) {\n        return x > 0 ? x : 0;\n    }\n    else {\n        return x > 0 ? 1 : 0;\n    }\n};\nexports.RELU = RELU;\n/**\n * The Leaky RELU activation function.\n * @see Leaky RELU function {@link https://medium.com/@himanshuxd/activation-functions-sigmoid-relu-leaky-relu-and-softmax-basics-for-neural-networks-and-deep-8d9c70eed91e}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst LeakyRELU = (x, derivative = false) => {\n    if (!derivative) {\n        return x > 0 ? x : 0.01 * x;\n    }\n    else {\n        return x > 0 ? 1 : 0.01;\n    }\n};\nexports.LeakyRELU = LeakyRELU;\n/**\n * The SoftPlus activation function.\n * @see SoftPlus function {@link https://sefiks.com/2017/08/11/softplus-as-a-neural-networks-activation-function/}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst SoftPlus = (x, derivative = false) => {\n    if (!derivative) {\n        return Math.log(1 + Math.exp(x));\n    }\n    else {\n        return 1 / (1 + Math.exp(-x));\n    }\n};\nexports.SoftPlus = SoftPlus;\n/**\n * The Bent-Identity activation function.\n * @see Bent-Identity function {@link https://en.wikipedia.org/wiki/Activation_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst BentIdentity = (x, derivative = false) => {\n    if (!derivative) {\n        return (Math.pow((Math.pow(x, 2) + 1), (1 / 2)) - 1) / 2 + x;\n    }\n    else {\n        return x / (2 * Math.pow((Math.pow(x, 2) + 1), (1 / 2))) + 1;\n    }\n};\nexports.BentIdentity = BentIdentity;\n/**\n * The SiLU activation function.\n * @see SiLU function {@link https://arxiv.org/pdf/1702.03118.pdf}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst SiLU = (x, derivative = false) => {\n    const negativeEX = Math.exp(-x);\n    if (!derivative) {\n        return x / (1 + negativeEX);\n    }\n    else {\n        return (1 + negativeEX + x * negativeEX) / Math.pow((1 + negativeEX), 2);\n    }\n};\nexports.SiLU = SiLU;\n/**\n * The Sinusoid activation function.\n * @see Sinusoid function {@link https://en.wikipedia.org/wiki/Sine_wave}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst Sinusiod = (x, derivative = false) => {\n    if (!derivative) {\n        return Math.sin(x);\n    }\n    else {\n        return Math.cos(x);\n    }\n};\nexports.Sinusiod = Sinusiod;\n/**\n * The Sinc activation function.\n * @see Sinc function {@link https://en.wikipedia.org/wiki/Sinc_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst Sinc = (x, derivative = false) => {\n    if (!derivative) {\n        return x === 0 ? 1 : Math.sin(x) / x;\n    }\n    else {\n        return x === 0 ? 0 : Math.cos(x) / x - Math.sin(x) / Math.pow(x, 2);\n    }\n};\nexports.Sinc = Sinc;\n/**\n * The Gaussian activation function.\n * @see Gaussian function {@link https://en.wikipedia.org/wiki/Gaussian_function}\n * @param x the input value\n * @param derivative calculate the derivative\n */\nconst GAUSSIAN = (x, derivative = false) => {\n    if (!derivative) {\n        return 1 / Math.exp(Math.pow(x, 2));\n    }\n    else {\n        return -2 * x * Math.exp(-(Math.pow(x, 2)));\n    }\n};\nexports.GAUSSIAN = GAUSSIAN;\nexports.ALL_ACTIVATIONS = [\n    Identitiy,\n    BinaryStep,\n    Logistic,\n    TANH,\n    SQNL,\n    ArcTan,\n    ArSinH,\n    SoftSign,\n    RELU,\n    LeakyRELU,\n    SoftPlus,\n    BentIdentity,\n    SiLU,\n    Sinusiod,\n    Sinc,\n    GAUSSIAN\n];\n","/**\n * Returns an random element from the given array.\n *\n * @param arr the array to pick from\n * @returns the random picked element\n */\nfunction pickRandom<T>(arr: T[] | Set<T>): T {\n  if (Array.isArray(arr)) {\n    if (arr.length === 0) {\n      throw new RangeError('Cannot pick from an empty array');\n    }\n    return arr[randInt(0, arr.length)];\n  } else {\n    return pickRandom(Array.from(arr));\n  }\n}\n\n/**\n * Returns a random integer in the range [min,max)\n *\n * @param min bound\n * @param max bound\n * @returns random integer in [min,max)\n */\nfunction randInt(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min) + min);\n}\n\n/**\n * Returns a random double in the range [min,max)\n *\n * @param min bound\n * @param max bound\n * @returns random double in [min,max)\n */\nfunction randDouble(min: number, max: number): number {\n  return Math.random() * (max - min) + min;\n}\n\n/**\n * Returns a random boolean\n *\n * @returns random boolean\n */\nfunction randBoolean(): boolean {\n  return Math.random() >= 0.5;\n}\n\n/**\n * Removes an element from an array.\n *\n * @param arr the array\n * @param elem the element which will be removed\n * @returns false -> element does not exists on array; true -> element removed from array\n */\nfunction removeFromArray<T>(arr: T[], elem: T): boolean {\n  const index: number = arr.indexOf(elem);\n  if (index === -1) {\n    return false;\n  } else {\n    arr.splice(index, 1);\n    return true;\n  }\n}\n\n/**\n * Shuffles an array\n * @param array the array\n * @returns the shuffled array\n */\nfunction shuffle<T>(array: T[]): void {\n  // While there are elements in the array\n  for (let counter: number = array.length - 1; counter > 0; counter--) {\n    // Pick a random index\n    const index: number = randInt(0, counter);\n\n    // And swap the last element with it\n    const temp: T = array[counter];\n    array[counter] = array[index];\n    array[index] = temp;\n  }\n}\n\n/**\n * Finds the maximum value of an number array\n *\n * @param array\n */\nfunction max(array: number[]): number {\n  if (array.length === 0) {\n    throw new RangeError();\n  }\n  let maxValue: number = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > maxValue) {\n      maxValue = array[i];\n    }\n  }\n  return maxValue;\n}\n\n/**\n * Finds the maximum value index of an number array\n *\n * @param array\n */\nfunction maxValueIndex(array: number[]): number {\n  if (array.length === 0) {\n    throw new RangeError();\n  }\n  let maxValue: number = array[0];\n  let maxValueIndex = 0;\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] > maxValue) {\n      maxValue = array[i];\n      maxValueIndex = i;\n    }\n  }\n  return maxValueIndex;\n}\n\n/**\n * Finds the minimum value index of an number array\n *\n * @param array\n */\nfunction minValueIndex(array: number[]): number {\n  if (array.length === 0) {\n    throw new RangeError();\n  }\n  let minValue: number = array[0];\n  let minValueIndex = 0;\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] < minValue) {\n      minValue = array[i];\n      minValueIndex = i;\n    }\n  }\n  return minValueIndex;\n}\n\n/**\n * Finds the minimum value of an number array\n *\n * @param array\n */\nfunction min(array: number[]): number {\n  if (array.length === 0) {\n    throw new RangeError();\n  }\n  let minValue: number = array[0];\n  for (let i = 1; i < array.length; i++) {\n    if (array[i] < minValue) {\n      minValue = array[i];\n    }\n  }\n  return minValue;\n}\n\n/**\n * Calculates the average value of an array\n *\n * @param array\n */\nfunction avg(array: number[]): number {\n  return sum(array) / array.length;\n}\n\n/**\n * Calculates the sum of all values of an array\n *\n * @param array\n */\nfunction sum(array: number[]): number {\n  if (array.length === 0) {\n    throw new RangeError();\n  }\n  let sum = 0;\n  for (const value of array) {\n    sum += value;\n  }\n  return sum;\n}\n\n/**\n * Generates a random number with the gaussian distribution.\n *\n * @see https://en.wikipedia.org/wiki/Normal_distribution\n *\n * @param mean the mean value\n * @param deviation the standard deviation\n */\nfunction generateGaussian(mean = 0, deviation = 2): number {\n  let sum = 0;\n  const numSamples = 10;\n  for (let i = 0; i < numSamples; i++) {\n    sum += Math.random();\n  }\n\n  return (deviation * sum) / numSamples + mean - 0.5 * deviation;\n}\n\n/**\n * Pairing two numbers\n *\n * @see {@link https://en.wikipedia.org/wiki/Pairing_function (Cantor pairing function)|Pairing function (Cantor pairing function)}\n *\n * @param a - A [natural number](https://en.wikipedia.org/wiki/Natural_number), which is an integer greater than or equal to zero\n * @param b - A [natural number](https://en.wikipedia.org/wiki/Natural_number), which is an integer greater than or equal to zero\n *\n * @return An Integer that uniquely represents a pair of Integers\n */\nfunction pairing(a: number, b: number): number {\n  return (1 / 2) * (a + b) * (a + b + 1) + b;\n}\n\nexport {\n  pickRandom,\n  randInt,\n  randDouble,\n  randBoolean,\n  removeFromArray,\n  shuffle,\n  max,\n  maxValueIndex,\n  minValueIndex,\n  min,\n  sum,\n  avg,\n  generateGaussian,\n  pairing,\n};\n","import {ActivationType} from 'activations/build/src';\nimport {Connection} from '../architecture/Connection';\nimport {Network} from '../architecture/Network';\nimport {Node} from '../architecture/Node';\nimport {NodeType} from '../enums/NodeType';\nimport {pickRandom, randBoolean, randDouble} from '../utils/Utils';\n\n/**\n *\n * Genetic algorithm mutation methods. Creates variations (mutations) in neural networks which are then selected for better performance.\n *\n * @see {@link https://en.wikipedia.org/wiki/mutation_(genetic_algorithm)|Mutation (genetic algorithms) on Wikipedia}\n * @see {@link https://en.wikipedia.org/wiki/Genetic_algorithm#Selection|Selection (genetic algorithms) on Wikipedia}\n */\nabstract class Mutation {\n  /**\n   * Mutates a given network.\n   *\n   * @param network the network to mutate\n   * @param options you can set the max amount of nodes, connections and gates\n   */\n  public abstract mutate(\n    network: Network,\n    options?: {\n      /**\n       * Maximum allowed nodes.\n       */\n      maxNodes?: number;\n      /**\n       * Maximum allowed connections.\n       */\n      maxConnections?: number;\n      /**\n       * Maximum allowed gates.\n       */\n      maxGates?: number;\n      /**\n       * All allowed activations.\n       */\n      allowedActivations?: ActivationType[];\n    }\n  ): void;\n}\n\n/**\n * Add node mutation.\n *\n * Adds a hidden node to the network.\n */\nclass AddNodeMutation extends Mutation {\n  /**\n   * If enabled, sets a random activation function on the newly created node\n   */\n  public readonly randomActivation: boolean;\n\n  /**\n   * Constructs a AddNodeMutation object\n   * @param randomActivation Should choose a random activation for a new node?\n   */\n  constructor(randomActivation = true) {\n    super();\n    this.randomActivation = randomActivation;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   * @param options\n   */\n  public mutate(\n    network: Network,\n    options: {\n      /**\n       * Maximum amount of nodes.\n       */\n      maxNodes?: number;\n    } = {}\n  ): void {\n    // check if max nodes is already reached\n    if (\n      options.maxNodes !== undefined &&\n      network.nodes.length >= options.maxNodes\n    ) {\n      return;\n    }\n    // create a new hidden node\n    const node: Node = new Node(NodeType.HIDDEN);\n    if (this.randomActivation) {\n      node.mutateActivation(); // choose random activation\n    }\n    // take a random connection\n    const connection: Connection = pickRandom(Array.from(network.connections));\n    const from: Node = connection.from;\n    const to: Node = connection.to;\n    network.disconnect(from, to); // disconnect it\n\n    // put the node in between the connection\n    const minBound: number = Math.max(\n      network.inputSize,\n      1 + network.nodes.indexOf(from)\n    );\n    network.nodes.splice(minBound, 0, node);\n    const newConnection1: Connection = network.connect(from, node, 1);\n    const newConnection2: Connection = network.connect(\n      node,\n      to,\n      connection.weight\n    );\n\n    if (connection.gateNode !== null) {\n      // if connection had a gate node\n      // choose randomly which new connection should get this gate node\n      if (randBoolean()) {\n        network.addGate(connection.gateNode, newConnection1);\n      } else {\n        network.addGate(connection.gateNode, newConnection2);\n      }\n    }\n  }\n}\n\n/**\n * Sub node mutation.\n *\n * Removes a random node from the network.\n */\nclass SubNodeMutation extends Mutation {\n  /**\n   * Ensures replacement node has gated connections if the removed node did.\n   */\n  public readonly keepGates: boolean;\n\n  constructor(keepGates = true) {\n    super();\n    this.keepGates = keepGates;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Node[] = network.nodes.filter(\n      node => node !== undefined && node.isHiddenNode()\n    ); // hidden nodes\n    if (possible.length > 0) {\n      network.removeNode(pickRandom(possible), this.keepGates); // remove a random node from the filtered array\n    }\n  }\n}\n\n/**\n * Add connections mutation.\n *\n * Adds a connection to the network.\n */\nclass AddConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   * @param options\n   */\n  public mutate(\n    network: Network,\n    options: {\n      /**\n       * Maximum allowed connections.\n       */\n      maxConnections?: number;\n    } = {}\n  ): void {\n    // check if max connections is already reached\n    if (\n      options.maxConnections !== undefined &&\n      network.connections.size >= options.maxConnections\n    ) {\n      return;\n    }\n    const possible: Node[][] = [];\n\n    for (let i = 0; i < network.nodes.length - network.outputSize; i++) {\n      const from: Node = network.nodes[i];\n      for (\n        let j: number = Math.max(i + 1, network.inputSize);\n        j < network.nodes.length;\n        j++\n      ) {\n        const to: Node = network.nodes[j];\n        if (!from.isProjectingTo(to)) {\n          possible.push([from, to]);\n        }\n      }\n    }\n\n    if (possible.length > 0) {\n      const pair: Node[] = pickRandom(possible);\n      network.connect(pair[0], pair[1]);\n    }\n  }\n}\n\n/**\n * Sub connection mutation.\n *\n * Removes a random connection from the network.\n */\nclass SubConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Connection[] = Array.from(network.connections)\n      .filter(conn => conn.from.outgoing.size > 1) // do not deactivate a neuron\n      .filter(conn => conn.to.incoming.size > 1) // do not deactivate a neuron\n      .filter(\n        conn =>\n          network.nodes.indexOf(conn.to) > network.nodes.indexOf(conn.from)\n      ); // look for forward pointing connections\n    if (possible.length > 0) {\n      const randomConnection: Connection = pickRandom(possible); // pick a random connection from the filtered array\n      network.disconnect(randomConnection.from, randomConnection.to); // remove the connection from the network\n    }\n  }\n}\n\n/**\n * Mod weight mutation.\n *\n * Modifies the weight of a random connection.\n */\nclass ModWeightMutation extends Mutation {\n  /**\n   * lower bound for weight modification\n   */\n  public readonly min: number;\n  /**\n   * higher bound for weight modification\n   */\n  public readonly max: number;\n\n  /**\n   * Constructs a ModWeightMutation object\n   * @param min The minimum weight.\n   * @param max The maximum weight.\n   */\n  constructor(min = -1, max = 1) {\n    super();\n    this.min = min;\n    this.max = max;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    // pick random connection and mutate it's weight\n    pickRandom(Array.from(network.connections)).weight += randDouble(\n      this.min,\n      this.max\n    );\n  }\n}\n\n/**\n * Mod bias mutation.\n *\n * Modifies the bias value of a random hidden or output node\n */\nclass ModBiasMutation extends Mutation {\n  /**\n   * lower bound for modification of a neuron's bias\n   */\n  public readonly min: number;\n  /**\n   * higher bound for modification of a neuron's bias\n   */\n  public readonly max: number;\n\n  /**\n   * Constructs a ModBiasMutation object\n   * @param min The minimum bias.\n   * @param max The maximum bias.\n   */\n  constructor(min = -1, max = 1) {\n    super();\n    this.min = min;\n    this.max = max;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    pickRandom(network.nodes.filter(node => !node.isInputNode())) // pick random hidden or output node\n      .mutateBias(this); // mutate it's bias\n  }\n}\n\n/**\n * Mod activation mutation.\n *\n * Modifies the activation function of a random node\n */\nclass ModActivationMutation extends Mutation {\n  /**\n   * Change activation function of network output neurons. Enable this to let the network experiment with its output.\n   */\n  public readonly mutateOutput: boolean;\n\n  /**\n   * Constructs a ModActivationMutation object\n   * @param mutateOutput Can the output be mutated?\n   */\n  constructor(mutateOutput = false) {\n    super();\n    this.mutateOutput = mutateOutput;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   * @param options\n   */\n  public mutate(\n    network: Network,\n    options: {\n      /**\n       * All allowed activations.\n       */\n      allowedActivations?: ActivationType[];\n    } = {}\n  ): void {\n    const possible: Node[] = this.mutateOutput\n      ? network.nodes.filter(node => !node.isInputNode()) // hidden and output nodes\n      : network.nodes.filter(node => node.isHiddenNode()); // hidden nodes\n    if (possible.length > 0) {\n      pickRandom(possible).mutateActivation(options.allowedActivations); // mutate the activation of the node\n    }\n  }\n}\n\n/**\n * Add self connection.\n *\n * Adds a connection from a node to itself.\n */\nclass AddSelfConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Node[] = network.nodes\n      .filter(node => !node.isInputNode()) // no input nodes\n      .filter(node => node.selfConnection.weight === 0); // only nodes that doesn't have an self connection already\n    if (possible.length > 0) {\n      const node: Node = pickRandom(possible); // pick a random node from the filtered array\n      network.connect(node, node); // connection the node to itself\n    }\n  }\n}\n\n/**\n * Sub self connection.\n *\n * Removes a connection from a node to itself.\n */\nclass SubSelfConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Connection[] = Array.from(network.connections).filter(\n      conn => conn.from === conn.to\n    );\n    if (possible.length > 0) {\n      const randomConnection: Connection = pickRandom(possible);\n      network.disconnect(randomConnection.from, randomConnection.to);\n    }\n  }\n}\n\n/**\n * Add gate mutation.\n *\n * Adds a gate to the network.\n */\nclass AddGateMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   * @param options\n   */\n  public mutate(\n    network: Network,\n    options: {\n      /**\n       * Maximum allowed gates.\n       */\n      maxGates?: number;\n    } = {}\n  ): void {\n    // check if max gates isn't reached already\n    if (\n      options.maxGates !== undefined &&\n      network.gates.size >= options.maxGates\n    ) {\n      return;\n    }\n\n    // use only connections that aren't already gated\n    const possible: Connection[] = Array.from(network.connections).filter(\n      conn => conn.gateNode === null\n    );\n    if (possible.length > 0) {\n      const node: Node = pickRandom(\n        network.nodes.filter(node => !node.isInputNode())\n      ); // hidden or output node\n      const connection: Connection = pickRandom(possible); // random connection from filtered array\n\n      network.addGate(node, connection); // use the node to gate the connection\n    }\n  }\n}\n\n/**\n * Sub gate mutation.\n *\n * Removes a gate from the network.\n */\nclass SubGateMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    if (network.gates.size > 0) {\n      network.removeGate(pickRandom(Array.from(network.gates)));\n    }\n  }\n}\n\n/**\n * Add back connection mutation.\n *\n * Adds a backward pointing connection to the network.\n */\nclass AddBackConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Node[][] = [];\n    for (let i: number = network.inputSize; i < network.nodes.length; i++) {\n      const from: Node = network.nodes[i];\n      for (let j: number = network.inputSize; j < i; j++) {\n        const to: Node = network.nodes[j];\n        if (!from.isProjectingTo(to)) {\n          possible.push([from, to]);\n        }\n      }\n    }\n    if (possible.length > 0) {\n      const pair: Node[] = pickRandom(possible);\n      network.connect(pair[0], pair[1]);\n    }\n  }\n}\n\n/**\n * Sub back connection mutation.\n *\n * Removes a backward pointing connection to the network.\n */\nclass SubBackConnectionMutation extends Mutation {\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Connection[] = Array.from(network.connections)\n      .filter(conn => conn.from.outgoing.size > 1)\n      .filter(conn => conn.to.incoming.size > 1)\n      .filter(\n        conn =>\n          network.nodes.indexOf(conn.from) > network.nodes.indexOf(conn.to)\n      );\n    if (possible.length > 0) {\n      const randomConnection: Connection = pickRandom(possible);\n      network.disconnect(randomConnection.from, randomConnection.to);\n    }\n  }\n}\n\n/**\n * Swap nodes mutation.\n *\n * Swaps the values of two randomly picked nodes.\n */\nclass SwapNodesMutation extends Mutation {\n  /**\n   * Swap bias and activation function of network output neurons too. Disable this to keep output of a neural network normalized.\n   */\n  public readonly mutateOutput: boolean;\n\n  /**\n   * Constructs a SwapNodeMutation object\n   * @param mutateOutput Can the output be mutated?\n   */\n  constructor(mutateOutput = false) {\n    super();\n    this.mutateOutput = mutateOutput;\n  }\n\n  /**\n   * Mutates the network.\n   *\n   * @param network The network which gets mutated\n   */\n  public mutate(network: Network): void {\n    const possible: Node[] = this.mutateOutput\n      ? network.nodes.filter(node => node !== undefined && !node.isInputNode()) // hidden or output nodes\n      : network.nodes.filter(node => node !== undefined && node.isHiddenNode()); // only hidden nodes\n\n    if (possible.length >= 2) {\n      // select two different nodes from the filtered array\n      const node1: Node = pickRandom(possible);\n      const node2: Node = pickRandom(possible.filter(node => node !== node1));\n\n      // change there parameters\n      const biasTemp: number = node1.bias;\n      const squashTemp: ActivationType = node1.squash;\n\n      node1.bias = node2.bias;\n      node1.squash = node2.squash;\n      node2.bias = biasTemp;\n      node2.squash = squashTemp;\n    }\n  }\n}\n\n/**\n * Array of all mutation methods\n */\nconst ALL_MUTATIONS: Mutation[] = [\n  new AddNodeMutation(),\n  new SubNodeMutation(),\n  new AddConnectionMutation(),\n  new SubConnectionMutation(),\n  new ModWeightMutation(),\n  new ModBiasMutation(),\n  new ModActivationMutation(),\n  new AddGateMutation(),\n  new SubGateMutation(),\n  new AddSelfConnectionMutation(),\n  new SubSelfConnectionMutation(),\n  new AddBackConnectionMutation(),\n  new SubBackConnectionMutation(),\n  new SwapNodesMutation(),\n];\n/**\n * Array of all feed forward mutation methods\n */\nconst FEEDFORWARD_MUTATIONS: Mutation[] = [\n  new AddNodeMutation(),\n  new SubNodeMutation(),\n  new AddConnectionMutation(),\n  new SubConnectionMutation(),\n  new ModWeightMutation(),\n  new ModBiasMutation(),\n  new ModActivationMutation(),\n  new SwapNodesMutation(),\n];\n\nconst NO_STRUCTURE_MUTATIONS: Mutation[] = [\n  new ModWeightMutation(),\n  new ModBiasMutation(),\n  new ModActivationMutation(),\n];\nconst ONLY_STRUCTURE: Mutation[] = [\n  new AddNodeMutation(),\n  new SubNodeMutation(),\n  new AddConnectionMutation(),\n  new SubConnectionMutation(),\n  new AddGateMutation(),\n  new SubGateMutation(),\n  new AddSelfConnectionMutation(),\n  new SubSelfConnectionMutation(),\n  new AddBackConnectionMutation(),\n  new SubBackConnectionMutation(),\n  new SwapNodesMutation(),\n];\n\nexport {\n  ALL_MUTATIONS,\n  FEEDFORWARD_MUTATIONS,\n  NO_STRUCTURE_MUTATIONS,\n  ONLY_STRUCTURE,\n  Mutation,\n  AddNodeMutation,\n  SubNodeMutation,\n  AddConnectionMutation,\n  SubConnectionMutation,\n  ModWeightMutation,\n  ModBiasMutation,\n  ModActivationMutation,\n  AddGateMutation,\n  SubGateMutation,\n  AddSelfConnectionMutation,\n  SubSelfConnectionMutation,\n  AddBackConnectionMutation,\n  SubBackConnectionMutation,\n  SwapNodesMutation,\n};\n","import {ConnectionJSON} from '../interfaces/ConnectionJSON';\nimport {pairing} from '../utils/Utils';\nimport {Node} from './Node';\n\n/**\n * A connection instance describes the connection between two nodes.\n */\nexport class Connection {\n  /**\n   * eligibility\n   */\n  public eligibility: number;\n  /**\n   * Used for gating, gets multiplied with weight\n   */\n  public gain: number;\n  /**\n   * Weight of the connection\n   */\n  public weight: number;\n  /**\n   * Connection origin node (neuron)\n   */\n  public readonly from: Node;\n  /**\n   * Connection destination node (neuron)\n   */\n  public readonly to: Node;\n\n  /**\n   * X Trace\n   */\n  public xTrace: Map<Node, number>;\n\n  /**\n   * The node gating this connection\n   */\n  public gateNode: Node | null;\n  /**\n   * Tracks [momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) - _for [batch training](https://www.quora.com/What-is-the-difference-between-batch-online-and-mini-batch-training-in-neural-networks-Which-one-should-I-use-for-a-small-to-medium-sized-dataset-for-prediction-purposes)_\n   */\n  public deltaWeightsTotal: number;\n  /**\n   * Tracks [momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html)\n   */\n  public deltaWeightsPrevious: number;\n\n  constructor(from: Node, to: Node, weight?: number, gateNode?: Node) {\n    this.from = from;\n    this.to = to;\n    this.weight = weight ?? 0;\n    this.gain = 1;\n    this.eligibility = 0;\n    this.deltaWeightsPrevious = 0;\n    this.deltaWeightsTotal = 0;\n    this.xTrace = new Map<Node, number>();\n\n    if (gateNode) {\n      this.gateNode = gateNode;\n      gateNode.addGate(this);\n    } else {\n      this.gateNode = null;\n    }\n  }\n\n  /**\n   * Returns the connection as a JSON\n   *\n   * @return Connection as a JSON\n   */\n  public toJSON(): ConnectionJSON {\n    return {\n      fromIndex: this.from.index,\n      toIndex: this.to.index,\n      gateNodeIndex: this.gateNode === null ? null : this.gateNode.index,\n      weight: this.weight,\n    };\n  }\n\n  /**\n   * Get the innovation ID for this connection\n   */\n  public getInnovationID(): number {\n    return pairing(this.from.index, this.to.index);\n  }\n}\n","import {ActivationType, ALL_ACTIVATIONS, Logistic} from 'activations/build/src';\nimport {NodeType} from '../enums/NodeType';\nimport {NodeJSON} from '../interfaces/NodeJSON';\nimport {ModBiasMutation} from '../methods/Mutation';\nimport {pickRandom, randDouble} from '../utils/Utils';\nimport {Connection} from './Connection';\n\n/**\n * Creates a new neuron/node\n *\n * Neurons are the basic unit of the neural network. They can be connected together, or used to gate connections between other neurons. A Neuron can perform basically 4 operations: form connections, gate connections, activate and [propagate](https://www.youtube.com/watch?v=Ilg3gGewQ5U).\n *\n * For more information check:\n * - [BecomingHuman](https://becominghuman.ai/what-is-an-artificial-neuron-8b2e421ce42e)\n * - [Wikipedia](https://en.wikipedia.org/wiki/Artificial_neuron)\n * - [Neataptic](https://wagenaartje.github.io/neataptic/docs/architecture/node/)\n * - [Synaptic](https://github.com/cazala/synaptic/wiki/Neural-Networks-101)\n * - [Keras](https://keras.io/backend/#bias_add)\n */\nexport class Node {\n  /**\n   * The type of this node.\n   */\n  public type: NodeType;\n  /**\n   * Used for dropout. This is either 0 (ignored) or 1 (included) during training and is used to avoid [overfit](https://www.kdnuggets.com/2015/04/preventing-overfitting-neural-networks.html).\n   */\n  public mask: number;\n  /**\n   * Incoming connections to this node\n   */\n  public incoming: Set<Connection>;\n  /**\n   * Outgoing connections from this node\n   */\n  public outgoing: Set<Connection>;\n  /**\n   * Connections this node gates\n   */\n  public gated: Set<Connection>;\n  /**\n   * A self connection\n   */\n  public selfConnection: Connection;\n  /**\n   * Neuron's bias [here](https://becominghuman.ai/what-is-an-artificial-neuron-8b2e421ce42e)\n   */\n  public bias: number;\n  /**\n   * [Activation function](https://medium.com/the-theory-of-everything/understanding-activation-functions-in-neural-networks-9491262884e0)\n   */\n  public squash: ActivationType;\n  /**\n   * index\n   */\n  public index: number;\n  /**\n   * derivative state\n   */\n  public derivativeState: number;\n  /**\n   * delta bias previous\n   */\n  public deltaBiasPrevious: number;\n  /**\n   * delta bias total\n   */\n  public deltaBiasTotal: number;\n  /**\n   * Output value\n   */\n  public activation: number;\n  /**\n   * state\n   */\n  public state: number;\n  /**\n   * old state\n   */\n  public old: number;\n  /**\n   * error responsibility\n   */\n  public errorResponsibility: number;\n  /**\n   * error projected\n   */\n  public errorProjected: number;\n  /**\n   * error gated\n   */\n  public errorGated: number;\n\n  constructor(type: NodeType = NodeType.HIDDEN) {\n    this.type = type;\n    this.bias = randDouble(-1, 1);\n    this.squash = Logistic;\n    this.activation = 0;\n    this.derivativeState = 1;\n    this.state = 0;\n    this.old = 0;\n    this.mask = 1;\n    this.deltaBiasPrevious = 0;\n    this.deltaBiasTotal = 0;\n    this.incoming = new Set<Connection>();\n    this.outgoing = new Set<Connection>();\n    this.gated = new Set<Connection>();\n    this.selfConnection = new Connection(this, this, 0);\n    this.errorResponsibility = 0;\n    this.errorProjected = 0;\n    this.errorGated = 0;\n    this.index = NaN;\n  }\n\n  /**\n   * Convert a json object to a node\n   *\n   * @param json A node represented as a JSON object\n   *\n   * @returns itself\n   */\n  public fromJSON(json: NodeJSON): Node {\n    this.bias = json.bias ?? randDouble(-1, 1);\n    this.type = json.type as NodeType;\n    this.squash = json.squash ?? Logistic;\n    this.mask = json.mask ?? 1;\n    this.index = json.index ?? NaN;\n    return this;\n  }\n\n  /**\n   * Clears this node's state information - _i.e. resets node and its connections to \"factory settings\"_\n   *\n   * `node.clear()` is useful for predicting time series.\n   */\n  public clear(): void {\n    this.incoming.forEach(connection => {\n      connection.eligibility = 0;\n      connection.xTrace.clear();\n    });\n\n    this.gated.forEach(conn => (conn.gain = 0));\n\n    this.errorResponsibility = this.errorProjected = this.errorGated = 0;\n    this.old = this.state = this.activation = 0;\n  }\n\n  /**\n   * Mutates the node's bias\n   *\n   * @param method The method is needed for the min and max value of the node's bias otherwise a range of [-1,1] is chosen\n   */\n  public mutateBias(method: ModBiasMutation = new ModBiasMutation()): void {\n    this.bias += randDouble(method.min, method.max); // add a random value in range [min,max)\n  }\n\n  /**\n   * Mutates the node's activation function\n   */\n  public mutateActivation(\n    allowedActivations: ActivationType[] = Object.values(ALL_ACTIVATIONS)\n  ): void {\n    // pick a random activation from allowed activations except the current activation\n    const possible: ActivationType[] = allowedActivations.filter(\n      activation => activation !== this.squash\n    );\n    if (possible.length > 0) {\n      this.squash = pickRandom(possible);\n    }\n  }\n\n  /**\n   * Checks if the given node(s) are have outgoing connections to this node\n   *\n   * @param node Checks if `node(s)` have outgoing connections into this node\n   *\n   * @return Returns true, if every node(s) has an outgoing connection into this node\n   */\n  public isProjectedBy(node: Node): boolean {\n    if (node === this) {\n      // self connection\n      return this.selfConnection.weight !== 0; // is projected, if weight of self connection is unequal 0\n    } else {\n      return Array.from(this.incoming)\n        .map(conn => conn.from)\n        .includes(node); // check every incoming connection for node\n    }\n  }\n\n  /**\n   * Checks if this node has an outgoing connection(s) into the given node(s)\n   *\n   * @param node Checks if this node has outgoing connection(s) into `node(s)`\n   *\n   * @returns Returns true, if this node has an outgoing connection into every node(s)\n   */\n  public isProjectingTo(node: Node): boolean {\n    if (node === this) {\n      // self connection\n      return this.selfConnection.weight !== 0; // is projected, if weight of self connection is unequal 0\n    } else {\n      return Array.from(this.outgoing)\n        .map(conn => conn.to)\n        .includes(node); // check every outgoing connection for node\n    }\n  }\n\n  /**\n   * This node gates (influences) the given connection\n   *\n   * @param connection Connection to be gated (influenced) by a neuron\n   */\n  public addGate(connection: Connection): void {\n    this.gated.add(connection);\n    connection.gateNode = this;\n  }\n\n  /**\n   * Stops this node from gating (manipulating) the given connection(s)\n   *\n   * @param connection Connections to remove gate - _i.e. remove this node from_\n   */\n  public removeGate(connection: Connection): void {\n    this.gated.delete(connection);\n    connection.gateNode = null;\n    connection.gain = 1;\n  }\n\n  /**\n   * Connects this node to the given node(s)\n   *\n   * @param target Node(s) to project connection(s) to\n   * @param weight Initial connection(s) [weight](https://en.wikipedia.org/wiki/Synaptic_weight)\n   * @param twoSided If `true` connect nodes to each other\n   */\n  public connect(target: Node, weight = 1, twoSided = false): Connection {\n    if (target === this) {\n      // self connection\n      this.selfConnection.weight = weight;\n      return this.selfConnection;\n    } else if (this.isProjectingTo(target)) {\n      throw new ReferenceError('There is already a connection!'); // already connected\n    } else {\n      const connection: Connection = new Connection(this, target, weight); // create new connection\n\n      // add it to the arrays\n      this.outgoing.add(connection);\n      target.incoming.add(connection);\n\n      if (twoSided) {\n        target.connect(this); // connect in the other direction\n      }\n      return connection;\n    }\n  }\n\n  /**\n   * Disconnects this node from the given node(s)\n   *\n   * @param node Node(s) to remove connection(s) to\n   * @param twoSided=false If `true` disconnects nodes from each other (i.e. both sides)\n   */\n  public disconnect(node: Node, twoSided = false): Connection {\n    if (node === this) {\n      // self connection\n      this.selfConnection.weight = 0; // set weight to 0\n      return this.selfConnection;\n    }\n\n    const connections: Connection[] = Array.from(this.outgoing).filter(\n      conn => conn.to === node\n    );\n\n    if (connections.length === 0) {\n      throw new Error('No Connection found');\n    }\n    const connection: Connection = connections[0];\n\n    // remove it from the arrays\n    this.outgoing.delete(connection);\n    connection.to.incoming.delete(connection);\n\n    if (connection.gateNode !== undefined && connection.gateNode !== null) {\n      connection.gateNode.removeGate(connection); // if connection is gated -> remove gate\n    }\n    if (twoSided) {\n      node.disconnect(this); // disconnect the other direction\n    }\n\n    return connection;\n  }\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   *\n   * @see [Regularization Neataptic](https://wagenaartje.github.io/neataptic/docs/methods/regularization/)\n   * @see [What is backpropagation | YouTube](https://www.youtube.com/watch?v=Ilg3gGewQ5U)\n   */\n  public propagate(\n    target?: number,\n    options: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    } = {}\n  ): void {\n    options.momentum = options.momentum ?? 0;\n    options.rate = options.rate ?? 0.3;\n    options.update = options.update ?? true;\n\n    if (target !== undefined && Number.isFinite(target)) {\n      this.errorResponsibility = this.errorProjected = target - this.activation;\n    } else {\n      this.errorProjected = 0;\n      this.outgoing.forEach(connection => {\n        this.errorProjected +=\n          connection.to.errorResponsibility *\n          connection.weight *\n          connection.gain;\n      });\n      this.errorProjected *= this.derivativeState;\n\n      this.errorGated = 0;\n      this.gated.forEach(connection => {\n        let influence: number;\n        if (connection.to.selfConnection.gateNode === this) {\n          // self connection is gated with this node\n          influence =\n            connection.to.old + connection.weight * connection.from.activation;\n        } else {\n          influence = connection.weight * connection.from.activation;\n        }\n\n        this.errorGated += connection.to.errorResponsibility * influence;\n      });\n      this.errorGated *= this.derivativeState;\n\n      this.errorResponsibility = this.errorProjected + this.errorGated;\n    }\n\n    this.incoming.forEach(connection => {\n      // calculate gradient\n      let gradient: number = this.errorProjected * connection.eligibility;\n      connection.xTrace.forEach(\n        (value, key) => (gradient += key.errorResponsibility * value)\n      );\n\n      connection.deltaWeightsTotal +=\n        (options.rate ?? 0.3) * gradient * this.mask;\n      if (options.update) {\n        connection.deltaWeightsTotal +=\n          (options.momentum ?? 0) * connection.deltaWeightsPrevious;\n        connection.weight += connection.deltaWeightsTotal;\n        connection.deltaWeightsPrevious = connection.deltaWeightsTotal;\n        connection.deltaWeightsTotal = 0;\n      }\n    });\n\n    this.deltaBiasTotal += options.rate * this.errorResponsibility;\n    if (options.update) {\n      this.deltaBiasTotal += options.momentum * this.deltaBiasPrevious;\n      this.bias += this.deltaBiasTotal;\n      this.deltaBiasPrevious = this.deltaBiasTotal;\n      this.deltaBiasTotal = 0;\n    }\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @param [input] Environment signal (i.e. optional numerical value passed to the network as input)  - _should only be passed in input neurons_\n   * @param [trace] Controls whether traces are created when activation happens (a trace is meta information left behind for different uses, e.g. backpropagation).\n   *\n   * @returns A neuron's ['Squashed'](https://medium.com/the-theory-of-everything/understanding-activation-functions-in-neural-networks-9491262884e0) output value\n   */\n  public activate(input?: number, trace = true): number {\n    if (input !== undefined) {\n      return (this.activation = input);\n    } else if (this.isInputNode()) {\n      throw new ReferenceError('There is no input given to an input node!');\n    }\n\n    if (trace) {\n      this.old = this.state;\n\n      this.state =\n        this.selfConnection.gain * this.selfConnection.weight * this.state +\n        this.bias;\n\n      this.incoming.forEach(conn => {\n        this.state += conn.from.activation * conn.weight * conn.gain;\n      });\n\n      this.activation = this.squash(this.state, false) * this.mask;\n      this.derivativeState = this.squash(this.state, true);\n\n      // store traces\n      const nodes: Node[] = [];\n      const influences: number[] = [];\n\n      // Adjust 'gain' (to gated connections) & Build traces\n      this.gated.forEach(connection => {\n        connection.gain = this.activation;\n\n        // Build traces\n        const index: number = nodes.indexOf(connection.to);\n        if (index > -1) {\n          // Node & influence exist\n          influences[index] += connection.weight * connection.from.activation;\n        } else {\n          // Add node & corresponding influence\n          nodes.push(connection.to);\n          if (connection.to.selfConnection.gateNode === this) {\n            influences.push(\n              connection.weight * connection.from.activation + connection.to.old\n            );\n          } else {\n            influences.push(connection.weight * connection.from.activation);\n          }\n        }\n      });\n\n      // Forwarding 'xTrace' (to incoming connections)\n      this.incoming.forEach(connection => {\n        connection.eligibility =\n          this.selfConnection.gain *\n            this.selfConnection.weight *\n            connection.eligibility +\n          connection.from.activation * connection.gain;\n\n        for (let i = 0; i < nodes.length; i++) {\n          const node: Node = nodes[i];\n          const influence: number = influences[i];\n\n          if (connection.xTrace.has(node)) {\n            connection.xTrace.set(\n              node,\n              node.selfConnection.gain *\n                node.selfConnection.weight *\n                (connection.xTrace.get(node) ?? 0) +\n                this.derivativeState * connection.eligibility * influence\n            );\n          } else {\n            connection.xTrace.set(\n              node,\n              this.derivativeState * connection.eligibility * influence\n            );\n          }\n        }\n      });\n\n      return this.activation;\n    } else {\n      if (this.isInputNode()) return (this.activation = 0);\n\n      this.state =\n        this.selfConnection.gain * this.selfConnection.weight * this.state +\n        this.bias;\n\n      this.incoming.forEach(\n        connection =>\n          (this.state +=\n            connection.from.activation * connection.weight * connection.gain)\n      );\n\n      this.activation = this.squash(this.state, false);\n\n      // Adjust gain\n      this.gated.forEach(connection => (connection.gain = this.activation));\n\n      return this.activation;\n    }\n  }\n\n  /**\n   * Converts the node to a json object that can later be converted back\n   *\n   * @returns A node representing json object\n   */\n  public toJSON(): NodeJSON {\n    return {\n      bias: this.bias,\n      type: this.type,\n      squash: this.squash,\n      mask: this.mask,\n      index: this.index,\n    };\n  }\n\n  /**\n   * Is this a input Node?\n   */\n  public isInputNode(): boolean {\n    return this.type === NodeType.INPUT;\n  }\n\n  /**\n   * Is this a hidden Node?\n   */\n  public isHiddenNode(): boolean {\n    return this.type === NodeType.HIDDEN;\n  }\n\n  /**\n   * Is this a output Node?\n   */\n  public isOutputNode(): boolean {\n    return this.type === NodeType.OUTPUT;\n  }\n\n  /**\n   * Set bias.\n   *\n   * @param bias the new bias value\n   */\n  public setBias(bias: number): Node {\n    this.bias = bias;\n    return this;\n  }\n\n  /**\n   * Set activation type\n   *\n   * @param activation the new activation type\n   */\n  public setActivationType(activation: ActivationType): Node {\n    this.squash = activation;\n    return this;\n  }\n}\n","/**\n * The type of gating.\n */\nexport enum GatingType {\n  /**\n   * Gate incoming connections.\n   */\n  INPUT,\n  /**\n   * Gate self connections.\n   */\n  SELF,\n  /**\n   * Gate outgoing connections.\n   */\n  OUTPUT,\n}\n","import {ConnectionType} from '../../enums/ConnectionType';\nimport {GatingType} from '../../enums/GatingType';\nimport {Connection} from '../Connection';\nimport {Node} from '../Node';\n\n/**\n * Parent class for layers.\n */\nexport abstract class Layer {\n  /**\n   * The output size of the layer.\n   */\n  public readonly outputSize: number;\n  /**\n   * The nodes which gets connected to the previous layer.\n   */\n  public readonly inputNodes: Set<Node>;\n  /**\n   * The nodes which gets connected to the next layer.\n   */\n  public outputNodes: Set<Node>;\n  /**\n   * All nodes in this layer.\n   */\n  public readonly nodes: Node[];\n  /**\n   * All connections in this layer.\n   */\n  public readonly connections: Connection[];\n  /**\n   * All gates in this layer.\n   */\n  public readonly gates: Connection[];\n\n  protected constructor(outputSize: number) {\n    this.outputSize = outputSize;\n    this.nodes = [];\n    this.inputNodes = new Set<Node>();\n    this.outputNodes = new Set<Node>();\n    this.connections = [];\n    this.gates = [];\n  }\n\n  /**\n   * Connect two Layers or sets of Nodes.\n   *\n   * @param from origin Nodes / Layer\n   * @param to destination Nodes / Layer\n   * @param connectionType The type of connection\n   * @param weight the initial weights for all new connections\n   *\n   * @returns all created connections\n   */\n  public static connect(\n    from: Layer | Set<Node> | Node[],\n    to: Layer | Set<Node> | Node[],\n    connectionType: ConnectionType = ConnectionType.ALL_TO_ALL,\n    weight = 1\n  ): Connection[] {\n    if (connectionType === ConnectionType.NO_CONNECTION) {\n      throw new ReferenceError(\n        \"Cannot connect with 'NO_CONNECTION' connection type\"\n      );\n    }\n\n    const fromNodes: Node[] = Array.from(\n      from instanceof Layer ? from.outputNodes : from\n    );\n    const toNodes: Node[] = Array.from(\n      to instanceof Layer ? to.inputNodes : to\n    );\n\n    if (toNodes.length === 0) {\n      throw new ReferenceError('Target from has no input nodes!');\n    }\n    if (fromNodes.length === 0) {\n      throw new ReferenceError('This from has no output nodes!');\n    }\n\n    const connections: Connection[] = [];\n    if (connectionType === ConnectionType.ALL_TO_ALL) {\n      fromNodes.forEach(fromNode => {\n        toNodes.forEach(toNode => {\n          connections.push(fromNode.connect(toNode, weight)); // connect every \"from node\" to every \"to node\"\n        });\n      });\n    } else if (connectionType === ConnectionType.ONE_TO_ONE) {\n      if (fromNodes.length !== toNodes.length) {\n        throw new RangeError(\n          \"Can't connect one to one! Number of output nodes from are unequal number of incoming nodes from next layer!\"\n        );\n      }\n      for (let i = 0; i < fromNodes.length; i++) {\n        connections.push(fromNodes[i].connect(toNodes[i], weight)); // connect every nodes with same indices\n      }\n    } else if (connectionType === ConnectionType.POOLING) {\n      // connect the same amount of input nodes to every output node\n      // every input node has only one connection available\n      const ratio: number = toNodes.length / fromNodes.length;\n      connections.push(\n        ...fromNodes.map((node, index) =>\n          node.connect(toNodes[Math.floor(index * ratio)], weight)\n        )\n      );\n    }\n    return connections;\n  }\n\n  /**\n   * Gate nodes and connections.\n   *\n   * @param nodes the nodes which function as gateNodes\n   * @param connections the connections which will be gated\n   * @param gateType The type of gating\n   *\n   * @returns all gated connections\n   */\n  public static gate(\n    nodes: Node[],\n    connections: Connection[],\n    gateType: GatingType\n  ): Connection[] {\n    const gatedConnections: Connection[] = [];\n    switch (gateType) {\n      case GatingType.INPUT: {\n        // gate incoming connections\n        const toNodes: Node[] = Array.from(\n          new Set(connections.map(conn => conn.to))\n        );\n\n        for (let i = 0; i < toNodes.length; i++) {\n          const node: Node = toNodes[i];\n          const gateNode: Node = nodes[i % nodes.length];\n\n          node.incoming.forEach(conn => {\n            if (connections.includes(conn)) {\n              gateNode.addGate(conn);\n              gatedConnections.push(conn);\n            }\n          });\n        }\n        break;\n      }\n      case GatingType.SELF: {\n        // gate self connections\n        const fromNodes: Node[] = Array.from(\n          new Set(connections.map(conn => conn.from))\n        );\n\n        for (let i = 0; i < fromNodes.length; i++) {\n          if (connections.includes(fromNodes[i].selfConnection)) {\n            nodes[i % nodes.length].addGate(fromNodes[i].selfConnection);\n            gatedConnections.push(fromNodes[i].selfConnection);\n          }\n        }\n        break;\n      }\n      case GatingType.OUTPUT: {\n        // gate outgoing connections\n        const fromNodes: Node[] = Array.from(\n          new Set(connections.map(conn => conn.from))\n        );\n        for (let i = 0; i < fromNodes.length; i++) {\n          const node: Node = fromNodes[i];\n          const gateNode: Node = nodes[i % nodes.length];\n\n          node.outgoing.forEach(conn => {\n            if (connections.includes(conn)) {\n              gateNode.addGate(conn);\n              gatedConnections.push(conn);\n            }\n          });\n        }\n        break;\n      }\n    }\n\n    return gatedConnections;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public abstract getDefaultIncomingConnectionType(): ConnectionType;\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @param type the type to check\n   *\n   * @return Is this connection type allowed?\n   */\n  public abstract connectionTypeisAllowed(type: ConnectionType): boolean;\n}\n","import {Identitiy} from 'activations/build/src';\nimport {NodeType} from '../../enums/NodeType';\nimport {NodeJSON} from '../../interfaces/NodeJSON';\nimport {Node} from '../Node';\n\n/**\n * Constant node\n */\nexport abstract class ConstantNode extends Node {\n  protected constructor() {\n    super(NodeType.HIDDEN);\n    this.bias = 1;\n  }\n\n  /**\n   * Create a constant node from json object.\n   *\n   * @param json the json object representing the node\n   *\n   * @returns the created node\n   */\n  public fromJSON(json: NodeJSON): Node {\n    this.index = json.index ?? -1;\n    this.squash = json.squash ?? Identitiy;\n    return this;\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @returns A neuron's output value\n   */\n  public abstract activate(): number;\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   */\n  public abstract propagate(\n    target?: number,\n    options?: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    }\n  ): void;\n\n  /**\n   * Convert this node into a json object.\n   *\n   * @returns the json object representing this node\n   */\n  public toJSON(): NodeJSON {\n    return {index: this.index, squash: this.squash};\n  }\n\n  /**\n   * Bias mutations aren't allowed for a constant node.\n   */\n  public mutateBias(): void {\n    throw new ReferenceError('Cannot mutate a pool node!');\n  }\n\n  /**\n   * Activation mutations aren't allowed for a constant node.\n   */\n  public mutateActivation(): void {\n    throw new ReferenceError('Cannot mutate a pool node!');\n  }\n\n  /**\n   * Constant nodes can't gate a connection.\n   */\n  public addGate(): void {\n    throw new ReferenceError(\"A pool node can't gate a connection!\");\n  }\n\n  /**\n   * Constant nodes can't gate a connection.\n   */\n  public removeGate(): void {\n    throw new ReferenceError(\"A pool node can't gate a connection!\");\n  }\n\n  /**\n   * Can't set the bias of a constant node.\n   */\n  public setBias(): Node {\n    throw new ReferenceError('Cannot set the bias of a pool node!');\n  }\n}\n","import {NoiseNodeType} from '../../enums/NodeType';\nimport {avg, generateGaussian, sum} from '../../utils/Utils';\nimport {ConstantNode} from './ConstantNode';\n\n/**\n * Noise node\n */\nexport class NoiseNode extends ConstantNode {\n  /**\n   * The type of noise\n   */\n  private readonly noiseType: NoiseNodeType;\n  /**\n   * More options for applying noise\n   */\n  private readonly options: {\n    /**\n     * Options for gaussian noise\n     */\n    gaussian?: {\n      /**\n       * Mean value\n       */\n      mean?: number;\n      /**\n       * Standard deviation\n       */\n      deviation?: number;\n    };\n  };\n\n  constructor(\n    options: {\n      /**\n       * The type of noise\n       */\n      noiseType?: NoiseNodeType;\n      /**\n       * Options for gaussian noise\n       */\n      gaussian?: {\n        /**\n         * Mean value\n         */\n        mean?: number;\n        /**\n         * Standard deviation\n         */\n        deviation?: number;\n      };\n    } = {}\n  ) {\n    super();\n    this.noiseType = options.noiseType ?? NoiseNodeType.GAUSSIAN_NOISE;\n    this.options = options;\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @returns A neuron's output value\n   */\n  public activate(): number {\n    this.old = this.state;\n\n    const incomingStates: number[] = Array.from(this.incoming).map(\n      conn => conn.from.activation * conn.weight * conn.gain\n    );\n\n    switch (this.noiseType) {\n      case NoiseNodeType.GAUSSIAN_NOISE:\n        this.state =\n          avg(incomingStates) +\n          generateGaussian(\n            this.options.gaussian?.mean ?? 0,\n            this.options.gaussian?.deviation ?? 2\n          );\n        break;\n      default:\n        throw new ReferenceError('Cannot activate this noise type!');\n    }\n\n    this.activation = this.squash(this.state, false) * this.mask;\n    this.derivativeState = this.squash(this.state, true);\n\n    return this.activation;\n  }\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   */\n  public propagate(\n    target?: number,\n    options: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    } = {}\n  ): void {\n    options.momentum = options.momentum ?? 0;\n    options.rate = options.rate ?? 0.3;\n    options.update = options.update ?? true;\n\n    const connectionsStates: number[] = Array.from(this.outgoing).map(\n      conn => conn.to.errorResponsibility * conn.weight * conn.gain\n    );\n    this.errorResponsibility = this.errorProjected =\n      sum(connectionsStates) * this.derivativeState;\n\n    this.incoming.forEach(connection => {\n      // calculate gradient\n      let gradient: number = this.errorProjected * connection.eligibility;\n      connection.xTrace.forEach((value, key) => {\n        gradient += key.errorResponsibility * value;\n      });\n\n      connection.deltaWeightsTotal +=\n        (options.rate ?? 0.3) * gradient * this.mask;\n      if (options.update) {\n        connection.deltaWeightsTotal +=\n          (options.momentum ?? 0) * connection.deltaWeightsPrevious;\n        connection.weight += connection.deltaWeightsTotal;\n        connection.deltaWeightsPrevious = connection.deltaWeightsTotal;\n        connection.deltaWeightsTotal = 0;\n      }\n    });\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NoiseNodeType} from '../../../enums/NodeType';\nimport {NoiseNode} from '../../Nodes/NoiseNode';\nimport {Layer} from '../Layer';\n\n/**\n * Noise layer\n */\nexport class NoiseLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n      /**\n       * The mean value for gaussian noise\n       */\n      mean?: number;\n      /**\n       * The standard deviation for gaussian noise\n       */\n      deviation?: number;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activation: ActivationType = options.activation ?? Identitiy;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new NoiseNode({\n          noiseType: NoiseNodeType.GAUSSIAN_NOISE,\n          gaussian: options,\n        }).setActivationType(activation)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ONE_TO_ONE;\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @param type the type to check\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(type: ConnectionType): boolean {\n    return type === ConnectionType.ONE_TO_ONE;\n  }\n}\n","import {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType, NoiseNodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\nimport {NoiseLayer} from '../NoiseLayers/NoiseLayer';\n\n/**\n * Input layer\n */\nexport class InputLayer extends Layer {\n  public constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The noise type\n       */\n      noise?: NoiseNodeType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    for (let i = 0; i < outputSize; i++) {\n      const node: Node = new Node(NodeType.INPUT);\n      this.nodes.push(node);\n    }\n\n    if (options.noise) {\n      const noiseLayer: NoiseLayer = new NoiseLayer(options.noise);\n      noiseLayer.outputNodes.forEach(node => this.outputNodes.add(node));\n      this.connections.push(\n        ...Layer.connect(\n          this.nodes,\n          noiseLayer,\n          noiseLayer.getDefaultIncomingConnectionType()\n        )\n      );\n    } else {\n      this.nodes.forEach(node => this.outputNodes.add(node));\n    }\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.NO_CONNECTION;\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @param type the type to check\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(type: ConnectionType): boolean {\n    return type === ConnectionType.NO_CONNECTION;\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * Output layer\n */\nexport class OutputLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activation: ActivationType = options.activation ?? Identitiy;\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new Node(NodeType.OUTPUT).setActivationType(activation)\n      );\n    }\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n\n  /**\n   * A outgoing connection is not allowed for an output layer!\n   */\n  public connect(): void {\n    throw new ReferenceError('Could not connect an OutputLayer!');\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","export function extendSerializer(extend, implementation) {\n    const fallbackDeserializer = extend.deserialize.bind(extend);\n    const fallbackSerializer = extend.serialize.bind(extend);\n    return {\n        deserialize(message) {\n            return implementation.deserialize(message, fallbackDeserializer);\n        },\n        serialize(input) {\n            return implementation.serialize(input, fallbackSerializer);\n        }\n    };\n}\nconst DefaultErrorSerializer = {\n    deserialize(message) {\n        return Object.assign(Error(message.message), {\n            name: message.name,\n            stack: message.stack\n        });\n    },\n    serialize(error) {\n        return {\n            __error_marker: \"$$error\",\n            message: error.message,\n            name: error.name,\n            stack: error.stack\n        };\n    }\n};\nconst isSerializedError = (thing) => thing && typeof thing === \"object\" && \"__error_marker\" in thing && thing.__error_marker === \"$$error\";\nexport const DefaultSerializer = {\n    deserialize(message) {\n        if (isSerializedError(message)) {\n            return DefaultErrorSerializer.deserialize(message);\n        }\n        else {\n            return message;\n        }\n    },\n    serialize(input) {\n        if (input instanceof Error) {\n            return DefaultErrorSerializer.serialize(input);\n        }\n        else {\n            return input;\n        }\n    }\n};\n","import { extendSerializer, DefaultSerializer } from \"./serializers\";\nlet registeredSerializer = DefaultSerializer;\nexport function registerSerializer(serializer) {\n    registeredSerializer = extendSerializer(registeredSerializer, serializer);\n}\nexport function deserialize(message) {\n    return registeredSerializer.deserialize(message);\n}\nexport function serialize(input) {\n    return registeredSerializer.serialize(input);\n}\n","// Source: <https://github.com/parcel-bundler/parcel/blob/master/packages/core/parcel-bundler/src/builtins/bundle-url.js>\nlet bundleURL;\nfunction getBundleURLCached() {\n    if (!bundleURL) {\n        bundleURL = getBundleURL();\n    }\n    return bundleURL;\n}\nfunction getBundleURL() {\n    // Attempt to find the URL of the current script and use that as the base URL\n    try {\n        throw new Error;\n    }\n    catch (err) {\n        const matches = (\"\" + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n        if (matches) {\n            return getBaseURL(matches[0]);\n        }\n    }\n    return \"/\";\n}\nfunction getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\nexport { getBaseURL, getBundleURLCached as getBundleURL };\n","// tslint:disable max-classes-per-file\nimport { getBundleURL } from \"./get-bundle-url.browser\";\nexport const defaultPoolSize = typeof navigator !== \"undefined\" && navigator.hardwareConcurrency\n    ? navigator.hardwareConcurrency\n    : 4;\nconst isAbsoluteURL = (value) => /^(file|https?:)?\\/\\//i.test(value);\nfunction createSourceBlobURL(code) {\n    const blob = new Blob([code], { type: \"application/javascript\" });\n    return URL.createObjectURL(blob);\n}\nexport function selectWorkerImplementation() {\n    if (typeof Worker === \"undefined\") {\n        // Might happen on Safari, for instance\n        // The idea is to only fail if the constructor is actually used\n        return class NoWebWorker {\n            constructor() {\n                throw Error(\"No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.\");\n            }\n        };\n    }\n    return class WebWorker extends Worker {\n        constructor(url, options) {\n            if (typeof url === \"string\" && options && options._baseURL) {\n                url = new URL(url, options._baseURL);\n            }\n            else if (typeof url === \"string\" && !isAbsoluteURL(url) && getBundleURL().match(/^file:\\/\\//i)) {\n                url = new URL(url, getBundleURL().replace(/\\/[^\\/]+$/, \"/\"));\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            if (typeof url === \"string\" && isAbsoluteURL(url)) {\n                // Create source code blob loading JS file via `importScripts()`\n                // to circumvent worker CORS restrictions\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            super(url, options);\n        }\n    };\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class AsyncSerialScheduler {\n    constructor(observer) {\n        this._baseObserver = observer;\n        this._pendingPromises = new Set();\n    }\n    complete() {\n        Promise.all(this._pendingPromises)\n            .then(() => this._baseObserver.complete())\n            .catch(error => this._baseObserver.error(error));\n    }\n    error(error) {\n        this._baseObserver.error(error);\n    }\n    schedule(task) {\n        const prevPromisesCompletion = Promise.all(this._pendingPromises);\n        const values = [];\n        const next = (value) => values.push(value);\n        const promise = Promise.resolve()\n            .then(() => __awaiter(this, void 0, void 0, function* () {\n            yield prevPromisesCompletion;\n            yield task(next);\n            this._pendingPromises.delete(promise);\n            for (const value of values) {\n                this._baseObserver.next(value);\n            }\n        }))\n            .catch(error => {\n            this._pendingPromises.delete(promise);\n            this._baseObserver.error(error);\n        });\n        this._pendingPromises.add(promise);\n    }\n}\n","export const hasSymbols = () => typeof Symbol === \"function\";\nexport const hasSymbol = (name) => hasSymbols() && Boolean(Symbol[name]);\nexport const getSymbol = (name) => hasSymbol(name) ? Symbol[name] : \"@@\" + name;\nexport function registerObservableSymbol() {\n    if (hasSymbols() && !hasSymbol(\"observable\")) {\n        Symbol.observable = Symbol(\"observable\");\n    }\n}\nif (!hasSymbol(\"asyncIterator\")) {\n    Symbol.asyncIterator = Symbol.asyncIterator || Symbol.for(\"Symbol.asyncIterator\");\n}\n","/**\n * Based on <https://raw.githubusercontent.com/zenparsing/zen-observable/master/src/Observable.js>\n * At commit: f63849a8c60af5d514efc8e9d6138d8273c49ad6\n */\n/// <reference path=\"../types/symbols.d.ts\" />\nimport { getSymbol, hasSymbol, hasSymbols } from \"./_symbols\";\nconst SymbolIterator = getSymbol(\"iterator\");\nconst SymbolObservable = getSymbol(\"observable\");\nconst SymbolSpecies = getSymbol(\"species\");\n// === Abstract Operations ===\nfunction getMethod(obj, key) {\n    const value = obj[key];\n    if (value == null) {\n        return undefined;\n    }\n    if (typeof value !== \"function\") {\n        throw new TypeError(value + \" is not a function\");\n    }\n    return value;\n}\nfunction getSpecies(obj) {\n    let ctor = obj.constructor;\n    if (ctor !== undefined) {\n        ctor = ctor[SymbolSpecies];\n        if (ctor === null) {\n            ctor = undefined;\n        }\n    }\n    return ctor !== undefined ? ctor : Observable;\n}\nfunction isObservable(x) {\n    return x instanceof Observable; // SPEC: Brand check\n}\nfunction hostReportError(error) {\n    if (hostReportError.log) {\n        hostReportError.log(error);\n    }\n    else {\n        setTimeout(() => { throw error; }, 0);\n    }\n}\nfunction enqueue(fn) {\n    Promise.resolve().then(() => {\n        try {\n            fn();\n        }\n        catch (e) {\n            hostReportError(e);\n        }\n    });\n}\nfunction cleanupSubscription(subscription) {\n    const cleanup = subscription._cleanup;\n    if (cleanup === undefined) {\n        return;\n    }\n    subscription._cleanup = undefined;\n    if (!cleanup) {\n        return;\n    }\n    try {\n        if (typeof cleanup === \"function\") {\n            cleanup();\n        }\n        else {\n            const unsubscribe = getMethod(cleanup, \"unsubscribe\");\n            if (unsubscribe) {\n                unsubscribe.call(cleanup);\n            }\n        }\n    }\n    catch (e) {\n        hostReportError(e);\n    }\n}\nfunction closeSubscription(subscription) {\n    subscription._observer = undefined;\n    subscription._queue = undefined;\n    subscription._state = \"closed\";\n}\nfunction flushSubscription(subscription) {\n    const queue = subscription._queue;\n    if (!queue) {\n        return;\n    }\n    subscription._queue = undefined;\n    subscription._state = \"ready\";\n    for (const item of queue) {\n        notifySubscription(subscription, item.type, item.value);\n        if (subscription._state === \"closed\") {\n            break;\n        }\n    }\n}\nfunction notifySubscription(subscription, type, value) {\n    subscription._state = \"running\";\n    const observer = subscription._observer;\n    try {\n        const m = observer ? getMethod(observer, type) : undefined;\n        switch (type) {\n            case \"next\":\n                if (m)\n                    m.call(observer, value);\n                break;\n            case \"error\":\n                closeSubscription(subscription);\n                if (m)\n                    m.call(observer, value);\n                else\n                    throw value;\n                break;\n            case \"complete\":\n                closeSubscription(subscription);\n                if (m)\n                    m.call(observer);\n                break;\n        }\n    }\n    catch (e) {\n        hostReportError(e);\n    }\n    if (subscription._state === \"closed\") {\n        cleanupSubscription(subscription);\n    }\n    else if (subscription._state === \"running\") {\n        subscription._state = \"ready\";\n    }\n}\nfunction onNotify(subscription, type, value) {\n    if (subscription._state === \"closed\") {\n        return;\n    }\n    if (subscription._state === \"buffering\") {\n        subscription._queue = subscription._queue || [];\n        subscription._queue.push({ type, value });\n        return;\n    }\n    if (subscription._state !== \"ready\") {\n        subscription._state = \"buffering\";\n        subscription._queue = [{ type, value }];\n        enqueue(() => flushSubscription(subscription));\n        return;\n    }\n    notifySubscription(subscription, type, value);\n}\nexport class Subscription {\n    constructor(observer, subscriber) {\n        // ASSERT: observer is an object\n        // ASSERT: subscriber is callable\n        this._cleanup = undefined;\n        this._observer = observer;\n        this._queue = undefined;\n        this._state = \"initializing\";\n        const subscriptionObserver = new SubscriptionObserver(this);\n        try {\n            this._cleanup = subscriber.call(undefined, subscriptionObserver);\n        }\n        catch (e) {\n            subscriptionObserver.error(e);\n        }\n        if (this._state === \"initializing\") {\n            this._state = \"ready\";\n        }\n    }\n    get closed() {\n        return this._state === \"closed\";\n    }\n    unsubscribe() {\n        if (this._state !== \"closed\") {\n            closeSubscription(this);\n            cleanupSubscription(this);\n        }\n    }\n}\nexport class SubscriptionObserver {\n    constructor(subscription) { this._subscription = subscription; }\n    get closed() { return this._subscription._state === \"closed\"; }\n    next(value) { onNotify(this._subscription, \"next\", value); }\n    error(value) { onNotify(this._subscription, \"error\", value); }\n    complete() { onNotify(this._subscription, \"complete\"); }\n}\n/**\n * The basic Observable class. This primitive is used to wrap asynchronous\n * data streams in a common standardized data type that is interoperable\n * between libraries and can be composed to represent more complex processes.\n */\nexport class Observable {\n    constructor(subscriber) {\n        if (!(this instanceof Observable)) {\n            throw new TypeError(\"Observable cannot be called as a function\");\n        }\n        if (typeof subscriber !== \"function\") {\n            throw new TypeError(\"Observable initializer must be a function\");\n        }\n        this._subscriber = subscriber;\n    }\n    subscribe(nextOrObserver, onError, onComplete) {\n        if (typeof nextOrObserver !== \"object\" || nextOrObserver === null) {\n            nextOrObserver = {\n                next: nextOrObserver,\n                error: onError,\n                complete: onComplete\n            };\n        }\n        return new Subscription(nextOrObserver, this._subscriber);\n    }\n    pipe(first, ...mappers) {\n        // tslint:disable-next-line no-this-assignment\n        let intermediate = this;\n        for (const mapper of [first, ...mappers]) {\n            intermediate = mapper(intermediate);\n        }\n        return intermediate;\n    }\n    tap(nextOrObserver, onError, onComplete) {\n        const tapObserver = typeof nextOrObserver !== \"object\" || nextOrObserver === null\n            ? {\n                next: nextOrObserver,\n                error: onError,\n                complete: onComplete\n            }\n            : nextOrObserver;\n        return new Observable(observer => {\n            return this.subscribe({\n                next(value) {\n                    tapObserver.next && tapObserver.next(value);\n                    observer.next(value);\n                },\n                error(error) {\n                    tapObserver.error && tapObserver.error(error);\n                    observer.error(error);\n                },\n                complete() {\n                    tapObserver.complete && tapObserver.complete();\n                    observer.complete();\n                },\n                start(subscription) {\n                    tapObserver.start && tapObserver.start(subscription);\n                }\n            });\n        });\n    }\n    forEach(fn) {\n        return new Promise((resolve, reject) => {\n            if (typeof fn !== \"function\") {\n                reject(new TypeError(fn + \" is not a function\"));\n                return;\n            }\n            function done() {\n                subscription.unsubscribe();\n                resolve();\n            }\n            const subscription = this.subscribe({\n                next(value) {\n                    try {\n                        fn(value, done);\n                    }\n                    catch (e) {\n                        reject(e);\n                        subscription.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n        });\n    }\n    map(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => this.subscribe({\n            next(value) {\n                let propagatedValue = value;\n                try {\n                    propagatedValue = fn(value);\n                }\n                catch (e) {\n                    return observer.error(e);\n                }\n                observer.next(propagatedValue);\n            },\n            error(e) { observer.error(e); },\n            complete() { observer.complete(); },\n        }));\n    }\n    filter(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => this.subscribe({\n            next(value) {\n                try {\n                    if (!fn(value))\n                        return;\n                }\n                catch (e) {\n                    return observer.error(e);\n                }\n                observer.next(value);\n            },\n            error(e) { observer.error(e); },\n            complete() { observer.complete(); },\n        }));\n    }\n    reduce(fn, seed) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        const hasSeed = arguments.length > 1;\n        let hasValue = false;\n        let acc = seed;\n        return new C(observer => this.subscribe({\n            next(value) {\n                const first = !hasValue;\n                hasValue = true;\n                if (!first || hasSeed) {\n                    try {\n                        acc = fn(acc, value);\n                    }\n                    catch (e) {\n                        return observer.error(e);\n                    }\n                }\n                else {\n                    acc = value;\n                }\n            },\n            error(e) { observer.error(e); },\n            complete() {\n                if (!hasValue && !hasSeed) {\n                    return observer.error(new TypeError(\"Cannot reduce an empty sequence\"));\n                }\n                observer.next(acc);\n                observer.complete();\n            },\n        }));\n    }\n    concat(...sources) {\n        const C = getSpecies(this);\n        return new C(observer => {\n            let subscription;\n            let index = 0;\n            function startNext(next) {\n                subscription = next.subscribe({\n                    next(v) { observer.next(v); },\n                    error(e) { observer.error(e); },\n                    complete() {\n                        if (index === sources.length) {\n                            subscription = undefined;\n                            observer.complete();\n                        }\n                        else {\n                            startNext(C.from(sources[index++]));\n                        }\n                    },\n                });\n            }\n            startNext(this);\n            return () => {\n                if (subscription) {\n                    subscription.unsubscribe();\n                    subscription = undefined;\n                }\n            };\n        });\n    }\n    flatMap(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => {\n            const subscriptions = [];\n            const outer = this.subscribe({\n                next(value) {\n                    let normalizedValue;\n                    if (fn) {\n                        try {\n                            normalizedValue = fn(value);\n                        }\n                        catch (e) {\n                            return observer.error(e);\n                        }\n                    }\n                    else {\n                        normalizedValue = value;\n                    }\n                    const inner = C.from(normalizedValue).subscribe({\n                        next(innerValue) { observer.next(innerValue); },\n                        error(e) { observer.error(e); },\n                        complete() {\n                            const i = subscriptions.indexOf(inner);\n                            if (i >= 0)\n                                subscriptions.splice(i, 1);\n                            completeIfDone();\n                        },\n                    });\n                    subscriptions.push(inner);\n                },\n                error(e) { observer.error(e); },\n                complete() { completeIfDone(); },\n            });\n            function completeIfDone() {\n                if (outer.closed && subscriptions.length === 0) {\n                    observer.complete();\n                }\n            }\n            return () => {\n                subscriptions.forEach(s => s.unsubscribe());\n                outer.unsubscribe();\n            };\n        });\n    }\n    [SymbolObservable]() { return this; }\n    static from(x) {\n        const C = (typeof this === \"function\" ? this : Observable);\n        if (x == null) {\n            throw new TypeError(x + \" is not an object\");\n        }\n        const observableMethod = getMethod(x, SymbolObservable);\n        if (observableMethod) {\n            const observable = observableMethod.call(x);\n            if (Object(observable) !== observable) {\n                throw new TypeError(observable + \" is not an object\");\n            }\n            if (isObservable(observable) && observable.constructor === C) {\n                return observable;\n            }\n            return new C(observer => observable.subscribe(observer));\n        }\n        if (hasSymbol(\"iterator\")) {\n            const iteratorMethod = getMethod(x, SymbolIterator);\n            if (iteratorMethod) {\n                return new C(observer => {\n                    enqueue(() => {\n                        if (observer.closed)\n                            return;\n                        for (const item of iteratorMethod.call(x)) {\n                            observer.next(item);\n                            if (observer.closed)\n                                return;\n                        }\n                        observer.complete();\n                    });\n                });\n            }\n        }\n        if (Array.isArray(x)) {\n            return new C(observer => {\n                enqueue(() => {\n                    if (observer.closed)\n                        return;\n                    for (const item of x) {\n                        observer.next(item);\n                        if (observer.closed)\n                            return;\n                    }\n                    observer.complete();\n                });\n            });\n        }\n        throw new TypeError(x + \" is not observable\");\n    }\n    static of(...items) {\n        const C = (typeof this === \"function\" ? this : Observable);\n        return new C(observer => {\n            enqueue(() => {\n                if (observer.closed)\n                    return;\n                for (const item of items) {\n                    observer.next(item);\n                    if (observer.closed)\n                        return;\n                }\n                observer.complete();\n            });\n        });\n    }\n    static get [SymbolSpecies]() { return this; }\n}\nif (hasSymbols()) {\n    Object.defineProperty(Observable, Symbol(\"extensions\"), {\n        value: {\n            symbol: SymbolObservable,\n            hostReportError,\n        },\n        configurable: true,\n    });\n}\nexport default Observable;\n","/**\n * Unsubscribe from a subscription returned by something that looks like an observable,\n * but is not necessarily our observable implementation.\n */\nfunction unsubscribe(subscription) {\n    if (typeof subscription === \"function\") {\n        subscription();\n    }\n    else if (subscription && typeof subscription.unsubscribe === \"function\") {\n        subscription.unsubscribe();\n    }\n}\nexport default unsubscribe;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Filters the values emitted by another observable.\n * To be applied to an input observable using `pipe()`.\n */\nfunction filter(test) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        if (yield test(input)) {\n                            next(input);\n                        }\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default filter;\n","/// <reference lib=\"es2018\" />\nimport { hasSymbol } from \"./_symbols\";\nexport function isAsyncIterator(thing) {\n    return thing && hasSymbol(\"asyncIterator\") && thing[Symbol.asyncIterator];\n}\nexport function isIterator(thing) {\n    return thing && hasSymbol(\"iterator\") && thing[Symbol.iterator];\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport { isAsyncIterator, isIterator } from \"./_util\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Maps the values emitted by another observable. In contrast to `map()`\n * the `mapper` function returns an array of values that will be emitted\n * separately.\n * Use `flatMap()` to map input values to zero, one or multiple output\n * values. To be applied to an input observable using `pipe()`.\n */\nfunction flatMap(mapper) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        var e_1, _a;\n                        const mapped = yield mapper(input);\n                        if (isIterator(mapped) || isAsyncIterator(mapped)) {\n                            try {\n                                for (var mapped_1 = __asyncValues(mapped), mapped_1_1; mapped_1_1 = yield mapped_1.next(), !mapped_1_1.done;) {\n                                    const element = mapped_1_1.value;\n                                    next(element);\n                                }\n                            }\n                            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                            finally {\n                                try {\n                                    if (mapped_1_1 && !mapped_1_1.done && (_a = mapped_1.return)) yield _a.call(mapped_1);\n                                }\n                                finally { if (e_1) throw e_1.error; }\n                            }\n                        }\n                        else {\n                            mapped.map(output => next(output));\n                        }\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default flatMap;\n","import { Observable } from \"./observable\";\n/**\n * Creates an observable that yields a new value every `period` milliseconds.\n * The first value emitted is 0, then 1, 2, etc. The first value is not emitted\n * immediately, but after the first interval.\n */\nexport default function interval(period) {\n    return new Observable(observer => {\n        let counter = 0;\n        const handle = setInterval(() => {\n            observer.next(counter++);\n        }, period);\n        return () => clearInterval(handle);\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Maps the values emitted by another observable to different values.\n * To be applied to an input observable using `pipe()`.\n */\nfunction map(mapper) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        const mapped = yield mapper(input);\n                        next(mapped);\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default map;\n","import { Observable } from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction merge(...observables) {\n    if (observables.length === 0) {\n        return Observable.from([]);\n    }\n    return new Observable(observer => {\n        let completed = 0;\n        const subscriptions = observables.map(input => {\n            return input.subscribe({\n                error(error) {\n                    observer.error(error);\n                    unsubscribeAll();\n                },\n                next(value) {\n                    observer.next(value);\n                },\n                complete() {\n                    if (++completed === observables.length) {\n                        observer.complete();\n                        unsubscribeAll();\n                    }\n                }\n            });\n        });\n        const unsubscribeAll = () => {\n            subscriptions.forEach(subscription => unsubscribe(subscription));\n        };\n        return unsubscribeAll;\n    });\n}\nexport default merge;\n","import Observable from \"./observable\";\n// TODO: This observer iteration approach looks inelegant and expensive\n// Idea: Come up with super class for Subscription that contains the\n//       notify*, ... methods and use it here\n/**\n * A subject is a \"hot\" observable (see `multicast`) that has its observer\n * methods (`.next(value)`, `.error(error)`, `.complete()`) exposed.\n *\n * Be careful, though! With great power comes great responsibility. Only use\n * the `Subject` when you really need to trigger updates \"from the outside\" and\n * try to keep the code that can access it to a minimum. Return\n * `Observable.from(mySubject)` to not allow other code to mutate.\n */\nclass MulticastSubject extends Observable {\n    constructor() {\n        super(observer => {\n            this._observers.add(observer);\n            return () => this._observers.delete(observer);\n        });\n        this._observers = new Set();\n    }\n    next(value) {\n        for (const observer of this._observers) {\n            observer.next(value);\n        }\n    }\n    error(error) {\n        for (const observer of this._observers) {\n            observer.error(error);\n        }\n    }\n    complete() {\n        for (const observer of this._observers) {\n            observer.complete();\n        }\n    }\n}\nexport default MulticastSubject;\n","import Observable from \"./observable\";\nimport Subject from \"./subject\";\nimport unsubscribe from \"./unsubscribe\";\n// TODO: Subject already creates additional observables \"under the hood\",\n//       now we introduce even more. A true native MulticastObservable\n//       would be preferable.\n/**\n * Takes a \"cold\" observable and returns a wrapping \"hot\" observable that\n * proxies the input observable's values and errors.\n *\n * An observable is called \"cold\" when its initialization function is run\n * for each new subscriber. This is how observable-fns's `Observable`\n * implementation works.\n *\n * A hot observable is an observable where new subscribers subscribe to\n * the upcoming values of an already-initialiazed observable.\n *\n * The multicast observable will lazily subscribe to the source observable\n * once it has its first own subscriber and will unsubscribe from the\n * source observable when its last own subscriber unsubscribed.\n */\nfunction multicast(coldObservable) {\n    const subject = new Subject();\n    let sourceSubscription;\n    let subscriberCount = 0;\n    return new Observable(observer => {\n        // Init source subscription lazily\n        if (!sourceSubscription) {\n            sourceSubscription = coldObservable.subscribe(subject);\n        }\n        // Pipe all events from `subject` into this observable\n        const subscription = subject.subscribe(observer);\n        subscriberCount++;\n        return () => {\n            subscriberCount--;\n            subscription.unsubscribe();\n            // Close source subscription once last subscriber has unsubscribed\n            if (subscriberCount === 0) {\n                unsubscribe(sourceSubscription);\n                sourceSubscription = undefined;\n            }\n        };\n    });\n}\nexport default multicast;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction scan(accumulator, seed) {\n    return (observable) => {\n        return new Observable(observer => {\n            let accumulated;\n            let index = 0;\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(value) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        const prevAcc = index === 0\n                            ? (typeof seed === \"undefined\" ? value : seed)\n                            : accumulated;\n                        accumulated = yield accumulator(prevAcc, value, index++);\n                        next(accumulated);\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default scan;\n","export { default as filter } from \"./filter\";\nexport { default as flatMap } from \"./flatMap\";\nexport { default as interval } from \"./interval\";\nexport { default as map } from \"./map\";\nexport { default as merge } from \"./merge\";\nexport { default as multicast } from \"./multicast\";\nexport { default as Observable } from \"./observable\";\nexport { default as scan } from \"./scan\";\nexport { default as Subject } from \"./subject\";\nexport { default as unsubscribe } from \"./unsubscribe\";\n","// Based on <https://github.com/es-shims/Promise.allSettled/blob/master/implementation.js>\nexport function allSettled(values) {\n    return Promise.all(values.map(item => {\n        const onFulfill = (value) => {\n            return { status: 'fulfilled', value };\n        };\n        const onReject = (reason) => {\n            return { status: 'rejected', reason };\n        };\n        const itemPromise = Promise.resolve(item);\n        try {\n            return itemPromise.then(onFulfill, onReject);\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }));\n}\n","/** Pool event type. Specifies the type of each `PoolEvent`. */\nexport var PoolEventType;\n(function (PoolEventType) {\n    PoolEventType[\"initialized\"] = \"initialized\";\n    PoolEventType[\"taskCanceled\"] = \"taskCanceled\";\n    PoolEventType[\"taskCompleted\"] = \"taskCompleted\";\n    PoolEventType[\"taskFailed\"] = \"taskFailed\";\n    PoolEventType[\"taskQueued\"] = \"taskQueued\";\n    PoolEventType[\"taskQueueDrained\"] = \"taskQueueDrained\";\n    PoolEventType[\"taskStart\"] = \"taskStart\";\n    PoolEventType[\"terminated\"] = \"terminated\";\n})(PoolEventType || (PoolEventType = {}));\n","export const $errors = Symbol(\"thread.errors\");\nexport const $events = Symbol(\"thread.events\");\nexport const $terminate = Symbol(\"thread.terminate\");\nexport const $transferable = Symbol(\"thread.transferable\");\nexport const $worker = Symbol(\"thread.worker\");\n","import { $errors, $events, $terminate } from \"../symbols\";\nfunction fail(message) {\n    throw Error(message);\n}\n/** Thread utility functions. Use them to manage or inspect a `spawn()`-ed thread. */\nexport const Thread = {\n    /** Return an observable that can be used to subscribe to all errors happening in the thread. */\n    errors(thread) {\n        return thread[$errors] || fail(\"Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Return an observable that can be used to subscribe to internal events happening in the thread. Useful for debugging. */\n    events(thread) {\n        return thread[$events] || fail(\"Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Terminate a thread. Remember to terminate every thread when you are done using it. */\n    terminate(thread) {\n        return thread[$terminate]();\n    }\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport DebugLogger from \"debug\";\nimport { multicast, Observable, Subject } from \"observable-fns\";\nimport { allSettled } from \"../ponyfills\";\nimport { defaultPoolSize } from \"./implementation\";\nimport { PoolEventType } from \"./pool-types\";\nimport { Thread } from \"./thread\";\nexport { PoolEventType, Thread };\nlet nextPoolID = 1;\nfunction createArray(size) {\n    const array = [];\n    for (let index = 0; index < size; index++) {\n        array.push(index);\n    }\n    return array;\n}\nfunction delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\nfunction flatMap(array, mapper) {\n    return array.reduce((flattened, element) => [...flattened, ...mapper(element)], []);\n}\nfunction slugify(text) {\n    return text.replace(/\\W/g, \" \").trim().replace(/\\s+/g, \"-\");\n}\nfunction spawnWorkers(spawnWorker, count) {\n    return createArray(count).map(() => ({\n        init: spawnWorker(),\n        runningTasks: []\n    }));\n}\nclass WorkerPool {\n    constructor(spawnWorker, optionsOrSize) {\n        this.eventSubject = new Subject();\n        this.initErrors = [];\n        this.isClosing = false;\n        this.nextTaskID = 1;\n        this.taskQueue = [];\n        const options = typeof optionsOrSize === \"number\"\n            ? { size: optionsOrSize }\n            : optionsOrSize || {};\n        const { size = defaultPoolSize } = options;\n        this.debug = DebugLogger(`threads:pool:${slugify(options.name || String(nextPoolID++))}`);\n        this.options = options;\n        this.workers = spawnWorkers(spawnWorker, size);\n        this.eventObservable = multicast(Observable.from(this.eventSubject));\n        Promise.all(this.workers.map(worker => worker.init)).then(() => this.eventSubject.next({\n            type: PoolEventType.initialized,\n            size: this.workers.length\n        }), error => {\n            this.debug(\"Error while initializing pool worker:\", error);\n            this.eventSubject.error(error);\n            this.initErrors.push(error);\n        });\n    }\n    findIdlingWorker() {\n        const { concurrency = 1 } = this.options;\n        return this.workers.find(worker => worker.runningTasks.length < concurrency);\n    }\n    runPoolTask(worker, task) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const workerID = this.workers.indexOf(worker) + 1;\n            this.debug(`Running task #${task.id} on worker #${workerID}...`);\n            this.eventSubject.next({\n                type: PoolEventType.taskStart,\n                taskID: task.id,\n                workerID\n            });\n            try {\n                const returnValue = yield task.run(yield worker.init);\n                this.debug(`Task #${task.id} completed successfully`);\n                this.eventSubject.next({\n                    type: PoolEventType.taskCompleted,\n                    returnValue,\n                    taskID: task.id,\n                    workerID\n                });\n            }\n            catch (error) {\n                this.debug(`Task #${task.id} failed`);\n                this.eventSubject.next({\n                    type: PoolEventType.taskFailed,\n                    taskID: task.id,\n                    error,\n                    workerID\n                });\n            }\n        });\n    }\n    run(worker, task) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const runPromise = (() => __awaiter(this, void 0, void 0, function* () {\n                const removeTaskFromWorkersRunningTasks = () => {\n                    worker.runningTasks = worker.runningTasks.filter(someRunPromise => someRunPromise !== runPromise);\n                };\n                // Defer task execution by one tick to give handlers time to subscribe\n                yield delay(0);\n                try {\n                    yield this.runPoolTask(worker, task);\n                }\n                finally {\n                    removeTaskFromWorkersRunningTasks();\n                    if (!this.isClosing) {\n                        this.scheduleWork();\n                    }\n                }\n            }))();\n            worker.runningTasks.push(runPromise);\n        });\n    }\n    scheduleWork() {\n        this.debug(`Attempt de-queueing a task in order to run it...`);\n        const availableWorker = this.findIdlingWorker();\n        if (!availableWorker)\n            return;\n        const nextTask = this.taskQueue.shift();\n        if (!nextTask) {\n            this.debug(`Task queue is empty`);\n            this.eventSubject.next({ type: PoolEventType.taskQueueDrained });\n            return;\n        }\n        this.run(availableWorker, nextTask);\n    }\n    taskCompletion(taskID) {\n        return new Promise((resolve, reject) => {\n            const eventSubscription = this.events().subscribe(event => {\n                if (event.type === PoolEventType.taskCompleted && event.taskID === taskID) {\n                    eventSubscription.unsubscribe();\n                    resolve(event.returnValue);\n                }\n                else if (event.type === PoolEventType.taskFailed && event.taskID === taskID) {\n                    eventSubscription.unsubscribe();\n                    reject(event.error);\n                }\n                else if (event.type === PoolEventType.terminated) {\n                    eventSubscription.unsubscribe();\n                    reject(Error(\"Pool has been terminated before task was run.\"));\n                }\n            });\n        });\n    }\n    settled(allowResolvingImmediately = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const getCurrentlyRunningTasks = () => flatMap(this.workers, worker => worker.runningTasks);\n            const taskFailures = [];\n            const failureSubscription = this.eventObservable.subscribe(event => {\n                if (event.type === PoolEventType.taskFailed) {\n                    taskFailures.push(event.error);\n                }\n            });\n            if (this.initErrors.length > 0) {\n                return Promise.reject(this.initErrors[0]);\n            }\n            if (allowResolvingImmediately && this.taskQueue.length === 0) {\n                yield allSettled(getCurrentlyRunningTasks());\n                return taskFailures;\n            }\n            yield new Promise((resolve, reject) => {\n                const subscription = this.eventObservable.subscribe({\n                    next(event) {\n                        if (event.type === PoolEventType.taskQueueDrained) {\n                            subscription.unsubscribe();\n                            resolve();\n                        }\n                    },\n                    error: reject // make a pool-wide error reject the completed() result promise\n                });\n            });\n            yield allSettled(getCurrentlyRunningTasks());\n            failureSubscription.unsubscribe();\n            return taskFailures;\n        });\n    }\n    completed(allowResolvingImmediately = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const settlementPromise = this.settled(allowResolvingImmediately);\n            const earlyExitPromise = new Promise((resolve, reject) => {\n                const subscription = this.eventObservable.subscribe({\n                    next(event) {\n                        if (event.type === PoolEventType.taskQueueDrained) {\n                            subscription.unsubscribe();\n                            resolve(settlementPromise);\n                        }\n                        else if (event.type === PoolEventType.taskFailed) {\n                            subscription.unsubscribe();\n                            reject(event.error);\n                        }\n                    },\n                    error: reject // make a pool-wide error reject the completed() result promise\n                });\n            });\n            const errors = yield Promise.race([\n                settlementPromise,\n                earlyExitPromise\n            ]);\n            if (errors.length > 0) {\n                throw errors[0];\n            }\n        });\n    }\n    events() {\n        return this.eventObservable;\n    }\n    queue(taskFunction) {\n        const { maxQueuedJobs = Infinity } = this.options;\n        if (this.isClosing) {\n            throw Error(`Cannot schedule pool tasks after terminate() has been called.`);\n        }\n        if (this.initErrors.length > 0) {\n            throw this.initErrors[0];\n        }\n        const taskCompleted = () => this.taskCompletion(task.id);\n        let taskCompletionDotThen;\n        const task = {\n            id: this.nextTaskID++,\n            run: taskFunction,\n            cancel: () => {\n                if (this.taskQueue.indexOf(task) === -1)\n                    return;\n                this.taskQueue = this.taskQueue.filter(someTask => someTask !== task);\n                this.eventSubject.next({\n                    type: PoolEventType.taskCanceled,\n                    taskID: task.id\n                });\n            },\n            get then() {\n                if (!taskCompletionDotThen) {\n                    const promise = taskCompleted();\n                    taskCompletionDotThen = promise.then.bind(promise);\n                }\n                return taskCompletionDotThen;\n            }\n        };\n        if (this.taskQueue.length >= maxQueuedJobs) {\n            throw Error(\"Maximum number of pool tasks queued. Refusing to queue another one.\\n\" +\n                \"This usually happens for one of two reasons: We are either at peak \" +\n                \"workload right now or some tasks just won't finish, thus blocking the pool.\");\n        }\n        this.debug(`Queueing task #${task.id}...`);\n        this.taskQueue.push(task);\n        this.eventSubject.next({\n            type: PoolEventType.taskQueued,\n            taskID: task.id\n        });\n        this.scheduleWork();\n        return task;\n    }\n    terminate(force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.isClosing = true;\n            if (!force) {\n                yield this.completed(true);\n            }\n            this.eventSubject.next({\n                type: PoolEventType.terminated,\n                remainingQueue: [...this.taskQueue]\n            });\n            this.eventSubject.complete();\n            yield Promise.all(this.workers.map((worker) => __awaiter(this, void 0, void 0, function* () { return Thread.terminate(yield worker.init); })));\n        });\n    }\n}\nWorkerPool.EventType = PoolEventType;\n/**\n * Thread pool constructor. Creates a new pool and spawns its worker threads.\n */\nfunction PoolConstructor(spawnWorker, optionsOrSize) {\n    // The function exists only so we don't need to use `new` to create a pool (we still can, though).\n    // If the Pool is a class or not is an implementation detail that should not concern the user.\n    return new WorkerPool(spawnWorker, optionsOrSize);\n}\nPoolConstructor.EventType = PoolEventType;\n/**\n * Thread pool constructor. Creates a new pool and spawns its worker threads.\n */\nexport const Pool = PoolConstructor;\n","const doNothing = () => undefined;\n/**\n * Creates a new promise and exposes its resolver function.\n * Use with care!\n */\nexport function createPromiseWithResolver() {\n    let alreadyResolved = false;\n    let resolvedTo;\n    let resolver = doNothing;\n    const promise = new Promise(resolve => {\n        if (alreadyResolved) {\n            resolve(resolvedTo);\n        }\n        else {\n            resolver = resolve;\n        }\n    });\n    const exposedResolver = (value) => {\n        alreadyResolved = true;\n        resolvedTo = value;\n        resolver();\n    };\n    return [promise, exposedResolver];\n}\n","/// <reference lib=\"dom\" />\nimport { $errors, $events, $terminate, $worker } from \"../symbols\";\n/** Event as emitted by worker thread. Subscribe to using `Thread.events(thread)`. */\nexport var WorkerEventType;\n(function (WorkerEventType) {\n    WorkerEventType[\"internalError\"] = \"internalError\";\n    WorkerEventType[\"message\"] = \"message\";\n    WorkerEventType[\"termination\"] = \"termination\";\n})(WorkerEventType || (WorkerEventType = {}));\n","import { Observable } from \"observable-fns\";\nconst doNothing = () => undefined;\nconst returnInput = (input) => input;\nconst runDeferred = (fn) => Promise.resolve().then(fn);\nfunction fail(error) {\n    throw error;\n}\nfunction isThenable(thing) {\n    return thing && typeof thing.then === \"function\";\n}\n/**\n * Creates a hybrid, combining the APIs of an Observable and a Promise.\n *\n * It is used to proxy async process states when we are initially not sure\n * if that async process will yield values once (-> Promise) or multiple\n * times (-> Observable).\n *\n * Note that the observable promise inherits some of the observable's characteristics:\n * The `init` function will be called *once for every time anyone subscribes to it*.\n *\n * If this is undesired, derive a hot observable from it using `makeHot()` and\n * subscribe to that.\n */\nexport class ObservablePromise extends Observable {\n    constructor(init) {\n        super(originalObserver => {\n            // tslint:disable-next-line no-this-assignment\n            const self = this;\n            const observer = Object.assign(Object.assign({}, originalObserver), { complete() {\n                    originalObserver.complete();\n                    self.onCompletion();\n                },\n                error(error) {\n                    originalObserver.error(error);\n                    self.onError(error);\n                },\n                next(value) {\n                    originalObserver.next(value);\n                    self.onNext(value);\n                } });\n            try {\n                this.initHasRun = true;\n                return init(observer);\n            }\n            catch (error) {\n                observer.error(error);\n            }\n        });\n        this.initHasRun = false;\n        this.fulfillmentCallbacks = [];\n        this.rejectionCallbacks = [];\n        this.firstValueSet = false;\n        this.state = \"pending\";\n    }\n    onNext(value) {\n        if (!this.firstValueSet) {\n            this.firstValue = value;\n            this.firstValueSet = true;\n        }\n    }\n    onError(error) {\n        this.state = \"rejected\";\n        this.rejection = error;\n        for (const onRejected of this.rejectionCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onRejected(error));\n        }\n    }\n    onCompletion() {\n        this.state = \"fulfilled\";\n        for (const onFulfilled of this.fulfillmentCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onFulfilled(this.firstValue));\n        }\n    }\n    then(onFulfilledRaw, onRejectedRaw) {\n        const onFulfilled = onFulfilledRaw || returnInput;\n        const onRejected = onRejectedRaw || fail;\n        let onRejectedCalled = false;\n        return new Promise((resolve, reject) => {\n            const rejectionCallback = (error) => {\n                if (onRejectedCalled)\n                    return;\n                onRejectedCalled = true;\n                try {\n                    resolve(onRejected(error));\n                }\n                catch (anotherError) {\n                    reject(anotherError);\n                }\n            };\n            const fulfillmentCallback = (value) => {\n                try {\n                    resolve(onFulfilled(value));\n                }\n                catch (error) {\n                    rejectionCallback(error);\n                }\n            };\n            if (!this.initHasRun) {\n                this.subscribe({ error: rejectionCallback });\n            }\n            if (this.state === \"fulfilled\") {\n                return resolve(onFulfilled(this.firstValue));\n            }\n            if (this.state === \"rejected\") {\n                onRejectedCalled = true;\n                return resolve(onRejected(this.rejection));\n            }\n            this.fulfillmentCallbacks.push(fulfillmentCallback);\n            this.rejectionCallbacks.push(rejectionCallback);\n        });\n    }\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n    finally(onCompleted) {\n        const handler = onCompleted || doNothing;\n        return this.then((value) => {\n            handler();\n            return value;\n        }, () => handler());\n    }\n    static from(thing) {\n        if (isThenable(thing)) {\n            return new ObservablePromise(observer => {\n                const onFulfilled = (value) => {\n                    observer.next(value);\n                    observer.complete();\n                };\n                const onRejected = (error) => {\n                    observer.error(error);\n                };\n                thing.then(onFulfilled, onRejected);\n            });\n        }\n        else {\n            return super.from(thing);\n        }\n    }\n}\n","import { $transferable } from \"./symbols\";\nfunction isTransferable(thing) {\n    if (!thing || typeof thing !== \"object\")\n        return false;\n    // Don't check too thoroughly, since the list of transferable things in JS might grow over time\n    return true;\n}\nexport function isTransferDescriptor(thing) {\n    return thing && typeof thing === \"object\" && thing[$transferable];\n}\nexport function Transfer(payload, transferables) {\n    if (!transferables) {\n        if (!isTransferable(payload))\n            throw Error();\n        transferables = [payload];\n    }\n    return {\n        [$transferable]: true,\n        send: payload,\n        transferables\n    };\n}\n","/////////////////////////////\n// Messages sent by master:\nexport var MasterMessageType;\n(function (MasterMessageType) {\n    MasterMessageType[\"run\"] = \"run\";\n})(MasterMessageType || (MasterMessageType = {}));\n////////////////////////////\n// Messages sent by worker:\nexport var WorkerMessageType;\n(function (WorkerMessageType) {\n    WorkerMessageType[\"error\"] = \"error\";\n    WorkerMessageType[\"init\"] = \"init\";\n    WorkerMessageType[\"result\"] = \"result\";\n    WorkerMessageType[\"running\"] = \"running\";\n    WorkerMessageType[\"uncaughtError\"] = \"uncaughtError\";\n})(WorkerMessageType || (WorkerMessageType = {}));\n","/*\n * This source file contains the code for proxying calls in the master thread to calls in the workers\n * by `.postMessage()`-ing.\n *\n * Keep in mind that this code can make or break the program's performance! Need to optimize more\n */\nimport DebugLogger from \"debug\";\nimport { multicast, Observable } from \"observable-fns\";\nimport { deserialize, serialize } from \"../common\";\nimport { ObservablePromise } from \"../observable-promise\";\nimport { isTransferDescriptor } from \"../transferable\";\nimport { MasterMessageType, WorkerMessageType } from \"../types/messages\";\nconst debugMessages = DebugLogger(\"threads:master:messages\");\nlet nextJobUID = 1;\nconst dedupe = (array) => Array.from(new Set(array));\nconst isJobErrorMessage = (data) => data && data.type === WorkerMessageType.error;\nconst isJobResultMessage = (data) => data && data.type === WorkerMessageType.result;\nconst isJobStartMessage = (data) => data && data.type === WorkerMessageType.running;\nfunction createObservableForJob(worker, jobUID) {\n    return new Observable(observer => {\n        let asyncType;\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker:\", event.data);\n            if (!event.data || event.data.uid !== jobUID)\n                return;\n            if (isJobStartMessage(event.data)) {\n                asyncType = event.data.resultType;\n            }\n            else if (isJobResultMessage(event.data)) {\n                if (asyncType === \"promise\") {\n                    if (typeof event.data.payload !== \"undefined\") {\n                        observer.next(deserialize(event.data.payload));\n                    }\n                    observer.complete();\n                    worker.removeEventListener(\"message\", messageHandler);\n                }\n                else {\n                    if (event.data.payload) {\n                        observer.next(deserialize(event.data.payload));\n                    }\n                    if (event.data.complete) {\n                        observer.complete();\n                        worker.removeEventListener(\"message\", messageHandler);\n                    }\n                }\n            }\n            else if (isJobErrorMessage(event.data)) {\n                const error = deserialize(event.data.error);\n                if (asyncType === \"promise\" || !asyncType) {\n                    observer.error(error);\n                }\n                else {\n                    observer.error(error);\n                }\n                worker.removeEventListener(\"message\", messageHandler);\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        return () => worker.removeEventListener(\"message\", messageHandler);\n    });\n}\nfunction prepareArguments(rawArgs) {\n    if (rawArgs.length === 0) {\n        // Exit early if possible\n        return {\n            args: [],\n            transferables: []\n        };\n    }\n    const args = [];\n    const transferables = [];\n    for (const arg of rawArgs) {\n        if (isTransferDescriptor(arg)) {\n            args.push(serialize(arg.send));\n            transferables.push(...arg.transferables);\n        }\n        else {\n            args.push(serialize(arg));\n        }\n    }\n    return {\n        args,\n        transferables: transferables.length === 0 ? transferables : dedupe(transferables)\n    };\n}\nexport function createProxyFunction(worker, method) {\n    return ((...rawArgs) => {\n        const uid = nextJobUID++;\n        const { args, transferables } = prepareArguments(rawArgs);\n        const runMessage = {\n            type: MasterMessageType.run,\n            uid,\n            method,\n            args\n        };\n        debugMessages(\"Sending command to run function to worker:\", runMessage);\n        try {\n            worker.postMessage(runMessage, transferables);\n        }\n        catch (error) {\n            return ObservablePromise.from(Promise.reject(error));\n        }\n        return ObservablePromise.from(multicast(createObservableForJob(worker, uid)));\n    });\n}\nexport function createProxyModule(worker, methodNames) {\n    const proxy = {};\n    for (const methodName of methodNames) {\n        proxy[methodName] = createProxyFunction(worker, methodName);\n    }\n    return proxy;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport DebugLogger from \"debug\";\nimport { Observable } from \"observable-fns\";\nimport { deserialize } from \"../common\";\nimport { createPromiseWithResolver } from \"../promise\";\nimport { $errors, $events, $terminate, $worker } from \"../symbols\";\nimport { WorkerEventType } from \"../types/master\";\nimport { createProxyFunction, createProxyModule } from \"./invocation-proxy\";\nconst debugMessages = DebugLogger(\"threads:master:messages\");\nconst debugSpawn = DebugLogger(\"threads:master:spawn\");\nconst debugThreadUtils = DebugLogger(\"threads:master:thread-utils\");\nconst isInitMessage = (data) => data && data.type === \"init\";\nconst isUncaughtErrorMessage = (data) => data && data.type === \"uncaughtError\";\nconst initMessageTimeout = typeof process !== \"undefined\" && process.env.THREADS_WORKER_INIT_TIMEOUT\n    ? Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT, 10)\n    : 10000;\nfunction withTimeout(promise, timeoutInMs, errorMessage) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let timeoutHandle;\n        const timeout = new Promise((resolve, reject) => {\n            timeoutHandle = setTimeout(() => reject(Error(errorMessage)), timeoutInMs);\n        });\n        const result = yield Promise.race([\n            promise,\n            timeout\n        ]);\n        clearTimeout(timeoutHandle);\n        return result;\n    });\n}\nfunction receiveInitMessage(worker) {\n    return new Promise((resolve, reject) => {\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker before finishing initialization:\", event.data);\n            if (isInitMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                resolve(event.data);\n            }\n            else if (isUncaughtErrorMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                reject(deserialize(event.data.error));\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n    });\n}\nfunction createEventObservable(worker, workerTermination) {\n    return new Observable(observer => {\n        const messageHandler = ((messageEvent) => {\n            const workerEvent = {\n                type: WorkerEventType.message,\n                data: messageEvent.data\n            };\n            observer.next(workerEvent);\n        });\n        const rejectionHandler = ((errorEvent) => {\n            debugThreadUtils(\"Unhandled promise rejection event in thread:\", errorEvent);\n            const workerEvent = {\n                type: WorkerEventType.internalError,\n                error: Error(errorEvent.reason)\n            };\n            observer.next(workerEvent);\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        worker.addEventListener(\"unhandledrejection\", rejectionHandler);\n        workerTermination.then(() => {\n            const terminationEvent = {\n                type: WorkerEventType.termination\n            };\n            worker.removeEventListener(\"message\", messageHandler);\n            worker.removeEventListener(\"unhandledrejection\", rejectionHandler);\n            observer.next(terminationEvent);\n            observer.complete();\n        });\n    });\n}\nfunction createTerminator(worker) {\n    const [termination, resolver] = createPromiseWithResolver();\n    const terminate = () => __awaiter(this, void 0, void 0, function* () {\n        debugThreadUtils(\"Terminating worker\");\n        // Newer versions of worker_threads workers return a promise\n        yield worker.terminate();\n        resolver();\n    });\n    return { terminate, termination };\n}\nfunction setPrivateThreadProps(raw, worker, workerEvents, terminate) {\n    const workerErrors = workerEvents\n        .filter(event => event.type === WorkerEventType.internalError)\n        .map(errorEvent => errorEvent.error);\n    // tslint:disable-next-line prefer-object-spread\n    return Object.assign(raw, {\n        [$errors]: workerErrors,\n        [$events]: workerEvents,\n        [$terminate]: terminate,\n        [$worker]: worker\n    });\n}\n/**\n * Spawn a new thread. Takes a fresh worker instance, wraps it in a thin\n * abstraction layer to provide the transparent API and verifies that\n * the worker has initialized successfully.\n *\n * @param worker Instance of `Worker`. Either a web worker, `worker_threads` worker or `tiny-worker` worker.\n * @param [options]\n * @param [options.timeout] Init message timeout. Default: 10000 or set by environment variable.\n */\nexport function spawn(worker, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        debugSpawn(\"Initializing new thread\");\n        const initMessage = yield withTimeout(receiveInitMessage(worker), options && options.timeout ? options.timeout : initMessageTimeout, `Timeout: Did not receive an init message from worker after ${initMessageTimeout}ms. Make sure the worker calls expose().`);\n        const exposed = initMessage.exposed;\n        const { termination, terminate } = createTerminator(worker);\n        const events = createEventObservable(worker, termination);\n        if (exposed.type === \"function\") {\n            const proxy = createProxyFunction(worker);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else if (exposed.type === \"module\") {\n            const proxy = createProxyModule(worker, exposed.methods);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else {\n            const type = exposed.type;\n            throw Error(`Worker init message states unexpected type of expose(): ${type}`);\n        }\n    });\n}\n","import { selectWorkerImplementation } from \"./implementation\";\nexport { Pool } from \"./pool\";\nexport { spawn } from \"./spawn\";\nexport { Thread } from \"./thread\";\n/** Worker implementation. Either web worker or a node.js Worker class. */\nexport const Worker = selectWorkerImplementation();\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","'use strict';\nconst symbolObservable = require('symbol-observable').default;\n\nmodule.exports = value => Boolean(value && value[symbolObservable] && value === value[symbolObservable]());\n","/// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\nconst isWorkerRuntime = function isWorkerRuntime() {\n    return typeof self !== \"undefined\" && self.postMessage ? true : false;\n};\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n    self.postMessage(data, transferList);\n};\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n    const messageHandler = (messageEvent) => {\n        onMessage(messageEvent.data);\n    };\n    const unsubscribe = () => {\n        self.removeEventListener(\"message\", messageHandler);\n    };\n    self.addEventListener(\"message\", messageHandler);\n    return unsubscribe;\n};\nexport default {\n    isWorkerRuntime,\n    postMessageToMaster,\n    subscribeToMasterMessages\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport isSomeObservable from \"is-observable\";\nimport { deserialize, serialize } from \"../common\";\nimport { isTransferDescriptor } from \"../transferable\";\nimport { MasterMessageType, WorkerMessageType } from \"../types/messages\";\nimport Implementation from \"./implementation\";\nexport { registerSerializer } from \"../common\";\nexport { Transfer } from \"../transferable\";\nlet exposeCalled = false;\nconst isMasterJobRunMessage = (thing) => thing && thing.type === MasterMessageType.run;\n/**\n * There are issues with `is-observable` not recognizing zen-observable's instances.\n * We are using `observable-fns`, but it's based on zen-observable, too.\n */\nconst isObservable = (thing) => isSomeObservable(thing) || isZenObservable(thing);\nfunction isZenObservable(thing) {\n    return thing && typeof thing === \"object\" && typeof thing.subscribe === \"function\";\n}\nfunction deconstructTransfer(thing) {\n    return isTransferDescriptor(thing)\n        ? { payload: thing.send, transferables: thing.transferables }\n        : { payload: thing, transferables: undefined };\n}\nfunction postFunctionInitMessage() {\n    const initMessage = {\n        type: WorkerMessageType.init,\n        exposed: {\n            type: \"function\"\n        }\n    };\n    Implementation.postMessageToMaster(initMessage);\n}\nfunction postModuleInitMessage(methodNames) {\n    const initMessage = {\n        type: WorkerMessageType.init,\n        exposed: {\n            type: \"module\",\n            methods: methodNames\n        }\n    };\n    Implementation.postMessageToMaster(initMessage);\n}\nfunction postJobErrorMessage(uid, rawError) {\n    const { payload: error, transferables } = deconstructTransfer(rawError);\n    const errorMessage = {\n        type: WorkerMessageType.error,\n        uid,\n        error: serialize(error)\n    };\n    Implementation.postMessageToMaster(errorMessage, transferables);\n}\nfunction postJobResultMessage(uid, completed, resultValue) {\n    const { payload, transferables } = deconstructTransfer(resultValue);\n    const resultMessage = {\n        type: WorkerMessageType.result,\n        uid,\n        complete: completed ? true : undefined,\n        payload\n    };\n    Implementation.postMessageToMaster(resultMessage, transferables);\n}\nfunction postJobStartMessage(uid, resultType) {\n    const startMessage = {\n        type: WorkerMessageType.running,\n        uid,\n        resultType\n    };\n    Implementation.postMessageToMaster(startMessage);\n}\nfunction postUncaughtErrorMessage(error) {\n    try {\n        const errorMessage = {\n            type: WorkerMessageType.uncaughtError,\n            error: serialize(error)\n        };\n        Implementation.postMessageToMaster(errorMessage);\n    }\n    catch (subError) {\n        // tslint:disable-next-line no-console\n        console.error(\"Not reporting uncaught error back to master thread as it \" +\n            \"occured while reporting an uncaught error already.\" +\n            \"\\nLatest error:\", subError, \"\\nOriginal error:\", error);\n    }\n}\nfunction runFunction(jobUID, fn, args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let syncResult;\n        try {\n            syncResult = fn(...args);\n        }\n        catch (error) {\n            return postJobErrorMessage(jobUID, error);\n        }\n        const resultType = isObservable(syncResult) ? \"observable\" : \"promise\";\n        postJobStartMessage(jobUID, resultType);\n        if (isObservable(syncResult)) {\n            syncResult.subscribe(value => postJobResultMessage(jobUID, false, serialize(value)), error => postJobErrorMessage(jobUID, serialize(error)), () => postJobResultMessage(jobUID, true));\n        }\n        else {\n            try {\n                const result = yield syncResult;\n                postJobResultMessage(jobUID, true, serialize(result));\n            }\n            catch (error) {\n                postJobErrorMessage(jobUID, serialize(error));\n            }\n        }\n    });\n}\n/**\n * Expose a function or a module (an object whose values are functions)\n * to the main thread. Must be called exactly once in every worker thread\n * to signal its API to the main thread.\n *\n * @param exposed Function or object whose values are functions\n */\nexport function expose(exposed) {\n    if (!Implementation.isWorkerRuntime()) {\n        throw Error(\"expose() called in the master thread.\");\n    }\n    if (exposeCalled) {\n        throw Error(\"expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.\");\n    }\n    exposeCalled = true;\n    if (typeof exposed === \"function\") {\n        Implementation.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && !messageData.method) {\n                runFunction(messageData.uid, exposed, messageData.args.map(deserialize));\n            }\n        });\n        postFunctionInitMessage();\n    }\n    else if (typeof exposed === \"object\" && exposed) {\n        Implementation.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && messageData.method) {\n                runFunction(messageData.uid, exposed[messageData.method], messageData.args.map(deserialize));\n            }\n        });\n        const methodNames = Object.keys(exposed).filter(key => typeof exposed[key] === \"function\");\n        postModuleInitMessage(methodNames);\n    }\n    else {\n        throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${exposed}`);\n    }\n}\nif (typeof self !== \"undefined\" && typeof self.addEventListener === \"function\" && Implementation.isWorkerRuntime()) {\n    self.addEventListener(\"error\", event => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(event.error || event), 250);\n    });\n    self.addEventListener(\"unhandledrejection\", event => {\n        const error = event.reason;\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\nif (typeof process !== \"undefined\" && typeof process.on === \"function\" && Implementation.isWorkerRuntime()) {\n    process.on(\"uncaughtException\", (error) => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(error), 250);\n    });\n    process.on(\"unhandledRejection\", (error) => {\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\n","export { registerSerializer } from \"./common\";\nexport * from \"./master/index\";\nexport { expose } from \"./worker/index\";\nexport { DefaultSerializer } from \"./serializers\";\nexport { Transfer } from \"./transferable\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction extendSerializer(extend, implementation) {\n    const fallbackDeserializer = extend.deserialize.bind(extend);\n    const fallbackSerializer = extend.serialize.bind(extend);\n    return {\n        deserialize(message) {\n            return implementation.deserialize(message, fallbackDeserializer);\n        },\n        serialize(input) {\n            return implementation.serialize(input, fallbackSerializer);\n        }\n    };\n}\nexports.extendSerializer = extendSerializer;\nconst DefaultErrorSerializer = {\n    deserialize(message) {\n        return Object.assign(Error(message.message), {\n            name: message.name,\n            stack: message.stack\n        });\n    },\n    serialize(error) {\n        return {\n            __error_marker: \"$$error\",\n            message: error.message,\n            name: error.name,\n            stack: error.stack\n        };\n    }\n};\nconst isSerializedError = (thing) => thing && typeof thing === \"object\" && \"__error_marker\" in thing && thing.__error_marker === \"$$error\";\nexports.DefaultSerializer = {\n    deserialize(message) {\n        if (isSerializedError(message)) {\n            return DefaultErrorSerializer.deserialize(message);\n        }\n        else {\n            return message;\n        }\n    },\n    serialize(input) {\n        if (input instanceof Error) {\n            return DefaultErrorSerializer.serialize(input);\n        }\n        else {\n            return input;\n        }\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst serializers_1 = require(\"./serializers\");\nlet registeredSerializer = serializers_1.DefaultSerializer;\nfunction registerSerializer(serializer) {\n    registeredSerializer = serializers_1.extendSerializer(registeredSerializer, serializer);\n}\nexports.registerSerializer = registerSerializer;\nfunction deserialize(message) {\n    return registeredSerializer.deserialize(message);\n}\nexports.deserialize = deserialize;\nfunction serialize(input) {\n    return registeredSerializer.serialize(input);\n}\nexports.serialize = serialize;\n","\"use strict\";\n// Source: <https://github.com/parcel-bundler/parcel/blob/master/packages/core/parcel-bundler/src/builtins/bundle-url.js>\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet bundleURL;\nfunction getBundleURLCached() {\n    if (!bundleURL) {\n        bundleURL = getBundleURL();\n    }\n    return bundleURL;\n}\nexports.getBundleURL = getBundleURLCached;\nfunction getBundleURL() {\n    // Attempt to find the URL of the current script and use that as the base URL\n    try {\n        throw new Error;\n    }\n    catch (err) {\n        const matches = (\"\" + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n        if (matches) {\n            return getBaseURL(matches[0]);\n        }\n    }\n    return \"/\";\n}\nfunction getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\nexports.getBaseURL = getBaseURL;\n","\"use strict\";\n// tslint:disable max-classes-per-file\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_bundle_url_browser_1 = require(\"./get-bundle-url.browser\");\nexports.defaultPoolSize = typeof navigator !== \"undefined\" && navigator.hardwareConcurrency\n    ? navigator.hardwareConcurrency\n    : 4;\nconst isAbsoluteURL = (value) => /^(file|https?:)?\\/\\//i.test(value);\nfunction createSourceBlobURL(code) {\n    const blob = new Blob([code], { type: \"application/javascript\" });\n    return URL.createObjectURL(blob);\n}\nfunction selectWorkerImplementation() {\n    if (typeof Worker === \"undefined\") {\n        // Might happen on Safari, for instance\n        // The idea is to only fail if the constructor is actually used\n        return class NoWebWorker {\n            constructor() {\n                throw Error(\"No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.\");\n            }\n        };\n    }\n    return class WebWorker extends Worker {\n        constructor(url, options) {\n            if (typeof url === \"string\" && options && options._baseURL) {\n                url = new URL(url, options._baseURL);\n            }\n            else if (typeof url === \"string\" && !isAbsoluteURL(url) && get_bundle_url_browser_1.getBundleURL().match(/^file:\\/\\//i)) {\n                url = new URL(url, get_bundle_url_browser_1.getBundleURL().replace(/\\/[^\\/]+$/, \"/\"));\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            if (typeof url === \"string\" && isAbsoluteURL(url)) {\n                // Create source code blob loading JS file via `importScripts()`\n                // to circumvent worker CORS restrictions\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            super(url, options);\n        }\n    };\n}\nexports.selectWorkerImplementation = selectWorkerImplementation;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Based on <https://github.com/es-shims/Promise.allSettled/blob/master/implementation.js>\nfunction allSettled(values) {\n    return Promise.all(values.map(item => {\n        const onFulfill = (value) => {\n            return { status: 'fulfilled', value };\n        };\n        const onReject = (reason) => {\n            return { status: 'rejected', reason };\n        };\n        const itemPromise = Promise.resolve(item);\n        try {\n            return itemPromise.then(onFulfill, onReject);\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }));\n}\nexports.allSettled = allSettled;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** Pool event type. Specifies the type of each `PoolEvent`. */\nvar PoolEventType;\n(function (PoolEventType) {\n    PoolEventType[\"initialized\"] = \"initialized\";\n    PoolEventType[\"taskCanceled\"] = \"taskCanceled\";\n    PoolEventType[\"taskCompleted\"] = \"taskCompleted\";\n    PoolEventType[\"taskFailed\"] = \"taskFailed\";\n    PoolEventType[\"taskQueued\"] = \"taskQueued\";\n    PoolEventType[\"taskQueueDrained\"] = \"taskQueueDrained\";\n    PoolEventType[\"taskStart\"] = \"taskStart\";\n    PoolEventType[\"terminated\"] = \"terminated\";\n})(PoolEventType = exports.PoolEventType || (exports.PoolEventType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$errors = Symbol(\"thread.errors\");\nexports.$events = Symbol(\"thread.events\");\nexports.$terminate = Symbol(\"thread.terminate\");\nexports.$transferable = Symbol(\"thread.transferable\");\nexports.$worker = Symbol(\"thread.worker\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"../symbols\");\nfunction fail(message) {\n    throw Error(message);\n}\n/** Thread utility functions. Use them to manage or inspect a `spawn()`-ed thread. */\nexports.Thread = {\n    /** Return an observable that can be used to subscribe to all errors happening in the thread. */\n    errors(thread) {\n        return thread[symbols_1.$errors] || fail(\"Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Return an observable that can be used to subscribe to internal events happening in the thread. Useful for debugging. */\n    events(thread) {\n        return thread[symbols_1.$events] || fail(\"Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Terminate a thread. Remember to terminate every thread when you are done using it. */\n    terminate(thread) {\n        return thread[symbols_1.$terminate]();\n    }\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst ponyfills_1 = require(\"../ponyfills\");\nconst implementation_1 = require(\"./implementation\");\nconst pool_types_1 = require(\"./pool-types\");\nexports.PoolEventType = pool_types_1.PoolEventType;\nconst thread_1 = require(\"./thread\");\nexports.Thread = thread_1.Thread;\nlet nextPoolID = 1;\nfunction createArray(size) {\n    const array = [];\n    for (let index = 0; index < size; index++) {\n        array.push(index);\n    }\n    return array;\n}\nfunction delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\nfunction flatMap(array, mapper) {\n    return array.reduce((flattened, element) => [...flattened, ...mapper(element)], []);\n}\nfunction slugify(text) {\n    return text.replace(/\\W/g, \" \").trim().replace(/\\s+/g, \"-\");\n}\nfunction spawnWorkers(spawnWorker, count) {\n    return createArray(count).map(() => ({\n        init: spawnWorker(),\n        runningTasks: []\n    }));\n}\nclass WorkerPool {\n    constructor(spawnWorker, optionsOrSize) {\n        this.eventSubject = new observable_fns_1.Subject();\n        this.initErrors = [];\n        this.isClosing = false;\n        this.nextTaskID = 1;\n        this.taskQueue = [];\n        const options = typeof optionsOrSize === \"number\"\n            ? { size: optionsOrSize }\n            : optionsOrSize || {};\n        const { size = implementation_1.defaultPoolSize } = options;\n        this.debug = debug_1.default(`threads:pool:${slugify(options.name || String(nextPoolID++))}`);\n        this.options = options;\n        this.workers = spawnWorkers(spawnWorker, size);\n        this.eventObservable = observable_fns_1.multicast(observable_fns_1.Observable.from(this.eventSubject));\n        Promise.all(this.workers.map(worker => worker.init)).then(() => this.eventSubject.next({\n            type: pool_types_1.PoolEventType.initialized,\n            size: this.workers.length\n        }), error => {\n            this.debug(\"Error while initializing pool worker:\", error);\n            this.eventSubject.error(error);\n            this.initErrors.push(error);\n        });\n    }\n    findIdlingWorker() {\n        const { concurrency = 1 } = this.options;\n        return this.workers.find(worker => worker.runningTasks.length < concurrency);\n    }\n    runPoolTask(worker, task) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const workerID = this.workers.indexOf(worker) + 1;\n            this.debug(`Running task #${task.id} on worker #${workerID}...`);\n            this.eventSubject.next({\n                type: pool_types_1.PoolEventType.taskStart,\n                taskID: task.id,\n                workerID\n            });\n            try {\n                const returnValue = yield task.run(yield worker.init);\n                this.debug(`Task #${task.id} completed successfully`);\n                this.eventSubject.next({\n                    type: pool_types_1.PoolEventType.taskCompleted,\n                    returnValue,\n                    taskID: task.id,\n                    workerID\n                });\n            }\n            catch (error) {\n                this.debug(`Task #${task.id} failed`);\n                this.eventSubject.next({\n                    type: pool_types_1.PoolEventType.taskFailed,\n                    taskID: task.id,\n                    error,\n                    workerID\n                });\n            }\n        });\n    }\n    run(worker, task) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const runPromise = (() => __awaiter(this, void 0, void 0, function* () {\n                const removeTaskFromWorkersRunningTasks = () => {\n                    worker.runningTasks = worker.runningTasks.filter(someRunPromise => someRunPromise !== runPromise);\n                };\n                // Defer task execution by one tick to give handlers time to subscribe\n                yield delay(0);\n                try {\n                    yield this.runPoolTask(worker, task);\n                }\n                finally {\n                    removeTaskFromWorkersRunningTasks();\n                    if (!this.isClosing) {\n                        this.scheduleWork();\n                    }\n                }\n            }))();\n            worker.runningTasks.push(runPromise);\n        });\n    }\n    scheduleWork() {\n        this.debug(`Attempt de-queueing a task in order to run it...`);\n        const availableWorker = this.findIdlingWorker();\n        if (!availableWorker)\n            return;\n        const nextTask = this.taskQueue.shift();\n        if (!nextTask) {\n            this.debug(`Task queue is empty`);\n            this.eventSubject.next({ type: pool_types_1.PoolEventType.taskQueueDrained });\n            return;\n        }\n        this.run(availableWorker, nextTask);\n    }\n    taskCompletion(taskID) {\n        return new Promise((resolve, reject) => {\n            const eventSubscription = this.events().subscribe(event => {\n                if (event.type === pool_types_1.PoolEventType.taskCompleted && event.taskID === taskID) {\n                    eventSubscription.unsubscribe();\n                    resolve(event.returnValue);\n                }\n                else if (event.type === pool_types_1.PoolEventType.taskFailed && event.taskID === taskID) {\n                    eventSubscription.unsubscribe();\n                    reject(event.error);\n                }\n                else if (event.type === pool_types_1.PoolEventType.terminated) {\n                    eventSubscription.unsubscribe();\n                    reject(Error(\"Pool has been terminated before task was run.\"));\n                }\n            });\n        });\n    }\n    settled(allowResolvingImmediately = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const getCurrentlyRunningTasks = () => flatMap(this.workers, worker => worker.runningTasks);\n            const taskFailures = [];\n            const failureSubscription = this.eventObservable.subscribe(event => {\n                if (event.type === pool_types_1.PoolEventType.taskFailed) {\n                    taskFailures.push(event.error);\n                }\n            });\n            if (this.initErrors.length > 0) {\n                return Promise.reject(this.initErrors[0]);\n            }\n            if (allowResolvingImmediately && this.taskQueue.length === 0) {\n                yield ponyfills_1.allSettled(getCurrentlyRunningTasks());\n                return taskFailures;\n            }\n            yield new Promise((resolve, reject) => {\n                const subscription = this.eventObservable.subscribe({\n                    next(event) {\n                        if (event.type === pool_types_1.PoolEventType.taskQueueDrained) {\n                            subscription.unsubscribe();\n                            resolve();\n                        }\n                    },\n                    error: reject // make a pool-wide error reject the completed() result promise\n                });\n            });\n            yield ponyfills_1.allSettled(getCurrentlyRunningTasks());\n            failureSubscription.unsubscribe();\n            return taskFailures;\n        });\n    }\n    completed(allowResolvingImmediately = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const settlementPromise = this.settled(allowResolvingImmediately);\n            const earlyExitPromise = new Promise((resolve, reject) => {\n                const subscription = this.eventObservable.subscribe({\n                    next(event) {\n                        if (event.type === pool_types_1.PoolEventType.taskQueueDrained) {\n                            subscription.unsubscribe();\n                            resolve(settlementPromise);\n                        }\n                        else if (event.type === pool_types_1.PoolEventType.taskFailed) {\n                            subscription.unsubscribe();\n                            reject(event.error);\n                        }\n                    },\n                    error: reject // make a pool-wide error reject the completed() result promise\n                });\n            });\n            const errors = yield Promise.race([\n                settlementPromise,\n                earlyExitPromise\n            ]);\n            if (errors.length > 0) {\n                throw errors[0];\n            }\n        });\n    }\n    events() {\n        return this.eventObservable;\n    }\n    queue(taskFunction) {\n        const { maxQueuedJobs = Infinity } = this.options;\n        if (this.isClosing) {\n            throw Error(`Cannot schedule pool tasks after terminate() has been called.`);\n        }\n        if (this.initErrors.length > 0) {\n            throw this.initErrors[0];\n        }\n        const taskCompleted = () => this.taskCompletion(task.id);\n        let taskCompletionDotThen;\n        const task = {\n            id: this.nextTaskID++,\n            run: taskFunction,\n            cancel: () => {\n                if (this.taskQueue.indexOf(task) === -1)\n                    return;\n                this.taskQueue = this.taskQueue.filter(someTask => someTask !== task);\n                this.eventSubject.next({\n                    type: pool_types_1.PoolEventType.taskCanceled,\n                    taskID: task.id\n                });\n            },\n            get then() {\n                if (!taskCompletionDotThen) {\n                    const promise = taskCompleted();\n                    taskCompletionDotThen = promise.then.bind(promise);\n                }\n                return taskCompletionDotThen;\n            }\n        };\n        if (this.taskQueue.length >= maxQueuedJobs) {\n            throw Error(\"Maximum number of pool tasks queued. Refusing to queue another one.\\n\" +\n                \"This usually happens for one of two reasons: We are either at peak \" +\n                \"workload right now or some tasks just won't finish, thus blocking the pool.\");\n        }\n        this.debug(`Queueing task #${task.id}...`);\n        this.taskQueue.push(task);\n        this.eventSubject.next({\n            type: pool_types_1.PoolEventType.taskQueued,\n            taskID: task.id\n        });\n        this.scheduleWork();\n        return task;\n    }\n    terminate(force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.isClosing = true;\n            if (!force) {\n                yield this.completed(true);\n            }\n            this.eventSubject.next({\n                type: pool_types_1.PoolEventType.terminated,\n                remainingQueue: [...this.taskQueue]\n            });\n            this.eventSubject.complete();\n            yield Promise.all(this.workers.map((worker) => __awaiter(this, void 0, void 0, function* () { return thread_1.Thread.terminate(yield worker.init); })));\n        });\n    }\n}\nWorkerPool.EventType = pool_types_1.PoolEventType;\n/**\n * Thread pool constructor. Creates a new pool and spawns its worker threads.\n */\nfunction PoolConstructor(spawnWorker, optionsOrSize) {\n    // The function exists only so we don't need to use `new` to create a pool (we still can, though).\n    // If the Pool is a class or not is an implementation detail that should not concern the user.\n    return new WorkerPool(spawnWorker, optionsOrSize);\n}\nPoolConstructor.EventType = pool_types_1.PoolEventType;\n/**\n * Thread pool constructor. Creates a new pool and spawns its worker threads.\n */\nexports.Pool = PoolConstructor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst doNothing = () => undefined;\n/**\n * Creates a new promise and exposes its resolver function.\n * Use with care!\n */\nfunction createPromiseWithResolver() {\n    let alreadyResolved = false;\n    let resolvedTo;\n    let resolver = doNothing;\n    const promise = new Promise(resolve => {\n        if (alreadyResolved) {\n            resolve(resolvedTo);\n        }\n        else {\n            resolver = resolve;\n        }\n    });\n    const exposedResolver = (value) => {\n        alreadyResolved = true;\n        resolvedTo = value;\n        resolver();\n    };\n    return [promise, exposedResolver];\n}\nexports.createPromiseWithResolver = createPromiseWithResolver;\n","\"use strict\";\n/// <reference lib=\"dom\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"../symbols\");\n/** Event as emitted by worker thread. Subscribe to using `Thread.events(thread)`. */\nvar WorkerEventType;\n(function (WorkerEventType) {\n    WorkerEventType[\"internalError\"] = \"internalError\";\n    WorkerEventType[\"message\"] = \"message\";\n    WorkerEventType[\"termination\"] = \"termination\";\n})(WorkerEventType = exports.WorkerEventType || (exports.WorkerEventType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst observable_fns_1 = require(\"observable-fns\");\nconst doNothing = () => undefined;\nconst returnInput = (input) => input;\nconst runDeferred = (fn) => Promise.resolve().then(fn);\nfunction fail(error) {\n    throw error;\n}\nfunction isThenable(thing) {\n    return thing && typeof thing.then === \"function\";\n}\n/**\n * Creates a hybrid, combining the APIs of an Observable and a Promise.\n *\n * It is used to proxy async process states when we are initially not sure\n * if that async process will yield values once (-> Promise) or multiple\n * times (-> Observable).\n *\n * Note that the observable promise inherits some of the observable's characteristics:\n * The `init` function will be called *once for every time anyone subscribes to it*.\n *\n * If this is undesired, derive a hot observable from it using `makeHot()` and\n * subscribe to that.\n */\nclass ObservablePromise extends observable_fns_1.Observable {\n    constructor(init) {\n        super(originalObserver => {\n            // tslint:disable-next-line no-this-assignment\n            const self = this;\n            const observer = Object.assign(Object.assign({}, originalObserver), { complete() {\n                    originalObserver.complete();\n                    self.onCompletion();\n                },\n                error(error) {\n                    originalObserver.error(error);\n                    self.onError(error);\n                },\n                next(value) {\n                    originalObserver.next(value);\n                    self.onNext(value);\n                } });\n            try {\n                this.initHasRun = true;\n                return init(observer);\n            }\n            catch (error) {\n                observer.error(error);\n            }\n        });\n        this.initHasRun = false;\n        this.fulfillmentCallbacks = [];\n        this.rejectionCallbacks = [];\n        this.firstValueSet = false;\n        this.state = \"pending\";\n    }\n    onNext(value) {\n        if (!this.firstValueSet) {\n            this.firstValue = value;\n            this.firstValueSet = true;\n        }\n    }\n    onError(error) {\n        this.state = \"rejected\";\n        this.rejection = error;\n        for (const onRejected of this.rejectionCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onRejected(error));\n        }\n    }\n    onCompletion() {\n        this.state = \"fulfilled\";\n        for (const onFulfilled of this.fulfillmentCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onFulfilled(this.firstValue));\n        }\n    }\n    then(onFulfilledRaw, onRejectedRaw) {\n        const onFulfilled = onFulfilledRaw || returnInput;\n        const onRejected = onRejectedRaw || fail;\n        let onRejectedCalled = false;\n        return new Promise((resolve, reject) => {\n            const rejectionCallback = (error) => {\n                if (onRejectedCalled)\n                    return;\n                onRejectedCalled = true;\n                try {\n                    resolve(onRejected(error));\n                }\n                catch (anotherError) {\n                    reject(anotherError);\n                }\n            };\n            const fulfillmentCallback = (value) => {\n                try {\n                    resolve(onFulfilled(value));\n                }\n                catch (error) {\n                    rejectionCallback(error);\n                }\n            };\n            if (!this.initHasRun) {\n                this.subscribe({ error: rejectionCallback });\n            }\n            if (this.state === \"fulfilled\") {\n                return resolve(onFulfilled(this.firstValue));\n            }\n            if (this.state === \"rejected\") {\n                onRejectedCalled = true;\n                return resolve(onRejected(this.rejection));\n            }\n            this.fulfillmentCallbacks.push(fulfillmentCallback);\n            this.rejectionCallbacks.push(rejectionCallback);\n        });\n    }\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n    finally(onCompleted) {\n        const handler = onCompleted || doNothing;\n        return this.then((value) => {\n            handler();\n            return value;\n        }, () => handler());\n    }\n    static from(thing) {\n        if (isThenable(thing)) {\n            return new ObservablePromise(observer => {\n                const onFulfilled = (value) => {\n                    observer.next(value);\n                    observer.complete();\n                };\n                const onRejected = (error) => {\n                    observer.error(error);\n                };\n                thing.then(onFulfilled, onRejected);\n            });\n        }\n        else {\n            return super.from(thing);\n        }\n    }\n}\nexports.ObservablePromise = ObservablePromise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"./symbols\");\nfunction isTransferable(thing) {\n    if (!thing || typeof thing !== \"object\")\n        return false;\n    // Don't check too thoroughly, since the list of transferable things in JS might grow over time\n    return true;\n}\nfunction isTransferDescriptor(thing) {\n    return thing && typeof thing === \"object\" && thing[symbols_1.$transferable];\n}\nexports.isTransferDescriptor = isTransferDescriptor;\nfunction Transfer(payload, transferables) {\n    if (!transferables) {\n        if (!isTransferable(payload))\n            throw Error();\n        transferables = [payload];\n    }\n    return {\n        [symbols_1.$transferable]: true,\n        send: payload,\n        transferables\n    };\n}\nexports.Transfer = Transfer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/////////////////////////////\n// Messages sent by master:\nvar MasterMessageType;\n(function (MasterMessageType) {\n    MasterMessageType[\"run\"] = \"run\";\n})(MasterMessageType = exports.MasterMessageType || (exports.MasterMessageType = {}));\n////////////////////////////\n// Messages sent by worker:\nvar WorkerMessageType;\n(function (WorkerMessageType) {\n    WorkerMessageType[\"error\"] = \"error\";\n    WorkerMessageType[\"init\"] = \"init\";\n    WorkerMessageType[\"result\"] = \"result\";\n    WorkerMessageType[\"running\"] = \"running\";\n    WorkerMessageType[\"uncaughtError\"] = \"uncaughtError\";\n})(WorkerMessageType = exports.WorkerMessageType || (exports.WorkerMessageType = {}));\n","\"use strict\";\n/*\n * This source file contains the code for proxying calls in the master thread to calls in the workers\n * by `.postMessage()`-ing.\n *\n * Keep in mind that this code can make or break the program's performance! Need to optimize more\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst common_1 = require(\"../common\");\nconst observable_promise_1 = require(\"../observable-promise\");\nconst transferable_1 = require(\"../transferable\");\nconst messages_1 = require(\"../types/messages\");\nconst debugMessages = debug_1.default(\"threads:master:messages\");\nlet nextJobUID = 1;\nconst dedupe = (array) => Array.from(new Set(array));\nconst isJobErrorMessage = (data) => data && data.type === messages_1.WorkerMessageType.error;\nconst isJobResultMessage = (data) => data && data.type === messages_1.WorkerMessageType.result;\nconst isJobStartMessage = (data) => data && data.type === messages_1.WorkerMessageType.running;\nfunction createObservableForJob(worker, jobUID) {\n    return new observable_fns_1.Observable(observer => {\n        let asyncType;\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker:\", event.data);\n            if (!event.data || event.data.uid !== jobUID)\n                return;\n            if (isJobStartMessage(event.data)) {\n                asyncType = event.data.resultType;\n            }\n            else if (isJobResultMessage(event.data)) {\n                if (asyncType === \"promise\") {\n                    if (typeof event.data.payload !== \"undefined\") {\n                        observer.next(common_1.deserialize(event.data.payload));\n                    }\n                    observer.complete();\n                    worker.removeEventListener(\"message\", messageHandler);\n                }\n                else {\n                    if (event.data.payload) {\n                        observer.next(common_1.deserialize(event.data.payload));\n                    }\n                    if (event.data.complete) {\n                        observer.complete();\n                        worker.removeEventListener(\"message\", messageHandler);\n                    }\n                }\n            }\n            else if (isJobErrorMessage(event.data)) {\n                const error = common_1.deserialize(event.data.error);\n                if (asyncType === \"promise\" || !asyncType) {\n                    observer.error(error);\n                }\n                else {\n                    observer.error(error);\n                }\n                worker.removeEventListener(\"message\", messageHandler);\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        return () => worker.removeEventListener(\"message\", messageHandler);\n    });\n}\nfunction prepareArguments(rawArgs) {\n    if (rawArgs.length === 0) {\n        // Exit early if possible\n        return {\n            args: [],\n            transferables: []\n        };\n    }\n    const args = [];\n    const transferables = [];\n    for (const arg of rawArgs) {\n        if (transferable_1.isTransferDescriptor(arg)) {\n            args.push(common_1.serialize(arg.send));\n            transferables.push(...arg.transferables);\n        }\n        else {\n            args.push(common_1.serialize(arg));\n        }\n    }\n    return {\n        args,\n        transferables: transferables.length === 0 ? transferables : dedupe(transferables)\n    };\n}\nfunction createProxyFunction(worker, method) {\n    return ((...rawArgs) => {\n        const uid = nextJobUID++;\n        const { args, transferables } = prepareArguments(rawArgs);\n        const runMessage = {\n            type: messages_1.MasterMessageType.run,\n            uid,\n            method,\n            args\n        };\n        debugMessages(\"Sending command to run function to worker:\", runMessage);\n        try {\n            worker.postMessage(runMessage, transferables);\n        }\n        catch (error) {\n            return observable_promise_1.ObservablePromise.from(Promise.reject(error));\n        }\n        return observable_promise_1.ObservablePromise.from(observable_fns_1.multicast(createObservableForJob(worker, uid)));\n    });\n}\nexports.createProxyFunction = createProxyFunction;\nfunction createProxyModule(worker, methodNames) {\n    const proxy = {};\n    for (const methodName of methodNames) {\n        proxy[methodName] = createProxyFunction(worker, methodName);\n    }\n    return proxy;\n}\nexports.createProxyModule = createProxyModule;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst common_1 = require(\"../common\");\nconst promise_1 = require(\"../promise\");\nconst symbols_1 = require(\"../symbols\");\nconst master_1 = require(\"../types/master\");\nconst invocation_proxy_1 = require(\"./invocation-proxy\");\nconst debugMessages = debug_1.default(\"threads:master:messages\");\nconst debugSpawn = debug_1.default(\"threads:master:spawn\");\nconst debugThreadUtils = debug_1.default(\"threads:master:thread-utils\");\nconst isInitMessage = (data) => data && data.type === \"init\";\nconst isUncaughtErrorMessage = (data) => data && data.type === \"uncaughtError\";\nconst initMessageTimeout = typeof process !== \"undefined\" && process.env.THREADS_WORKER_INIT_TIMEOUT\n    ? Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT, 10)\n    : 10000;\nfunction withTimeout(promise, timeoutInMs, errorMessage) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let timeoutHandle;\n        const timeout = new Promise((resolve, reject) => {\n            timeoutHandle = setTimeout(() => reject(Error(errorMessage)), timeoutInMs);\n        });\n        const result = yield Promise.race([\n            promise,\n            timeout\n        ]);\n        clearTimeout(timeoutHandle);\n        return result;\n    });\n}\nfunction receiveInitMessage(worker) {\n    return new Promise((resolve, reject) => {\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker before finishing initialization:\", event.data);\n            if (isInitMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                resolve(event.data);\n            }\n            else if (isUncaughtErrorMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                reject(common_1.deserialize(event.data.error));\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n    });\n}\nfunction createEventObservable(worker, workerTermination) {\n    return new observable_fns_1.Observable(observer => {\n        const messageHandler = ((messageEvent) => {\n            const workerEvent = {\n                type: master_1.WorkerEventType.message,\n                data: messageEvent.data\n            };\n            observer.next(workerEvent);\n        });\n        const rejectionHandler = ((errorEvent) => {\n            debugThreadUtils(\"Unhandled promise rejection event in thread:\", errorEvent);\n            const workerEvent = {\n                type: master_1.WorkerEventType.internalError,\n                error: Error(errorEvent.reason)\n            };\n            observer.next(workerEvent);\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        worker.addEventListener(\"unhandledrejection\", rejectionHandler);\n        workerTermination.then(() => {\n            const terminationEvent = {\n                type: master_1.WorkerEventType.termination\n            };\n            worker.removeEventListener(\"message\", messageHandler);\n            worker.removeEventListener(\"unhandledrejection\", rejectionHandler);\n            observer.next(terminationEvent);\n            observer.complete();\n        });\n    });\n}\nfunction createTerminator(worker) {\n    const [termination, resolver] = promise_1.createPromiseWithResolver();\n    const terminate = () => __awaiter(this, void 0, void 0, function* () {\n        debugThreadUtils(\"Terminating worker\");\n        // Newer versions of worker_threads workers return a promise\n        yield worker.terminate();\n        resolver();\n    });\n    return { terminate, termination };\n}\nfunction setPrivateThreadProps(raw, worker, workerEvents, terminate) {\n    const workerErrors = workerEvents\n        .filter(event => event.type === master_1.WorkerEventType.internalError)\n        .map(errorEvent => errorEvent.error);\n    // tslint:disable-next-line prefer-object-spread\n    return Object.assign(raw, {\n        [symbols_1.$errors]: workerErrors,\n        [symbols_1.$events]: workerEvents,\n        [symbols_1.$terminate]: terminate,\n        [symbols_1.$worker]: worker\n    });\n}\n/**\n * Spawn a new thread. Takes a fresh worker instance, wraps it in a thin\n * abstraction layer to provide the transparent API and verifies that\n * the worker has initialized successfully.\n *\n * @param worker Instance of `Worker`. Either a web worker, `worker_threads` worker or `tiny-worker` worker.\n * @param [options]\n * @param [options.timeout] Init message timeout. Default: 10000 or set by environment variable.\n */\nfunction spawn(worker, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        debugSpawn(\"Initializing new thread\");\n        const initMessage = yield withTimeout(receiveInitMessage(worker), options && options.timeout ? options.timeout : initMessageTimeout, `Timeout: Did not receive an init message from worker after ${initMessageTimeout}ms. Make sure the worker calls expose().`);\n        const exposed = initMessage.exposed;\n        const { termination, terminate } = createTerminator(worker);\n        const events = createEventObservable(worker, termination);\n        if (exposed.type === \"function\") {\n            const proxy = invocation_proxy_1.createProxyFunction(worker);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else if (exposed.type === \"module\") {\n            const proxy = invocation_proxy_1.createProxyModule(worker, exposed.methods);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else {\n            const type = exposed.type;\n            throw Error(`Worker init message states unexpected type of expose(): ${type}`);\n        }\n    });\n}\nexports.spawn = spawn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst implementation_1 = require(\"./implementation\");\nvar pool_1 = require(\"./pool\");\nexports.Pool = pool_1.Pool;\nvar spawn_1 = require(\"./spawn\");\nexports.spawn = spawn_1.spawn;\nvar thread_1 = require(\"./thread\");\nexports.Thread = thread_1.Thread;\n/** Worker implementation. Either web worker or a node.js Worker class. */\nexports.Worker = implementation_1.selectWorkerImplementation();\n","\"use strict\";\n/// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isWorkerRuntime = function isWorkerRuntime() {\n    return typeof self !== \"undefined\" && self.postMessage ? true : false;\n};\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n    self.postMessage(data, transferList);\n};\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n    const messageHandler = (messageEvent) => {\n        onMessage(messageEvent.data);\n    };\n    const unsubscribe = () => {\n        self.removeEventListener(\"message\", messageHandler);\n    };\n    self.addEventListener(\"message\", messageHandler);\n    return unsubscribe;\n};\nexports.default = {\n    isWorkerRuntime,\n    postMessageToMaster,\n    subscribeToMasterMessages\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_observable_1 = __importDefault(require(\"is-observable\"));\nconst common_1 = require(\"../common\");\nconst transferable_1 = require(\"../transferable\");\nconst messages_1 = require(\"../types/messages\");\nconst implementation_1 = __importDefault(require(\"./implementation\"));\nvar common_2 = require(\"../common\");\nexports.registerSerializer = common_2.registerSerializer;\nvar transferable_2 = require(\"../transferable\");\nexports.Transfer = transferable_2.Transfer;\nlet exposeCalled = false;\nconst isMasterJobRunMessage = (thing) => thing && thing.type === messages_1.MasterMessageType.run;\n/**\n * There are issues with `is-observable` not recognizing zen-observable's instances.\n * We are using `observable-fns`, but it's based on zen-observable, too.\n */\nconst isObservable = (thing) => is_observable_1.default(thing) || isZenObservable(thing);\nfunction isZenObservable(thing) {\n    return thing && typeof thing === \"object\" && typeof thing.subscribe === \"function\";\n}\nfunction deconstructTransfer(thing) {\n    return transferable_1.isTransferDescriptor(thing)\n        ? { payload: thing.send, transferables: thing.transferables }\n        : { payload: thing, transferables: undefined };\n}\nfunction postFunctionInitMessage() {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"function\"\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postModuleInitMessage(methodNames) {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"module\",\n            methods: methodNames\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postJobErrorMessage(uid, rawError) {\n    const { payload: error, transferables } = deconstructTransfer(rawError);\n    const errorMessage = {\n        type: messages_1.WorkerMessageType.error,\n        uid,\n        error: common_1.serialize(error)\n    };\n    implementation_1.default.postMessageToMaster(errorMessage, transferables);\n}\nfunction postJobResultMessage(uid, completed, resultValue) {\n    const { payload, transferables } = deconstructTransfer(resultValue);\n    const resultMessage = {\n        type: messages_1.WorkerMessageType.result,\n        uid,\n        complete: completed ? true : undefined,\n        payload\n    };\n    implementation_1.default.postMessageToMaster(resultMessage, transferables);\n}\nfunction postJobStartMessage(uid, resultType) {\n    const startMessage = {\n        type: messages_1.WorkerMessageType.running,\n        uid,\n        resultType\n    };\n    implementation_1.default.postMessageToMaster(startMessage);\n}\nfunction postUncaughtErrorMessage(error) {\n    try {\n        const errorMessage = {\n            type: messages_1.WorkerMessageType.uncaughtError,\n            error: common_1.serialize(error)\n        };\n        implementation_1.default.postMessageToMaster(errorMessage);\n    }\n    catch (subError) {\n        // tslint:disable-next-line no-console\n        console.error(\"Not reporting uncaught error back to master thread as it \" +\n            \"occured while reporting an uncaught error already.\" +\n            \"\\nLatest error:\", subError, \"\\nOriginal error:\", error);\n    }\n}\nfunction runFunction(jobUID, fn, args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let syncResult;\n        try {\n            syncResult = fn(...args);\n        }\n        catch (error) {\n            return postJobErrorMessage(jobUID, error);\n        }\n        const resultType = isObservable(syncResult) ? \"observable\" : \"promise\";\n        postJobStartMessage(jobUID, resultType);\n        if (isObservable(syncResult)) {\n            syncResult.subscribe(value => postJobResultMessage(jobUID, false, common_1.serialize(value)), error => postJobErrorMessage(jobUID, common_1.serialize(error)), () => postJobResultMessage(jobUID, true));\n        }\n        else {\n            try {\n                const result = yield syncResult;\n                postJobResultMessage(jobUID, true, common_1.serialize(result));\n            }\n            catch (error) {\n                postJobErrorMessage(jobUID, common_1.serialize(error));\n            }\n        }\n    });\n}\n/**\n * Expose a function or a module (an object whose values are functions)\n * to the main thread. Must be called exactly once in every worker thread\n * to signal its API to the main thread.\n *\n * @param exposed Function or object whose values are functions\n */\nfunction expose(exposed) {\n    if (!implementation_1.default.isWorkerRuntime()) {\n        throw Error(\"expose() called in the master thread.\");\n    }\n    if (exposeCalled) {\n        throw Error(\"expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.\");\n    }\n    exposeCalled = true;\n    if (typeof exposed === \"function\") {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && !messageData.method) {\n                runFunction(messageData.uid, exposed, messageData.args.map(common_1.deserialize));\n            }\n        });\n        postFunctionInitMessage();\n    }\n    else if (typeof exposed === \"object\" && exposed) {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && messageData.method) {\n                runFunction(messageData.uid, exposed[messageData.method], messageData.args.map(common_1.deserialize));\n            }\n        });\n        const methodNames = Object.keys(exposed).filter(key => typeof exposed[key] === \"function\");\n        postModuleInitMessage(methodNames);\n    }\n    else {\n        throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${exposed}`);\n    }\n}\nexports.expose = expose;\nif (typeof self !== \"undefined\" && typeof self.addEventListener === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    self.addEventListener(\"error\", event => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(event.error || event), 250);\n    });\n    self.addEventListener(\"unhandledrejection\", event => {\n        const error = event.reason;\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\nif (typeof process !== \"undefined\" && typeof process.on === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    process.on(\"uncaughtException\", (error) => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(error), 250);\n    });\n    process.on(\"unhandledRejection\", (error) => {\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = require(\"./common\");\nexports.registerSerializer = common_1.registerSerializer;\n__export(require(\"./master/index\"));\nvar index_1 = require(\"./worker/index\");\nexports.expose = index_1.expose;\nvar serializers_1 = require(\"./serializers\");\nexports.DefaultSerializer = serializers_1.DefaultSerializer;\nvar transferable_1 = require(\"./transferable\");\nexports.Transfer = transferable_1.Transfer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst index_1 = require(\"./index\");\nif (typeof global !== \"undefined\") {\n    global.Worker = index_1.Worker;\n}\nelse if (typeof window !== \"undefined\") {\n    window.Worker = index_1.Worker;\n}\n","require(\"./dist/master/register\")\n","/****\n * The MIT License\n *\n * Copyright (c) 2015 Marco Ziccardi\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n ****/\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('timsort', ['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.timsort = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.sort = sort;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  var DEFAULT_MIN_MERGE = 32;\n\n  var DEFAULT_MIN_GALLOPING = 7;\n\n  var DEFAULT_TMP_STORAGE_LENGTH = 256;\n\n  var POWERS_OF_TEN = [1e0, 1e1, 1e2, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9];\n\n  function log10(x) {\n    if (x < 1e5) {\n      if (x < 1e2) {\n        return x < 1e1 ? 0 : 1;\n      }\n\n      if (x < 1e4) {\n        return x < 1e3 ? 2 : 3;\n      }\n\n      return 4;\n    }\n\n    if (x < 1e7) {\n      return x < 1e6 ? 5 : 6;\n    }\n\n    if (x < 1e9) {\n      return x < 1e8 ? 7 : 8;\n    }\n\n    return 9;\n  }\n\n  function alphabeticalCompare(a, b) {\n    if (a === b) {\n      return 0;\n    }\n\n    if (~ ~a === a && ~ ~b === b) {\n      if (a === 0 || b === 0) {\n        return a < b ? -1 : 1;\n      }\n\n      if (a < 0 || b < 0) {\n        if (b >= 0) {\n          return -1;\n        }\n\n        if (a >= 0) {\n          return 1;\n        }\n\n        a = -a;\n        b = -b;\n      }\n\n      var al = log10(a);\n      var bl = log10(b);\n\n      var t = 0;\n\n      if (al < bl) {\n        a *= POWERS_OF_TEN[bl - al - 1];\n        b /= 10;\n        t = -1;\n      } else if (al > bl) {\n        b *= POWERS_OF_TEN[al - bl - 1];\n        a /= 10;\n        t = 1;\n      }\n\n      if (a === b) {\n        return t;\n      }\n\n      return a < b ? -1 : 1;\n    }\n\n    var aStr = String(a);\n    var bStr = String(b);\n\n    if (aStr === bStr) {\n      return 0;\n    }\n\n    return aStr < bStr ? -1 : 1;\n  }\n\n  function minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n      r |= n & 1;\n      n >>= 1;\n    }\n\n    return n + r;\n  }\n\n  function makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n      return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n        runHi++;\n      }\n\n      reverseRun(array, lo, runHi);\n    } else {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n        runHi++;\n      }\n    }\n\n    return runHi - lo;\n  }\n\n  function reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n      var t = array[lo];\n      array[lo++] = array[hi];\n      array[hi--] = t;\n    }\n  }\n\n  function binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n      start++;\n    }\n\n    for (; start < hi; start++) {\n      var pivot = array[start];\n\n      var left = lo;\n      var right = start;\n\n      while (left < right) {\n        var mid = left + right >>> 1;\n\n        if (compare(pivot, array[mid]) < 0) {\n          right = mid;\n        } else {\n          left = mid + 1;\n        }\n      }\n\n      var n = start - left;\n\n      switch (n) {\n        case 3:\n          array[left + 3] = array[left + 2];\n\n        case 2:\n          array[left + 2] = array[left + 1];\n\n        case 1:\n          array[left + 1] = array[left];\n          break;\n        default:\n          while (n > 0) {\n            array[left + n] = array[left + n - 1];\n            n--;\n          }\n      }\n\n      array[left] = pivot;\n    }\n  }\n\n  function gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    } else {\n      maxOffset = hint + 1;\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    }\n\n    lastOffset++;\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) > 0) {\n        lastOffset = m + 1;\n      } else {\n        offset = m;\n      }\n    }\n    return offset;\n  }\n\n  function gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    } else {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) < 0) {\n        offset = m;\n      } else {\n        lastOffset = m + 1;\n      }\n    }\n\n    return offset;\n  }\n\n  var TimSort = (function () {\n    function TimSort(array, compare) {\n      _classCallCheck(this, TimSort);\n\n      this.array = null;\n      this.compare = null;\n      this.minGallop = DEFAULT_MIN_GALLOPING;\n      this.length = 0;\n      this.tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n      this.stackLength = 0;\n      this.runStart = null;\n      this.runLength = null;\n      this.stackSize = 0;\n\n      this.array = array;\n      this.compare = compare;\n\n      this.length = array.length;\n\n      if (this.length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n        this.tmpStorageLength = this.length >>> 1;\n      }\n\n      this.tmp = new Array(this.tmpStorageLength);\n\n      this.stackLength = this.length < 120 ? 5 : this.length < 1542 ? 10 : this.length < 119151 ? 19 : 40;\n\n      this.runStart = new Array(this.stackLength);\n      this.runLength = new Array(this.stackLength);\n    }\n\n    TimSort.prototype.pushRun = function pushRun(runStart, runLength) {\n      this.runStart[this.stackSize] = runStart;\n      this.runLength[this.stackSize] = runLength;\n      this.stackSize += 1;\n    };\n\n    TimSort.prototype.mergeRuns = function mergeRuns() {\n      while (this.stackSize > 1) {\n        var n = this.stackSize - 2;\n\n        if (n >= 1 && this.runLength[n - 1] <= this.runLength[n] + this.runLength[n + 1] || n >= 2 && this.runLength[n - 2] <= this.runLength[n] + this.runLength[n - 1]) {\n\n          if (this.runLength[n - 1] < this.runLength[n + 1]) {\n            n--;\n          }\n        } else if (this.runLength[n] > this.runLength[n + 1]) {\n          break;\n        }\n        this.mergeAt(n);\n      }\n    };\n\n    TimSort.prototype.forceMergeRuns = function forceMergeRuns() {\n      while (this.stackSize > 1) {\n        var n = this.stackSize - 2;\n\n        if (n > 0 && this.runLength[n - 1] < this.runLength[n + 1]) {\n          n--;\n        }\n\n        this.mergeAt(n);\n      }\n    };\n\n    TimSort.prototype.mergeAt = function mergeAt(i) {\n      var compare = this.compare;\n      var array = this.array;\n\n      var start1 = this.runStart[i];\n      var length1 = this.runLength[i];\n      var start2 = this.runStart[i + 1];\n      var length2 = this.runLength[i + 1];\n\n      this.runLength[i] = length1 + length2;\n\n      if (i === this.stackSize - 3) {\n        this.runStart[i + 1] = this.runStart[i + 2];\n        this.runLength[i + 1] = this.runLength[i + 2];\n      }\n\n      this.stackSize--;\n\n      var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n      start1 += k;\n      length1 -= k;\n\n      if (length1 === 0) {\n        return;\n      }\n\n      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n      if (length2 === 0) {\n        return;\n      }\n\n      if (length1 <= length2) {\n        this.mergeLow(start1, length1, start2, length2);\n      } else {\n        this.mergeHigh(start1, length1, start2, length2);\n      }\n    };\n\n    TimSort.prototype.mergeLow = function mergeLow(start1, length1, start2, length2) {\n\n      var compare = this.compare;\n      var array = this.array;\n      var tmp = this.tmp;\n      var i = 0;\n\n      for (i = 0; i < length1; i++) {\n        tmp[i] = array[start1 + i];\n      }\n\n      var cursor1 = 0;\n      var cursor2 = start2;\n      var dest = start1;\n\n      array[dest++] = array[cursor2++];\n\n      if (--length2 === 0) {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n        return;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n        array[dest + length2] = tmp[cursor1];\n        return;\n      }\n\n      var minGallop = this.minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(array[cursor2], tmp[cursor1]) < 0) {\n            array[dest++] = array[cursor2++];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest++] = tmp[cursor1++];\n            count1++;\n            count2 = 0;\n            if (--length1 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n          if (count1 !== 0) {\n            for (i = 0; i < count1; i++) {\n              array[dest + i] = tmp[cursor1 + i];\n            }\n\n            dest += count1;\n            cursor1 += count1;\n            length1 -= count1;\n            if (length1 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = array[cursor2++];\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n\n          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n          if (count2 !== 0) {\n            for (i = 0; i < count2; i++) {\n              array[dest + i] = array[cursor2 + i];\n            }\n\n            dest += count2;\n            cursor2 += count2;\n            length2 -= count2;\n\n            if (length2 === 0) {\n              exit = true;\n              break;\n            }\n          }\n          array[dest++] = tmp[cursor1++];\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n\n          minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (minGallop < 0) {\n          minGallop = 0;\n        }\n\n        minGallop += 2;\n      }\n\n      this.minGallop = minGallop;\n\n      if (minGallop < 1) {\n        this.minGallop = 1;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n        array[dest + length2] = tmp[cursor1];\n      } else if (length1 === 0) {\n        throw new Error('mergeLow preconditions were not respected');\n      } else {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n      }\n    };\n\n    TimSort.prototype.mergeHigh = function mergeHigh(start1, length1, start2, length2) {\n      var compare = this.compare;\n      var array = this.array;\n      var tmp = this.tmp;\n      var i = 0;\n\n      for (i = 0; i < length2; i++) {\n        tmp[i] = array[start2 + i];\n      }\n\n      var cursor1 = start1 + length1 - 1;\n      var cursor2 = length2 - 1;\n      var dest = start2 + length2 - 1;\n      var customCursor = 0;\n      var customDest = 0;\n\n      array[dest--] = array[cursor1--];\n\n      if (--length1 === 0) {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n\n        return;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n        return;\n      }\n\n      var minGallop = this.minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(tmp[cursor2], array[cursor1]) < 0) {\n            array[dest--] = array[cursor1--];\n            count1++;\n            count2 = 0;\n            if (--length1 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest--] = tmp[cursor2--];\n            count2++;\n            count1 = 0;\n            if (--length2 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n          if (count1 !== 0) {\n            dest -= count1;\n            cursor1 -= count1;\n            length1 -= count1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = count1 - 1; i >= 0; i--) {\n              array[customDest + i] = array[customCursor + i];\n            }\n\n            if (length1 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = tmp[cursor2--];\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n\n          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n          if (count2 !== 0) {\n            dest -= count2;\n            cursor2 -= count2;\n            length2 -= count2;\n            customDest = dest + 1;\n            customCursor = cursor2 + 1;\n\n            for (i = 0; i < count2; i++) {\n              array[customDest + i] = tmp[customCursor + i];\n            }\n\n            if (length2 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = array[cursor1--];\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n\n          minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (minGallop < 0) {\n          minGallop = 0;\n        }\n\n        minGallop += 2;\n      }\n\n      this.minGallop = minGallop;\n\n      if (minGallop < 1) {\n        this.minGallop = 1;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n      } else if (length2 === 0) {\n        throw new Error('mergeHigh preconditions were not respected');\n      } else {\n        customCursor = dest - (length2 - 1);\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n      }\n    };\n\n    return TimSort;\n  })();\n\n  function sort(array, compare, lo, hi) {\n    if (!Array.isArray(array)) {\n      throw new TypeError('Can only sort arrays');\n    }\n\n    if (!compare) {\n      compare = alphabeticalCompare;\n    } else if (typeof compare !== 'function') {\n      hi = lo;\n      lo = compare;\n      compare = alphabeticalCompare;\n    }\n\n    if (!lo) {\n      lo = 0;\n    }\n    if (!hi) {\n      hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n      return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n      return;\n    }\n\n    var ts = new TimSort(array, compare);\n\n    var minRun = minRunLength(remaining);\n\n    do {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      if (runLength < minRun) {\n        var force = remaining;\n        if (force > minRun) {\n          force = minRun;\n        }\n\n        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n        runLength = force;\n      }\n\n      ts.pushRun(lo, runLength);\n      ts.mergeRuns();\n\n      remaining -= runLength;\n      lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n  }\n});\n","module.exports = require('./build/timsort.js');","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","import {sum} from '../utils/Utils';\n\nexport type lossType = (targets: number[], outputs: number[]) => number;\n\nexport const MSELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += (targets[index] - value) ** 2;\n  });\n  return error / outputs.length;\n};\nexport const MBELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += targets[index] - value;\n  });\n  return error / outputs.length;\n};\nexport const BinaryLoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += Math.round(targets[index] * 2) !== Math.round(value * 2) ? 1 : 0;\n  });\n  return error / outputs.length;\n};\nexport const MAELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += Math.abs(targets[index] - value);\n  });\n  return error / outputs.length;\n};\nexport const MAPELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += Math.abs(\n      (value - targets[index]) / Math.max(targets[index], 1e-15)\n    );\n  });\n  return error / outputs.length;\n};\nexport const WAPELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += Math.abs(targets[index] - value);\n  });\n  return error / sum(targets);\n};\nexport const MSLELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error +=\n      Math.log(Math.max(targets[index], 1e-15)) -\n      Math.log(Math.max(value, 1e-15));\n  });\n  return error / outputs.length;\n};\n\nexport const HINGELoss: lossType = function (\n  targets: number[],\n  outputs: number[]\n): number {\n  let error = 0;\n  outputs.forEach((value, index) => {\n    error += Math.max(0, 1 - value * targets[index]);\n  });\n  return error / outputs.length;\n};\n\nexport const ALL_LOSSES: {\n  /**\n   * Mean Squared Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return [Mean squared error](https://medium.freecodecamp.org/machine-learning-mean-squared-error-regression-line-c7dde9a26b93)\n   */\n  MSELoss: lossType;\n  /**\n   * Binary Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return misses The amount of times targets value was missed\n   */\n  BinaryLoss: lossType;\n  /**\n   * Mean Squared Logarithmic Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return - [Mean squared logarithmic error](https://peltarion.com/knowledge-center/documentation/modeling-view/build-an-ai-model/loss-functions/mean-squared-logarithmic-error)\n   */\n  MSLELoss: lossType;\n  /**\n   * Mean Bias Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return [Mean bias error](https://towardsdatascience.com/common-loss-functions-in-machine-learning-46af0ffc4d23)\n   */\n  MBELoss: lossType;\n  /**\n   * Weighted Absolute Percentage Error (WAPE)\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return - [Weighted absolute percentage error](https://help.sap.com/doc/saphelp_nw70/7.0.31/en-US/76/487053bbe77c1ee10000000a174cb4/content.htm?no_cache=true)\n   */\n  WAPELoss: lossType;\n  /**\n   * Hinge loss, for classifiers\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return - [Hinge loss](https://towardsdatascience.com/support-vector-machines-intuitive-understanding-part-1-3fb049df4ba1)\n   */\n  HINGELoss: lossType;\n  /**\n   * Mean Absolute Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return [Mean absolute error](https://en.wikipedia.org/wiki/Mean_absolute_error)\n   */\n  MAELoss: lossType;\n  /**\n   * Mean Absolute Percentage Error\n   *\n   * @param targets Ideal value\n   * @param outputs Actual values\n   *\n   * @return [Mean absolute percentage error](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error)\n   */\n  MAPELoss: lossType;\n} = {\n  MSELoss,\n  MBELoss,\n  BinaryLoss,\n  MAELoss,\n  MAPELoss,\n  WAPELoss,\n  MSLELoss,\n  HINGELoss,\n};\n","import * as TimSort from 'timsort';\nimport {Species} from '../architecture/Species';\nimport {pickRandom, randDouble} from '../utils/Utils';\n\n/**\n * Genetic Algorithm Selection Methods (Genetic Operator)\n *\n * @see [Genetic Algorithm - Selection]{@link https://en.wikipedia.org/wiki/Selection_(genetic_algorithm)}\n */\nabstract class Selection {\n  /**\n   * Selects a genome from the population according to the Selection method.\n   *\n   * @param population the pool of networks\n   * @returns the selected genome\n   */\n  public abstract select(population: Species[]): Species;\n}\n\n/**\n * Fitness proportionate selection\n *\n * [Fitness Proportionate / Roulette Wheel Selection on Wikipedia](https://en.wikipedia.org/wiki/Fitness_proportionate_selection)\n */\nclass FitnessProportionateSelection extends Selection {\n  /**\n   * Selects a genome from the population according to the Selection method.\n   *\n   * @param population the pool of networks\n   * @returns the selected genome\n   */\n  public select(population: Species[]): Species {\n    let totalFitness = 0;\n    let minimalFitness = 0;\n    for (const genome of population) {\n      minimalFitness = Math.min(genome.score ?? minimalFitness, minimalFitness);\n      totalFitness += genome.score ?? 0;\n    }\n\n    minimalFitness = Math.abs(minimalFitness);\n    totalFitness += minimalFitness * population.length;\n\n    const random: number = randDouble(0, totalFitness);\n    let value = 0;\n\n    for (const genome of population) {\n      value += (genome.score ?? 0) + minimalFitness;\n      if (random < value) {\n        return genome;\n      }\n    }\n\n    return pickRandom(population);\n  }\n}\n\n/**\n * Power selection\n *\n * A random decimal value between 0 and 1 will be generated (e.g. 0.5) then this value will get an exponential value (power, default is 4). So 0.5**4 = 0.0625. This is converted into an index for the array of the current population, sorted from fittest to worst.\n */\nclass PowerSelection extends Selection {\n  /**\n   * Probability of picking better networks.\n   */\n  public readonly power: number;\n\n  /**\n   * Constructs a power selection.\n   * @param power Probability of picking better networks.\n   */\n  constructor(power = 4) {\n    super();\n    this.power = power;\n  }\n\n  /**\n   * Selects a genome from the population according to the Selection method.\n   *\n   * @param population the pool of networks\n   * @returns the selected genome\n   */\n  public select(population: Species[]): Species {\n    return population[\n      Math.floor(Math.random() ** this.power * population.length)\n    ];\n  }\n}\n\n/**\n * Tournament selection\n *\n * [Tournament Selection on Wikipedia](https://en.wikipedia.org/wiki/Tournament_selection)\n */\nclass TournamentSelection extends Selection {\n  /**\n   * The size of a tournament.\n   */\n  public readonly size: number;\n  /**\n   * The probability of just picking the best network.\n   */\n  public readonly probability: number;\n\n  /**\n   * Constructs a tournament selection.\n   * @param size the size of a tournament\n   * @param probability Selects the best individual (when probability = 1).\n   */\n  constructor(size = 5, probability = 0.5) {\n    super();\n    this.size = size;\n    this.probability = probability;\n  }\n\n  /**\n   * Selects a genome from the population according to the Selection method.\n   *\n   * @param population the pool of networks\n   * @returns the selected genome\n   */\n  public select(population: Species[]): Species {\n    if (this.size > population.length) {\n      throw new Error(\n        'Your tournament size should be lower than the population size, please change methods.selection.TOURNAMENT.size'\n      );\n    }\n\n    // Create a tournament\n    const individuals: Species[] = [];\n    for (let i = 0; i < this.size; i++) {\n      individuals.push(pickRandom(population));\n    }\n\n    // Sort the tournament individuals by score\n    TimSort.sort(individuals, (a: Species, b: Species) => {\n      return b.score === undefined || a.score === undefined\n        ? 0\n        : b.score - a.score;\n    });\n\n    // Select an individual\n    for (let i = 0; i < this.size; i++) {\n      if (Math.random() < this.probability || i === this.size - 1) {\n        return individuals[i];\n      }\n    }\n    return pickRandom(population);\n  }\n}\n\nexport {\n  Selection,\n  FitnessProportionateSelection,\n  PowerSelection,\n  TournamentSelection,\n};\n","import {ActivationType, ALL_ACTIVATIONS} from 'activations/build/src';\nimport os from 'os';\nimport {Network} from '../architecture/Network';\nimport {lossType, MSELoss} from '../methods/Loss';\nimport {FEEDFORWARD_MUTATIONS, Mutation} from '../methods/Mutation';\nimport {FitnessProportionateSelection, Selection} from '../methods/Selection';\nimport {TrainOptions} from './TrainOptions';\n\n/**\n * Options used to evolve network\n */\nexport class EvolveOptions {\n  constructor() {\n    this._input = 1;\n    this._output = 1;\n    this._generation = 0;\n    this._elitism = 1;\n    this._equal = true;\n    this._clear = false;\n    this._populationSize = 50;\n    this._mutationRate = 0.6;\n    this._mutationAmount = 5;\n\n    this._selection = new FitnessProportionateSelection();\n    this._loss = MSELoss;\n    this._mutations = FEEDFORWARD_MUTATIONS;\n    this._activations = Object.values(ALL_ACTIVATIONS);\n    this._template = new Network(this._input, this._output);\n    this._maxNodes = Infinity;\n    this._maxConnections = Infinity;\n    this._maxGates = Infinity;\n    this._threads = os.cpus().length;\n    this._log = -1;\n    this._iterations = 1000;\n    this._error = 0.05;\n    this._maxStagnation = 3;\n  }\n\n  /**\n   * Maximum amount of episodes without improvement before removing a species\n   */\n  private _maxStagnation: number;\n  /**\n   * Getter\n   */\n  public get maxStagnation(): number {\n    return this._maxStagnation;\n  }\n\n  /**\n   * Setter\n   * @param value\n   */\n  public set maxStagnation(value: number) {\n    this._maxStagnation = value;\n  }\n\n  /**\n   * How big could the distance be between a network and the represent of a species?\n   */\n  private _speciesDistanceThreshold = 4;\n\n  /**\n   * Getter\n   */\n  public get speciesDistanceThreshold(): number {\n    return this._speciesDistanceThreshold;\n  }\n\n  /**\n   * Setter\n   */\n  public set speciesDistanceThreshold(value: number) {\n    this._speciesDistanceThreshold = value;\n  }\n\n  private _c1 = 1;\n\n  /**\n   * Getter\n   */\n  public get c1(): number {\n    return this._c1;\n  }\n\n  /**\n   * Setter\n   */\n  public set c1(value: number) {\n    this._c1 = value;\n  }\n\n  private _c2 = 1;\n\n  /**\n   * Getter\n   */\n  public get c2(): number {\n    return this._c2;\n  }\n\n  /**\n   * Setter\n   */\n  public set c2(value: number) {\n    this._c2 = value;\n  }\n\n  private _c3 = 1;\n\n  /**\n   * Getter\n   */\n  public get c3(): number {\n    return this._c3;\n  }\n\n  /**\n   * Setter\n   */\n  public set c3(value: number) {\n    this._c3 = value;\n  }\n\n  private _survivors = 0.8;\n\n  /**\n   * Getter\n   */\n  public get survivors(): number {\n    return this._survivors;\n  }\n\n  /**\n   * Setter\n   */\n  public set survivors(value: number) {\n    this._survivors = value;\n  }\n\n  /**\n   * Specify the amount of threads to use. Default value is the amount of cores in your CPU.\n   */\n  private _threads: number;\n\n  /**\n   * Getter\n   */\n  public get threads(): number {\n    return this._threads;\n  }\n\n  /**\n   * Setter\n   */\n  public set threads(value: number) {\n    this._threads = value;\n  }\n\n  /**\n   * The input size of the network.\n   */\n  private _input: number;\n\n  /**\n   * Getter\n   */\n  public get input(): number {\n    return this._input;\n  }\n\n  /**\n   * Setter\n   */\n  public set input(value: number) {\n    this._input = value;\n  }\n\n  /**\n   * The output size of the network.\n   */\n  private _output: number;\n\n  /**\n   * Getter\n   */\n  public get output(): number {\n    return this._output;\n  }\n\n  /**\n   * Setter\n   */\n  public set output(value: number) {\n    this._output = value;\n  }\n\n  /**\n   * A set of input values and ideal output values to evaluate a genome's fitness with. Must be included to use `NEAT.evaluate` without passing a dataset.\n   */\n  private _dataset?: {\n    /**\n     * The input values\n     */\n    input: number[];\n    /**\n     * The target output values\n     */\n    output: number[];\n  }[];\n\n  /**\n   * Getter\n   */\n  public get dataset():\n    | {\n        /**\n         * The input values\n         */\n        input: number[];\n        /**\n         * The target output values\n         */\n        output: number[];\n      }[]\n    | undefined {\n    return this._dataset;\n  }\n\n  /**\n   * Setter\n   */\n  public set dataset(\n    value:\n      | {\n          /**\n           * The input values\n           */\n          input: number[];\n          /**\n           * The target output values\n           */\n          output: number[];\n        }[]\n      | undefined\n  ) {\n    this._dataset = value;\n  }\n\n  /**\n   * Num of generations already done.\n   */\n  private _generation: number;\n\n  /**\n   * Getter\n   */\n  public get generation(): number {\n    return this._generation;\n  }\n\n  /**\n   * Setter\n   */\n  public set generation(value: number) {\n    this._generation = value;\n  }\n\n  /**\n   * Train options used for training in between two evolution steps\n   */\n  private _training?: TrainOptions;\n\n  /**\n   * Getter\n   */\n  public get training(): TrainOptions | undefined {\n    return this._training;\n  }\n\n  /**\n   * Setter\n   */\n  public set training(value: TrainOptions | undefined) {\n    this._training = value;\n  }\n\n  /**\n   * A template network to create the population from.\n   */\n  private _template: Network;\n\n  /**\n   * Getter\n   */\n  public get template(): Network {\n    return this._template;\n  }\n\n  /**\n   * Setter\n   */\n  public set template(value: Network) {\n    this._template = value;\n  }\n\n  /**\n   * Sets allowed [mutation methods](Mutation) for evolution, a random mutation method will be chosen from the array when mutation occurs. Optional, but default methods are non-recurrent.\n   */\n  private _mutations: Mutation[];\n\n  /**\n   * Getter\n   */\n  public get mutations(): Mutation[] {\n    return this._mutations;\n  }\n\n  /**\n   * Setter\n   */\n  public set mutations(value: Mutation[]) {\n    this._mutations = value;\n  }\n\n  /**\n   * Sets allowed activations for evolution, a random activation method will be chosen from the array when activation mutation occurs.\n   */\n  private _activations: ActivationType[];\n\n  /**\n   * Getter\n   */\n  public get activations(): ActivationType[] {\n    return this._activations;\n  }\n\n  /**\n   * Setter\n   */\n  public set activations(value: ActivationType[]) {\n    this._activations = value;\n  }\n\n  /**\n   * [Selection method](selection) for evolution (e.g. methods.Selection.FITNESS_PROPORTIONATE).\n   */\n  private _selection: Selection;\n\n  /**\n   * Getter\n   */\n  public get selection(): Selection {\n    return this._selection;\n  }\n\n  /**\n   * Setter\n   */\n  public set selection(value: Selection) {\n    this._selection = value;\n  }\n\n  /**\n   * Sets the mutation rate. If set to 0.3, 30% of the new population will be mutated.\n   */\n  private _mutationRate: number;\n\n  /**\n   * Getter\n   */\n  public get mutationRate(): number {\n    return this._mutationRate;\n  }\n\n  /**\n   * Setter\n   */\n  public set mutationRate(value: number) {\n    this._mutationRate = value;\n  }\n\n  /**\n   * If mutation occurs (randomNumber < mutationRate), sets amount of times a mutation method will be applied to the network.\n   */\n  private _mutationAmount: number;\n\n  /**\n   * Getter\n   */\n  public get mutationAmount(): number {\n    return this._mutationAmount;\n  }\n\n  /**\n   * Setter\n   */\n  public set mutationAmount(value: number) {\n    this._mutationAmount = value;\n  }\n\n  /**\n   * Elitism of every evolution loop. [Elitism in genetic algorithms.](https://www.researchgate.net/post/What_is_meant_by_the_term_Elitism_in_the_Genetic_Algorithm)\n   */\n  private _elitism: number;\n\n  /**\n   * Getter\n   */\n  public get elitism(): number {\n    return this._elitism;\n  }\n\n  /**\n   * Setter\n   */\n  public set elitism(value: number) {\n    this._elitism = value;\n  }\n\n  /**\n   * Population size of each generation.\n   */\n  private _populationSize: number;\n\n  /**\n   * Getter\n   */\n  public get populationSize(): number {\n    return this._populationSize;\n  }\n\n  /**\n   * Setter\n   */\n  public set populationSize(value: number) {\n    this._populationSize = value;\n  }\n\n  /**\n   * A fitness function to evaluate the networks. Takes a `genome`, i.e. a [network](Network), and a `dataset` and sets the genome's score property\n   *\n   * @param population The population which needs to be evaluated\n   * @param dataset The dataset to test the networks.\n   */\n  private _fitnessFunction?: (\n    population: Network[],\n    dataset?: {\n      /**\n       * The input values\n       */\n      input: number[];\n      /**\n       * The target output values\n       */\n      output: number[];\n    }[]\n  ) => Promise<void>;\n\n  /**\n   * Getter\n   */\n  public get fitnessFunction():\n    | ((\n        population: Network[],\n        dataset?: {\n          /**\n           * The input values\n           */\n          input: number[];\n          /**\n           * The target output values\n           */\n          output: number[];\n        }[]\n      ) => Promise<void>)\n    | undefined {\n    return this._fitnessFunction;\n  }\n\n  /**\n   * Setter\n   */\n  public set fitnessFunction(\n    value:\n      | ((\n          population: Network[],\n          dataset?: {\n            /**\n             * The input values\n             */\n            input: number[];\n            /**\n             * The target output values\n             */\n            output: number[];\n          }[]\n        ) => Promise<void>)\n      | undefined\n  ) {\n    this._fitnessFunction = value;\n  }\n\n  /**\n   * Specify the loss function for the evolution, this tells a genome in the population how well it's performing. Default: methods.loss.MSE (recommended).\n   */\n  private _loss: lossType;\n\n  /**\n   * Getter\n   */\n  public get loss(): lossType {\n    return this._loss;\n  }\n\n  /**\n   * Setter\n   */\n  public set loss(value: lossType) {\n    this._loss = value;\n  }\n\n  /**\n   * Maximum nodes for a potential network\n   */\n  private _maxNodes: number;\n\n  /**\n   * Getter\n   */\n  public get maxNodes(): number {\n    return this._maxNodes;\n  }\n\n  /**\n   * Setter\n   */\n  public set maxNodes(value: number) {\n    this._maxNodes = value;\n  }\n\n  /**\n   * Maximum connections for a potential network\n   */\n  private _maxConnections: number;\n\n  /**\n   * Getter\n   */\n  public get maxConnections(): number {\n    return this._maxConnections;\n  }\n\n  /**\n   * Setter\n   */\n  public set maxConnections(value: number) {\n    this._maxConnections = value;\n  }\n\n  /**\n   * Maximum gates for a potential network\n   */\n  private _maxGates: number;\n\n  /**\n   * Getter\n   */\n  public get maxGates(): number {\n    return this._maxGates;\n  }\n\n  /**\n   * Setter\n   */\n  public set maxGates(value: number) {\n    this._maxGates = value;\n  }\n\n  /**\n   * If set to true when [Network.crossOver](Network.crossOver) runs it will assume both genomes are equally fit.\n   */\n  private _equal: boolean;\n\n  /**\n   * Getter\n   */\n  public get equal(): boolean {\n    return this._equal;\n  }\n\n  /**\n   * Setter\n   */\n  public set equal(value: boolean) {\n    this._equal = value;\n  }\n\n  /**\n   * If set to n, outputs training status every n iterations. Setting `log` to 1 will log the status every iteration\n   */\n  private _log: number;\n\n  /**\n   * Getter\n   */\n  public get log(): number {\n    return this._log;\n  }\n\n  /**\n   * Setter\n   */\n  public set log(value: number) {\n    this._log = value;\n  }\n\n  /**\n   * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n   */\n  private _schedule?: {\n    /**\n     * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n     */\n    iterations: number;\n    /**\n     * A function to run every n iterations as set by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n     *\n     * @param fitness the fitness value of the best genome\n     * @param error the current network error\n     * @param iteration the current iteration count\n     */\n    function: (fitness: number, error: number, iteration: number) => undefined;\n  };\n\n  /**\n   * Getter\n   */\n  public get schedule():\n    | {\n        /**\n         * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n         */\n        iterations: number;\n        /**\n         * A function to run every n iterations as set by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n         *\n         * @param fitness the fitness value of the best genome\n         * @param error the current network error\n         * @param iteration the current iteration count\n         */\n        function: (\n          fitness: number,\n          error: number,\n          iteration: number\n        ) => undefined;\n      }\n    | undefined {\n    return this._schedule;\n  }\n\n  /**\n   * Setter\n   */\n  public set schedule(\n    value:\n      | {\n          /**\n           * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n           */\n          iterations: number;\n          /**\n           * A function to run every n iterations as set by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n           *\n           * @param fitness the fitness value of the best genome\n           * @param error the current network error\n           * @param iteration the current iteration count\n           */\n          function: (\n            fitness: number,\n            error: number,\n            iteration: number\n          ) => undefined;\n        }\n      | undefined\n  ) {\n    this._schedule = value;\n  }\n\n  /**\n   * If set to true, will clear the network after every activation. This is useful for evolving recurrent networks, more importantly for time series prediction.\n   */\n  private _clear: boolean;\n\n  /**\n   * Getter\n   */\n  public get clear(): boolean {\n    return this._clear;\n  }\n\n  /**\n   * Setter\n   */\n  public set clear(value: boolean) {\n    this._clear = value;\n  }\n\n  /**\n   * Set the maximum amount of iterations/generations for the algorithm to run.\n   */\n  private _iterations: number;\n\n  /**\n   * Getter\n   */\n  public get iterations(): number {\n    return this._iterations;\n  }\n\n  /**\n   * Setter\n   */\n  public set iterations(value: number) {\n    this._iterations = value;\n  }\n\n  /**\n   * Set the target error. The algorithm will stop once this target error has been reached.\n   */\n  private _error: number;\n\n  /**\n   * Getter\n   */\n  public get error(): number {\n    return this._error;\n  }\n\n  /**\n   * Setter\n   */\n  public set error(value: number) {\n    this._error = value;\n  }\n}\n","import * as TimSort from 'timsort';\nimport {maxValueIndex, pickRandom} from '../utils/Utils';\nimport {Network} from './Network';\n\n/**\n * A class holding a species\n */\nexport class Species {\n  /**\n   * The representative network of this species\n   * @private\n   */\n  public representative: Network;\n\n  /**\n   * The member networks in this species\n   * @private\n   */\n  public readonly members: Set<Network>;\n\n  /**\n   * The last score of this species.\n   * Used for stagnation checking.\n   * @private\n   */\n  private lastScore: number;\n\n  constructor(representative: Network) {\n    this.representative = representative;\n    this.representative.species = this;\n\n    this.members = new Set<Network>();\n    this.members.add(representative);\n\n    this._score = 0;\n    this.lastScore = 0;\n    this._stagnation = 0;\n  }\n\n  /**\n   * The score of this species\n   * @private\n   */\n  private _score: number;\n\n  /**\n   * Getter\n   */\n  get score(): number {\n    return this._score;\n  }\n\n  /**\n   * Indicates how man episodes without improvements.\n   * @private\n   */\n  private _stagnation: number;\n\n  /**\n   * Getter\n   */\n  get stagnation(): number {\n    return this._stagnation;\n  }\n\n  /**\n   * Puts a network to the species, after checking the distance\n   * @param network\n   * @param c1\n   * @param c2\n   * @param c3\n   * @param distanceThreshold\n   */\n  public put(\n    network: Network,\n    c1: number,\n    c2: number,\n    c3: number,\n    distanceThreshold: number\n  ): boolean {\n    if (network.distance(this.representative, c1, c2, c3) < distanceThreshold) {\n      this.forcePut(network);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Puts a network to the species without checking the distance\n   * @param network\n   */\n  public forcePut(network: Network): void {\n    if (network === undefined) {\n      return;\n    }\n    this.members.add(network);\n    network.species = this;\n  }\n\n  /**\n   * Calculate the score of this species\n   */\n  public evaluateScore(): void {\n    let sum = 0;\n    this.members.forEach(network => (sum += network.score ?? 0));\n    const score: number = sum / this.members.size;\n    if (this.lastScore < score) {\n      this._stagnation++;\n    } else {\n      this._stagnation = 0;\n    }\n    this._score = score;\n  }\n\n  /**\n   * Reset this object\n   */\n  public reset(): void {\n    this.representative = pickRandom(this.members);\n    this.members.forEach(genome => (genome.species = null));\n    this.members.clear();\n    this.members.add(this.representative);\n    this.representative.species = this;\n    this.lastScore = this.score;\n    this._score = 0;\n  }\n\n  /**\n   * Kill a specific percentage of networks\n   * @param percentage\n   */\n  public kill(percentage: number): void {\n    const arr: Network[] = Array.from(this.members);\n    TimSort.sort(arr, (a: Network, b: Network) => {\n      return a.score === undefined || b.score === undefined\n        ? 0\n        : a.score - b.score;\n    });\n\n    const amount: number = Math.floor(percentage * this.members.size);\n    for (let i = 0; i < amount; i++) {\n      this.members.delete(arr[i]);\n      arr[i].species = null;\n    }\n  }\n\n  /**\n   * Create offspring\n   */\n  public breed(): Network {\n    return Network.crossOver(\n      pickRandom(this.members),\n      pickRandom(this.members)\n    );\n  }\n\n  /**\n   * The size of this species\n   */\n  public size(): number {\n    return this.members.size;\n  }\n\n  /**\n   * Returns the best genome from this species\n   */\n  public getBest(): Network {\n    const networks: Network[] = Array.from(this.members);\n    return networks[\n      maxValueIndex(networks.map(genome => genome.score ?? -Infinity))\n    ];\n  }\n\n  /**\n   * to string\n   */\n  public print(): void {\n    console.log(\n      'Species={Members: ' +\n        this.members.size +\n        '; Score: ' +\n        this._score +\n        '; Stagnation: ' +\n        this.stagnation +\n        '}'\n    );\n  }\n}\n","import * as TimSort from 'timsort';\nimport {Network} from './architecture/Network';\nimport {Species} from './architecture/Species';\nimport {EvolveOptions} from './interfaces/EvolveOptions';\nimport {\n  AddConnectionMutation,\n  AddGateMutation,\n  AddNodeMutation,\n  Mutation,\n} from './methods/Mutation';\nimport {pickRandom} from './utils/Utils';\n\n/**\n * Runs the NEAT algorithm on group of neural networks.\n *\n * @constructs Neat\n */\nexport class NEAT {\n  /**\n   * population The current population for the neat instance. Accessible through `neat.population`.\n   */\n  private population: Network[];\n\n  /**\n   * Species\n   */\n  private readonly species: Set<Species>;\n\n  /**\n   * Constructs a NEAT object.\n   *\n   * @param options\n   */\n  constructor(options: EvolveOptions) {\n    if (!options.fitnessFunction) {\n      throw new ReferenceError('No fitness function given!');\n    }\n    this._options = options;\n    this.population = [];\n    this.species = new Set<Species>();\n\n    for (let i = 0; i < this.options.populationSize; i++) {\n      this.population.push(this.options.template.copy());\n    }\n  }\n\n  /**\n   * Class holding all options for the Evolution process\n   */\n  private _options: EvolveOptions;\n\n  /**\n   * Getter\n   */\n  public get options(): EvolveOptions {\n    return this._options;\n  }\n\n  /**\n   * Setter\n   */\n  public set options(value: EvolveOptions) {\n    this._options = value;\n  }\n\n  /**\n   * Mutate a network with a random mutation from the allowed array.\n   *\n   * @param network The network which will be mutated.\n   */\n  public mutateRandom(network: Network): void {\n    const allowed: Mutation[] = this.options.mutations.filter(method => {\n      return (\n        method.constructor.name !== AddNodeMutation.constructor.name ||\n        network.nodes.length < this.options.maxNodes ||\n        method.constructor.name !== AddConnectionMutation.constructor.name ||\n        network.connections.size < this.options.maxConnections ||\n        method.constructor.name !== AddGateMutation.constructor.name ||\n        network.gates.size < this.options.maxGates\n      );\n    });\n    network.mutate(pickRandom(allowed), {\n      allowedActivations: this.options.activations,\n    });\n  }\n\n  /**\n   * Evaluates, selects, breeds and mutates population\n   *\n   * @returns {Network} Fittest network\n   */\n  public async evolve(): Promise<Network> {\n    this.genSpecies();\n\n    await this.evaluate();\n    this.sort();\n    this.species.forEach(species => species.evaluateScore());\n\n    this.kill(1 - this.options.survivors);\n    this.removeExtinctSpecies();\n    this.reproduce();\n\n    // const elitists: Network[] = this.population.splice(0, this.options.elitism);\n    this.mutate();\n    // this.population.splice(0, 0, ...elitists);\n\n    if (this.options.training) {\n      for (const genome of this.population) {\n        genome.train(this.options.training);\n      }\n    }\n\n    // evaluate the population\n    await this.evaluate();\n\n    // Sort in order of fitness (fittest first)\n    this.sort();\n\n    const fittest: Network = this.population[0].copy();\n    fittest.score = this.population[0].score;\n\n    if (\n      this.options.log > 0 &&\n      this.options.generation % this.options.log === 0\n    ) {\n      console.log('\\n---------------------------');\n      console.log(\n        'Generation: ' +\n          this.options.generation +\n          '; Species: ' +\n          this.species.size +\n          '; Score: ' +\n          this.population[0].score\n      );\n      for (const species of this.species) {\n        species.print();\n      }\n    }\n\n    // Reset the scores\n    this.population.forEach(genome => (genome.score = undefined));\n\n    this.options.generation++;\n\n    return fittest;\n  }\n\n  /**\n   * Mutates the given (or current) population\n   *\n   * @param {Mutation} [method] A mutation method to mutate the population with. When not specified will pick a random mutation from the set allowed mutations.\n   */\n  public mutate(method?: Mutation | undefined): void {\n    // Elitist genomes should not be included\n    this.population\n      .filter(() => Math.random() <= this.options.mutationRate)\n      .forEach(genome => {\n        for (let i = 0; i < this.options.mutationAmount; i++) {\n          if (method) {\n            genome.mutate(method);\n          } else {\n            this.mutateRandom(genome);\n          }\n        }\n      });\n  }\n\n  /**\n   * Evaluates the current population, basically sets their `.score` property\n   *\n   * @return {Network} Fittest Network\n   */\n  public async evaluate(): Promise<Network> {\n    if (this.options.clear) {\n      this.population.forEach(genome => genome.clear());\n    }\n    await this.options.fitnessFunction?.(this.population, this.options.dataset);\n\n    // Sort the population in order of fitness\n    this.sort();\n\n    return this.population[0];\n  }\n\n  /**\n   * Sorts the population by score (descending)\n   * @todo implement a quicksort algorithm in utils\n   */\n  public sort(): void {\n    TimSort.sort(this.population, (a: Network, b: Network) => {\n      return a.score === undefined || b.score === undefined\n        ? 0\n        : b.score - a.score;\n    });\n  }\n\n  /**\n   * Returns the fittest genome of the current population\n   *\n   * @returns {Network} Current population's fittest genome\n   */\n  public async getFittest(): Promise<Network> {\n    if (this.population[this.population.length - 1].score === undefined) {\n      await this.evaluate();\n    }\n    this.sort();\n\n    return this.population[0];\n  }\n\n  /**\n   * Returns the average fitness of the current population\n   *\n   * @returns {number} Average fitness of the current population\n   */\n  public async getAverage(): Promise<number> {\n    if (this.population[this.population.length - 1].score === undefined) {\n      await this.evaluate();\n    }\n    let score = 0;\n    this.population\n      .map(genome => genome.score)\n      .forEach(val => (score += val ?? 0));\n    return score / this.population.length;\n  }\n\n  /**\n   * Replace the whole population with the new genomes\n   * @param genomes the genomes which replace the population\n   */\n  public replacePopulation(genomes: Network[]): void {\n    this.population = genomes;\n    this.options.populationSize = genomes.length;\n  }\n\n  /**\n   * Reproduce the population, by replacing the killed networks\n   * @private\n   */\n  private reproduce(): void {\n    const speciesArr: Species[] = Array.from(this.species);\n    if (speciesArr.length === 0) {\n      return;\n    }\n    for (let i = 0; i < this.population.length; i++) {\n      if (this.population[i].species === null) {\n        const selectedSpecies: Species = this.options.selection.select(\n          speciesArr\n        );\n        this.population[i] = selectedSpecies.breed();\n        selectedSpecies.forcePut(this.population[i]);\n      }\n    }\n  }\n\n  /**\n   * Remove empty species\n   * @private\n   */\n  private removeExtinctSpecies(): void {\n    for (const species of Array.from(this.species)) {\n      if (\n        species.size() <= 1 ||\n        species.stagnation > this.options.maxStagnation\n      ) {\n        species.members.forEach(member => (member.species = null));\n        this.species.delete(species);\n      }\n    }\n  }\n\n  /**\n   * Kill bad networks\n   * @param killRate\n   * @private\n   */\n  private kill(killRate: number): void {\n    this.species.forEach(species => species.kill(killRate));\n  }\n\n  /**\n   * Generate species\n   * @private\n   */\n  private genSpecies(): void {\n    this.species.forEach(species => species.reset());\n    this.population\n      .filter(genome => genome.species === null)\n      .forEach(genome => {\n        let found = false;\n        for (const species of Array.from(this.species)) {\n          if (\n            species.put(\n              genome,\n              this.options.c1,\n              this.options.c2,\n              this.options.c3,\n              this.options.speciesDistanceThreshold\n            )\n          ) {\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          this.species.add(new Species(genome));\n        }\n      });\n  }\n}\n","import {ActivationType} from 'activations/build/src';\nimport {spawn, Worker} from 'threads';\nimport {Pool} from 'threads/dist';\nimport 'threads/register';\nimport * as TimSort from 'timsort';\nimport {NodeType} from '../enums/NodeType';\nimport {ConnectionJSON} from '../interfaces/ConnectionJSON';\nimport {EvolveOptions} from '../interfaces/EvolveOptions';\nimport {NetworkJSON} from '../interfaces/NetworkJSON';\nimport {TrainOptions} from '../interfaces/TrainOptions';\nimport {ALL_LOSSES, lossType, MSELoss} from '../methods/Loss';\nimport {ALL_MUTATIONS, Mutation, SubNodeMutation} from '../methods/Mutation';\nimport {TestWorker} from '../multithreading/TestWorker';\nimport {NEAT} from '../NEAT';\nimport {\n  pairing,\n  pickRandom,\n  randBoolean,\n  randInt,\n  removeFromArray,\n  shuffle,\n} from '../utils/Utils';\nimport {Connection} from './Connection';\nimport {Node} from './Node';\nimport {Species} from './Species';\n\n/**\n * Create a neural network\n *\n * Networks are easy to create, all you need to specify is an `input` and an `output` size.\n *\n * @constructs Network\n */\nexport class Network {\n  /**\n   * Species of this network\n   */\n  public species: Species | null;\n  /**\n   * The input size of this network.\n   */\n  public readonly inputSize: number;\n  /**\n   * The output size of this network.\n   */\n  public readonly outputSize: number;\n  /**\n   * The nodes inside this network. Stored in activation order.\n   */\n  public nodes: Node[];\n  /**\n   * The connections inside this network.\n   */\n  public connections: Set<Connection>;\n  /**\n   * The gates inside this network.\n   */\n  public gates: Set<Connection>;\n  /**\n   * The score of this network for evolution.\n   */\n  public score: number | undefined;\n\n  constructor(inputSize: number, outputSize: number) {\n    this.inputSize = inputSize;\n    this.outputSize = outputSize;\n\n    this.nodes = [];\n    this.connections = new Set<Connection>();\n    this.gates = new Set<Connection>();\n    this.score = undefined;\n    this.species = null;\n\n    // Create input and output nodes\n    for (let i = 0; i < inputSize; i++) {\n      this.nodes.push(new Node(NodeType.INPUT));\n    }\n    for (let i = 0; i < outputSize; i++) {\n      this.nodes.push(new Node(NodeType.OUTPUT));\n    }\n\n    // Connect input and output nodes\n    for (let i = 0; i < this.inputSize; i++) {\n      for (\n        let j: number = this.inputSize;\n        j < this.outputSize + this.inputSize;\n        j++\n      ) {\n        // https://stats.stackexchange.com/a/248040/147931\n        const weight: number =\n          (Math.random() - 0.5) *\n          this.inputSize *\n          Math.sqrt(2 / this.inputSize);\n        this.connect(this.nodes[i], this.nodes[j], weight);\n      }\n    }\n  }\n\n  /**\n   * Convert a json object to a network\n   *\n   * @param {{input:{number},output:{number},dropout:{number},nodes:Array<object>,connections:Array<object>}} json A network represented as a json object\n   *\n   * @returns {Network} Network A reconstructed network\n   */\n  public static fromJSON(json: NetworkJSON): Network {\n    const network: Network = new Network(json.inputSize, json.outputSize);\n\n    network.nodes = [];\n    network.connections.clear();\n\n    json.nodes\n      .map(nodeJSON => new Node().fromJSON(nodeJSON))\n      .forEach(node => (network.nodes[node.index] = node));\n\n    json.connections.forEach(jsonConnection => {\n      const connection: Connection = network.connect(\n        network.nodes[jsonConnection.fromIndex],\n        network.nodes[jsonConnection.toIndex],\n        jsonConnection.weight\n      );\n\n      if (jsonConnection.gateNodeIndex !== null) {\n        network.addGate(\n          network.nodes[jsonConnection.gateNodeIndex],\n          connection\n        );\n      }\n    });\n    return network;\n  }\n\n  /**\n   * Create an offspring from two parent networks.\n   *\n   * Networks are not required to have the same size, however input and output size should be the same!\n   *\n   * @todo Add custom [crossover](crossover) method customization\n   *\n   * @param {Network} network1 First parent network\n   * @param {Network} network2 Second parent network\n   *\n   * @returns {Network} New network created from mixing parent networks\n   */\n  public static crossOver(network1: Network, network2: Network): Network {\n    if (\n      network1.inputSize !== network2.inputSize ||\n      network1.outputSize !== network2.outputSize\n    ) {\n      throw new Error('Networks don`t have the same input/output size!');\n    }\n\n    // Initialise offspring\n    const offspring: Network = new Network(\n      network1.inputSize,\n      network1.outputSize\n    );\n    offspring.connections.clear(); // clear\n    offspring.nodes = []; // clear\n\n    // Save scores and create a copy\n    const score1: number = network1.score ?? 0;\n    const score2: number = network2.score ?? 0;\n\n    // Determine offspring node size\n    let offspringSize: number;\n    if (score1 === score2) {\n      const max: number = Math.max(\n        network1.nodes.length,\n        network2.nodes.length\n      );\n      const min: number = Math.min(\n        network1.nodes.length,\n        network2.nodes.length\n      );\n      offspringSize = randInt(min, max + 1); // [min,max]\n    } else if (score1 > score2) {\n      offspringSize = network1.nodes.length;\n    } else {\n      offspringSize = network2.nodes.length;\n    }\n\n    const inputSize: number = network1.inputSize;\n    const outputSize: number = network1.outputSize;\n\n    // set node indices\n    for (let i = 0; i < network1.nodes.length; i++) {\n      network1.nodes[i].index = i;\n    }\n\n    // set node indices\n    for (let i = 0; i < network2.nodes.length; i++) {\n      network2.nodes[i].index = i;\n    }\n\n    // Assign nodes from parents to offspring\n    for (let i = 0; i < offspringSize; i++) {\n      let chosenNode: Node;\n      let chosenNodeType: NodeType | null = null;\n\n      // decide what type of node is needed first check for input and output nodes and fill up with hidden nodes\n      if (i < inputSize) {\n        // pick input node\n        chosenNodeType = NodeType.INPUT;\n        const sourceNetwork: Network = randBoolean() ? network1 : network2;\n        let inputNumber = -1;\n        let j = -1;\n        while (inputNumber < i) {\n          if (j++ >= sourceNetwork.nodes.length) {\n            throw RangeError('something is wrong with the size of the input');\n          }\n          if (sourceNetwork.nodes[j].isInputNode()) {\n            inputNumber++;\n          }\n        }\n        chosenNode = sourceNetwork.nodes[j];\n      } else if (i < inputSize + outputSize) {\n        // pick output node\n        chosenNodeType = NodeType.OUTPUT;\n        const sourceNetwork: Network = randBoolean() ? network1 : network2;\n        let outputNumber = -1;\n        let j = -1;\n        while (outputNumber < i - inputSize) {\n          j++;\n          if (j >= sourceNetwork.nodes.length) {\n            throw RangeError('something is wrong with the size of the output');\n          }\n          if (sourceNetwork.nodes[j].isOutputNode()) {\n            outputNumber++;\n          }\n        }\n        chosenNode = sourceNetwork.nodes[j];\n      } else {\n        // pick hidden node\n        chosenNodeType = NodeType.HIDDEN;\n        let sourceNetwork: Network;\n        if (i >= network1.nodes.length) {\n          sourceNetwork = network2;\n        } else if (i >= network2.nodes.length) {\n          sourceNetwork = network1;\n        } else {\n          sourceNetwork = randBoolean() ? network1 : network2;\n        }\n        chosenNode = pickRandom(sourceNetwork.nodes);\n      }\n\n      const newNode: Node = new Node(chosenNodeType);\n      newNode.bias = chosenNode.bias;\n      newNode.squash = chosenNode.squash;\n      offspring.nodes.push(newNode);\n    }\n\n    // Create arrays of connection genes\n    const n1connections: (ConnectionJSON | undefined)[] = [];\n    const n2connections: (ConnectionJSON | undefined)[] = [];\n\n    // Add the connections of network 1\n    network1.connections.forEach(connection => {\n      n1connections[\n        pairing(connection.from.index, connection.to.index)\n      ] = connection.toJSON();\n    });\n    // Add the connections of network 2\n    network2.connections.forEach(connection => {\n      n2connections[\n        pairing(connection.from.index, connection.to.index)\n      ] = connection.toJSON();\n    });\n\n    // Split common conn genes from disjoint or excess conn genes\n    const connections: (ConnectionJSON | undefined)[] = [];\n    const keys1: string[] = Object.keys(n1connections);\n    const keys2: string[] = Object.keys(n2connections);\n    for (let i: number = keys1.length - 1; i >= 0; i--) {\n      if (n2connections[parseInt(keys1[i])] !== undefined) {\n        connections.push(\n          randBoolean()\n            ? n1connections[parseInt(keys1[i])]\n            : n2connections[parseInt(keys1[i])]\n        );\n\n        n2connections[parseInt(keys1[i])] = undefined;\n      } else if (score1 >= score2) {\n        connections.push(n1connections[parseInt(keys1[i])]);\n      }\n    }\n\n    // Excess/disjoint gene\n    if (score2 >= score1) {\n      keys2\n        .map(key => parseInt(key)) // convert to numbers\n        .map(key => n2connections[key]) // get the connection\n        .filter(conn => conn !== undefined) // filter out undefined connections\n        .forEach(conn => connections.push(conn)); // add the filtered connections\n    }\n\n    // Add common conn genes uniformly\n    connections.forEach(connectionJSON => {\n      if (\n        connectionJSON !== undefined &&\n        connectionJSON.toIndex < offspringSize &&\n        connectionJSON.fromIndex < offspringSize\n      ) {\n        const from: Node = offspring.nodes[connectionJSON.fromIndex];\n        const to: Node = offspring.nodes[connectionJSON.toIndex];\n        const connection: Connection = offspring.connect(\n          from,\n          to,\n          connectionJSON.weight\n        );\n\n        if (\n          connectionJSON.gateNodeIndex !== null &&\n          connectionJSON.gateNodeIndex < offspringSize\n        ) {\n          offspring.addGate(\n            offspring.nodes[connectionJSON.gateNodeIndex],\n            connection\n          );\n        }\n      }\n    });\n\n    return offspring;\n  }\n\n  /**\n   * Returns a copy of Network.\n   * @returns {Network} Returns an identical network\n   */\n  public copy(): Network {\n    return Network.fromJSON(this.toJSON());\n  }\n\n  /**\n   * Connects a Node to another Node or Group in the network\n   *\n   * @param {Node} from The source Node\n   * @param {Node} to The destination Node or Group\n   * @param {number} [weight=0] An initial weight for the connections to be formed\n   *\n   * @returns {Connection[]} An array of the formed connections\n   */\n  public connect(from: Node, to: Node, weight = 0): Connection {\n    const connection: Connection = from.connect(to, weight); // run node-level connect\n    this.connections.add(connection); // add it to the array\n    return connection;\n  }\n\n  /**\n   * Activates the network\n   *\n   * It will activate all the nodes in activation order and produce an output.\n   *\n   * @param {number[]} [input] Input values to activate nodes with\n   * @param options\n   * @returns {number[]} Squashed output values\n   */\n  public activate(\n    input: number[],\n    options: {\n      /**\n       * The dropout rate. [dropout](https://medium.com/@amarbudhiraja/https-medium-com-amarbudhiraja-learning-less-to-learn-better-dropout-in-deep-machine-learning-74334da4bfc5)\n       */\n      dropoutRate?: number;\n      /**\n       * Controls whether traces are created when activation happens (a trace is meta information left behind for different uses, e.g. backpropagation).\n       */\n      trace?: boolean;\n    } = {}\n  ): number[] {\n    if (input.length !== this.inputSize) {\n      throw new RangeError(\n        'Input size of dataset is different to network input size!'\n      );\n    }\n    // get default value if no value is given\n    options.dropoutRate = options.dropoutRate ?? 0;\n    options.trace = options.trace ?? true;\n\n    this.nodes\n      .filter(node => node.isInputNode()) // only input nodes\n      .forEach((node: Node, index: number) =>\n        node.activate(input[index], options.trace)\n      ); // activate them with the input\n\n    this.nodes\n      .filter(node => node.isHiddenNode()) // only hidden nodes\n      .forEach((node: Node) => {\n        if (options.dropoutRate) {\n          node.mask = Math.random() >= options.dropoutRate ? 1 : 0;\n        }\n\n        node.activate(undefined, options.trace); // activate them\n      });\n\n    return this.nodes\n      .filter(node => node.isOutputNode()) // only output nodes\n      .map((node: Node) => node.activate(undefined, options.trace)); // map them to there activation value will give the network's output\n  }\n\n  /**\n   * Backpropagate the network\n   *\n   * This function allows you to teach the network. If you want to do more complex training, use the `network.train()` function.\n   *\n   * @param {number[]} target Ideal values of the previous activate. Will use the difference to improve the weights\n   * @param options More option for propagation\n   */\n  public propagate(\n    target: number[],\n    options: {\n      /**\n       * Sets the [learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10) of the backpropagation process.\n       */\n      rate?: number;\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html). Adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagation too.\n       */\n      update?: boolean;\n    } = {}\n  ): void {\n    // get default value if value isn't given\n    options.rate = options.rate ?? 0.3;\n    options.momentum = options.momentum ?? 0;\n    options.update = options.update ?? false;\n\n    if (target.length !== this.outputSize) {\n      throw new Error(\n        'Output target length should match network output length'\n      );\n    }\n\n    // Backpropagation: output -> hidden -> input\n\n    // propagate through the output nodes\n    this.nodes\n      .filter(node => node.isOutputNode()) // only output nodes\n      .forEach((node, index) => node.propagate(target[index], options)); // propagate\n\n    // propagate backwards through the hidden nodes\n    for (let i: number = this.nodes.length - 1; i >= 0; i--) {\n      if (this.nodes[i].isHiddenNode()) {\n        // only hidden nodes\n        this.nodes[i].propagate(undefined, options);\n      }\n    }\n\n    // propagate through the input nodes\n    this.nodes\n      .filter(node => node.isInputNode()) // only input nodes\n      .forEach(node => node.propagate(undefined, options)); // propagate\n  }\n\n  /**\n   * Clear the context of the network\n   */\n  public clear(): void {\n    this.nodes.forEach(node => node.clear());\n  }\n\n  /**\n   * Removes the connection of the `from` node to the `to` node\n   *\n   * @param {Node} from Source node\n   * @param {Node} to Destination node\n   */\n  public disconnect(from: Node, to: Node): Connection {\n    // remove the connection network-level\n    this.connections.forEach(conn => {\n      if (conn.from === from && conn.to === to) {\n        if (conn.gateNode !== null) {\n          this.removeGate(conn); // remove possible gate\n        }\n        this.connections.delete(conn); // remove connection from array\n      }\n    });\n    // disconnect node-level\n    return from.disconnect(to);\n  }\n\n  /**\n   * Makes a network node gate a connection\n   *\n   * @param {Node} node Gating node\n   * @param {Connection} connection Connection to gate with node\n   */\n  public addGate(node: Node, connection: Connection): void {\n    if (this.nodes.indexOf(node) === -1) {\n      throw new ReferenceError('This node is not part of the network!');\n    } else if (connection.gateNode !== null) {\n      return;\n    }\n    node.addGate(connection);\n    this.gates.add(connection);\n  }\n\n  /**\n   * Remove the gate of a connection.\n   *\n   * @param {Connection} connection Connection to remove gate from\n   */\n  public removeGate(connection: Connection): void {\n    if (!this.gates.has(connection)) {\n      throw new Error('This connection is not gated!');\n    }\n    this.gates.delete(connection);\n    if (connection.gateNode !== null) {\n      connection.gateNode.removeGate(connection);\n    }\n  }\n\n  /**\n   * Removes a node from a network, all its connections will be redirected. If it gates a connection, the gate will be removed.\n   *\n   * @param {Node} node Node to remove from the network\n   * @param keepGates\n   */\n  public removeNode(\n    node: Node,\n    keepGates: boolean = new SubNodeMutation().keepGates\n  ): void {\n    if (!this.nodes.includes(node)) {\n      throw new ReferenceError('This node does not exist in the network!');\n    }\n\n    this.disconnect(node, node); // remove self connection\n\n    const inputs: Node[] = []; // keep track\n    const gates: Node[] = []; // keep track\n    const outputs: Node[] = []; // keep track\n    const connections: Connection[] = []; // keep track\n\n    // read all inputs from node and keep track of the nodes that gate the incoming connection\n    node.incoming.forEach(connection => {\n      if (\n        keepGates &&\n        connection.gateNode !== null &&\n        connection.gateNode !== node\n      ) {\n        gates.push(connection.gateNode);\n      }\n      inputs.push(connection.from);\n      this.disconnect(connection.from, node);\n    });\n\n    // read all outputs from node and keep track of the nodes that gate the outgoing connection\n    node.outgoing.forEach(connection => {\n      if (\n        keepGates &&\n        connection.gateNode !== null &&\n        connection.gateNode !== node\n      ) {\n        gates.push(connection.gateNode);\n      }\n      outputs.push(connection.to);\n      this.disconnect(node, connection.to);\n    });\n\n    // add all connections the node has\n    inputs.forEach(input => {\n      outputs.forEach(output => {\n        if (!input.isProjectingTo(output)) {\n          connections.push(this.connect(input, output));\n        }\n      });\n    });\n\n    // as long as there are gates and connections\n    while (gates.length > 0 && connections.length > 0) {\n      const gate: Node | undefined = gates.shift(); // take a gate node and remove it from the array\n      if (gate === undefined) {\n        continue;\n      }\n\n      const connection: Connection = pickRandom(connections); // take a random connection\n      this.addGate(gate, connection); // gate the connection with the gate node\n      removeFromArray(connections, connection); // remove the connection from the array\n    }\n\n    // remove every gate the node has\n    node.gated.forEach(this.removeGate);\n\n    removeFromArray(this.nodes, node); // remove the node from the nodes array\n  }\n\n  /**\n   * Mutates the network with the given method.\n   *\n   * @param {Mutation} method [Mutation method](mutation)\n   * @param {object} options\n   * @param {number} [options.maxNodes]\n   * @param {number} [options.maxConnections]\n   * @param {number} [options.maxGates] Maximum amount of Gates a network can grow to\n   */\n  public mutate(\n    method: Mutation,\n    options?: {\n      /**\n       * Maximum amount of [Nodes](node) a network can grow to\n       */\n      maxNodes?: number;\n      /**\n       * Maximum amount of [Connections](connection) a network can grow to\n       */\n      maxConnections?: number;\n      /**\n       * Maximum amount of Gates a network can grow to\n       */\n      maxGates?: number;\n      /**\n       * All allowed activations\n       */\n      allowedActivations?: ActivationType[];\n    }\n  ): void {\n    method.mutate(this, options);\n  }\n\n  /**\n   * Selects a random mutation method and returns a mutated copy of the network. Warning! Mutates network directly.\n   *\n   * @param {Mutation[]} [allowedMethods=methods.mutation.ALL] An array of [Mutation methods](mutation) to automatically pick from\n   * @param {object} options\n   * @param {number} [options.maxNodes] Maximum amount of [Nodes](node) a network can grow to\n   * @param {number} [options.maxConnections] Maximum amount of [Connections](connection) a network can grow to\n   * @param {number} [options.maxGates] Maximum amount of Gates a network can grow to\n   */\n  public mutateRandom(\n    allowedMethods: Mutation[] = ALL_MUTATIONS,\n    options: {\n      /**\n       * Maximum amount of [Nodes](node) a network can grow to\n       */\n      maxNodes?: number;\n      /**\n       * Maximum amount of [Connections](connection) a network can grow to\n       */\n      maxConnections?: number;\n      /**\n       * Maximum amount of Gates a network can grow to\n       */\n      maxGates?: number;\n      /**\n       * All allowed activations\n       */\n      allowedActivations?: ActivationType[];\n    } = {}\n  ): void {\n    if (allowedMethods.length === 0) {\n      return;\n    }\n    // mutate the network with a random allowed mutation\n    this.mutate(pickRandom(allowedMethods), options);\n  }\n\n  /**\n   * Train the given data to this network\n   *\n   * @param {TrainOptions} options Options used to train network\n   *\n   * @returns {{error:{number},iterations:{number},time:{number}}} A summary object of the network's performance\n   */\n  public train(\n    options: TrainOptions\n  ): {\n    /**\n     * The loss of the network after training.\n     */\n    error: number;\n    /**\n     * The iterations took for training the network.\n     */\n    iterations: number;\n    /**\n     * The time from begin to end in milliseconds\n     */\n    time: number;\n  } {\n    if (\n      options.dataset[0].input.length !== this.inputSize ||\n      options.dataset[0].output.length !== this.outputSize\n    ) {\n      throw new Error(\n        'Dataset input/output size should be same as network input/output size!'\n      );\n    }\n\n    const start: number = Date.now();\n\n    if (options.iterations <= 0 && options.error <= 0) {\n      throw new Error(\n        'At least one of the following options must be specified: error, iterations'\n      );\n    }\n\n    // Split into trainingSet and testSet if cross validation is enabled\n    let trainingSetSize: number;\n    let trainingSet: {\n      /**\n       * The input values of the dataset.\n       */\n      input: number[];\n      /**\n       * The output values of the dataset.\n       */\n      output: number[];\n    }[];\n    let testSet: {\n      /**\n       * The input values of the dataset.\n       */\n      input: number[];\n      /**\n       * The output values of the dataset.\n       */\n      output: number[];\n    }[];\n    if (options.crossValidateTestSize > 0) {\n      trainingSetSize = Math.ceil(\n        (1 - options.crossValidateTestSize) * options.dataset.length\n      );\n      trainingSet = options.dataset.slice(0, trainingSetSize);\n      testSet = options.dataset.slice(trainingSetSize);\n    } else {\n      trainingSet = options.dataset;\n      testSet = [];\n    }\n\n    let currentTrainingRate: number;\n    let iterationCount = 0;\n    let error = 1;\n\n    // train until the target error is reached or the target iterations are reached\n    while (\n      error > options.error &&\n      (options.iterations <= 0 || iterationCount < options.iterations)\n    ) {\n      iterationCount++;\n\n      // update the rate according to the rate policy\n      currentTrainingRate = options.rate.calc(iterationCount);\n\n      // train a single epoch\n      error = this.trainEpoch({\n        dataset: trainingSet,\n        batchSize: options.batchSize,\n        trainingRate: currentTrainingRate,\n        momentum: options.momentum,\n        loss: options.loss,\n        dropoutRate: options.dropout,\n      });\n\n      if (options.clear) {\n        this.clear();\n      }\n\n      // Run test with the testSet, if cross validation is enabled\n      if (options.crossValidateTestSize > 0) {\n        error = this.test(testSet, options.loss);\n        if (options.clear) {\n          this.clear();\n        }\n      }\n\n      if (options.shuffle) {\n        shuffle(options.dataset);\n      }\n\n      if (options.log > 0 && iterationCount % options.log === 0) {\n        console.log(\n          'iteration number',\n          iterationCount,\n          'error',\n          error,\n          'training rate',\n          currentTrainingRate\n        );\n      }\n\n      if (\n        options.schedule &&\n        iterationCount % options.schedule.iterations === 0\n      ) {\n        options.schedule.function(error, iterationCount);\n      }\n    }\n\n    if (options.clear) {\n      this.clear();\n    }\n\n    return {\n      error,\n      iterations: iterationCount,\n      time: Date.now() - start,\n    };\n  }\n\n  /**\n   * Tests a set and returns the error and elapsed time\n   *\n   * @param {Array<{input:number[],output:number[]}>} dataset A set of input values and ideal output values to test the network against\n   * @param {lossType} [loss=MSELoss] The [loss function](https://en.wikipedia.org/wiki/Loss_function) used to determine network error\n   *\n   * @returns {number} A summary object of the network's performance\n   */\n  public test(\n    dataset: {\n      /**\n       * The input values of the dataset.\n       */\n      input: number[];\n      /**\n       * The output values of the dataset.\n       */\n      output: number[];\n    }[],\n    loss: lossType = MSELoss\n  ): number {\n    let error = 0;\n\n    for (const entry of dataset) {\n      const input: number[] = entry.input;\n      const target: number[] = entry.output;\n      const output: number[] = this.activate(input, {trace: false});\n      error += loss(target, output);\n    }\n\n    return error / dataset.length;\n  }\n\n  /**\n   * Convert the network to a json object\n   *\n   * @returns {NetworkJSON} The network represented as a json object\n   */\n  public toJSON(): NetworkJSON {\n    const json: NetworkJSON = {\n      nodes: [],\n      connections: [],\n      inputSize: this.inputSize,\n      outputSize: this.outputSize,\n    };\n\n    // set node indices\n    for (let i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].index = i;\n    }\n\n    // convert all nodes to json and add the to the json object\n    this.nodes.forEach(node => {\n      json.nodes.push(node.toJSON());\n\n      if (node.selfConnection.weight !== 0) {\n        // if there is a self connection\n        // add it to the json object\n        json.connections.push(node.selfConnection.toJSON());\n      }\n    });\n\n    this.connections.forEach(conn => {\n      json.connections.push(conn.toJSON());\n    });\n    return json;\n  }\n\n  /**\n   * Evolves the network to reach a lower error on a dataset using the [NEAT algorithm](http://nn.cs.utexas.edu/downloads/papers/stanley.ec02.pdf)\n   *\n   * If both `iterations` and `error` options are unset, evolve will default to `iterations` as an end condition.\n   *\n   * @param {object} [options] Configuration options\n   *\n   * @returns {{error:{number},iterations:{number},time:{number}}} A summary object of the network's performance. <br /> Properties include: `error` - error of the best genome, `iterations` - generations used to evolve networks, `time` - clock time elapsed while evolving\n   */\n  public async evolve(\n    options: EvolveOptions = new EvolveOptions()\n  ): Promise<{\n    /**\n     * The loss of the network after training.\n     */\n    error: number;\n    /**\n     * The iterations took for training the network.\n     */\n    iterations: number;\n    /**\n     * The time from begin to end in milliseconds\n     */\n    time: number;\n  }> {\n    if (\n      !options.fitnessFunction &&\n      options.dataset &&\n      (options.dataset[0].input.length !== this.inputSize ||\n        options.dataset[0].output.length !== this.outputSize)\n    ) {\n      throw new Error(\n        'Dataset input/output size should be same as network input/output size!'\n      );\n    }\n\n    // set options to default if necessary\n    options.input = this.inputSize;\n    options.output = this.outputSize;\n\n    const start: number = Date.now();\n\n    // tslint:disable-next-line:no-any\n    let workerPool: Pool<any> | null = null;\n\n    if (!options.fitnessFunction) {\n      // if no fitness function is given\n      // create default one\n\n      // Serialize the dataset using JSON\n      const serializedDataSet: string = JSON.stringify(options.dataset);\n      const lossIndex: number = Object.values(ALL_LOSSES).indexOf(options.loss);\n      // init a pool of workers\n      workerPool = Pool(\n        () => spawn<TestWorker>(new Worker('../multithreading/TestWorker')),\n        options.threads\n      );\n      options.fitnessFunction = async function (\n        population: Network[]\n      ): Promise<void> {\n        for (const genome of population) {\n          // add a task to the workerPool's queue\n          if (workerPool) {\n            workerPool.queue(async (test: TestWorker) => {\n              if (genome === undefined) {\n                throw new ReferenceError();\n              }\n              // test the genome\n              genome.score = -(await test(\n                serializedDataSet,\n                JSON.stringify(genome.toJSON()),\n                lossIndex\n              ));\n            });\n          }\n        }\n\n        if (workerPool) {\n          await workerPool.completed(); // wait until every task is done\n        }\n      };\n    }\n    options.template = this; // set this network as template for first generation\n\n    const neat: NEAT = new NEAT(options);\n\n    let error: number;\n    let bestFitness = 0;\n    let bestGenome: Network | null = null;\n\n    // run until error goal is reached or iteration goal is reached\n    do {\n      const fittest: Network = await neat.evolve(); // run one generation\n\n      if (!fittest.score) {\n        throw new ReferenceError();\n      }\n\n      error = fittest.score;\n\n      if (neat.options.generation === 1 || fittest.score > bestFitness) {\n        bestFitness = fittest.score;\n        bestGenome = fittest;\n      }\n\n      if (\n        options.schedule &&\n        neat.options.generation % options.schedule.iterations === 0\n      ) {\n        options.schedule.function(\n          fittest.score,\n          -error,\n          neat.options.generation\n        );\n      }\n    } while (\n      error < -options.error &&\n      (options.iterations === 0 || neat.options.generation < options.iterations)\n    );\n\n    if (bestGenome) {\n      // set this network to the fittest from NEAT\n      this.nodes = bestGenome.nodes;\n      this.connections = bestGenome.connections;\n      this.gates = bestGenome.gates;\n\n      if (options.clear) {\n        this.clear();\n      }\n    }\n\n    if (workerPool !== null) {\n      await workerPool.terminate(); // stop all processes\n    }\n\n    return {\n      error: -error,\n      iterations: neat.options.generation,\n      time: Date.now() - start,\n    };\n  }\n\n  /**\n   * Distance function\n   * @param g2 other network\n   * @param c1\n   * @param c2\n   * @param c3\n   */\n  public distance(g2: Network, c1: number, c2: number, c3: number): number {\n    // set node indices\n    for (let i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].index = i;\n    }\n\n    // set node indices\n    for (let i = 0; i < g2.nodes.length; i++) {\n      g2.nodes[i].index = i;\n    }\n\n    let indexG1 = 0;\n    let indexG2 = 0;\n\n    const connections1: Connection[] = Array.from(this.connections).filter(\n      conn => conn !== undefined\n    );\n    const connections2: Connection[] = Array.from(g2.connections).filter(\n      conn => conn !== undefined\n    );\n\n    TimSort.sort(connections1, (a: Connection, b: Connection) => {\n      return a.getInnovationID() - b.getInnovationID();\n    });\n\n    TimSort.sort(connections2, (a: Connection, b: Connection) => {\n      return a.getInnovationID() - b.getInnovationID();\n    });\n\n    const highestInnovationID1: number = connections1[\n      connections1.length - 1\n    ].getInnovationID();\n    const highestInnovationID2: number = connections2[\n      connections2.length - 1\n    ].getInnovationID();\n    if (highestInnovationID1 < highestInnovationID2) {\n      return g2.distance(this, c1, c2, c3);\n    }\n\n    let disjointGenes = 0;\n    let totalWeightDiff = 0;\n    let similarGenes = 0;\n\n    while (indexG1 < connections1.length && indexG2 < connections2.length) {\n      const gene1: Connection = connections1[indexG1];\n      const gene2: Connection = connections2[indexG2];\n\n      if (gene1 === undefined || gene2 === undefined) {\n        throw Error('HERE');\n      }\n\n      const in1: number = gene1.getInnovationID();\n      const in2: number = gene2.getInnovationID();\n\n      if (in1 === in2) {\n        // similarGenes\n        indexG1++;\n        indexG2++;\n        totalWeightDiff += Math.abs(gene1.weight - gene2.weight);\n        similarGenes++;\n      } else if (indexG1 > indexG2) {\n        // disjoint of b\n        indexG2++;\n        disjointGenes++;\n      } else {\n        // disjoint of a\n        indexG1++;\n        disjointGenes++;\n      }\n    }\n    totalWeightDiff /= similarGenes;\n    const excessGenes: number = this.connections.size - indexG1;\n\n    let N: number = Math.max(this.connections.size, g2.connections.size);\n    if (N < 20) {\n      N = 1;\n    }\n\n    return (\n      (c1 * excessGenes) / N + (c2 * disjointGenes) / N + c3 * totalWeightDiff\n    );\n  }\n\n  /**\n   * Performs one training epoch and returns the error - this is a private function used in `self.train`\n   *\n   * @private\n   *\n   * @returns {number}\n   */\n  private trainEpoch(options: {\n    /**\n     * The dataset.\n     */\n    dataset: {\n      /**\n       * The input values of the dataset.\n       */\n      input: number[];\n      /**\n       * The output values of the dataset.\n       */\n      output: number[];\n    }[];\n    /**\n     * The batch size.\n     */\n    batchSize: number;\n    /**\n     * The training rate.\n     */\n    trainingRate: number;\n    /**\n     * The momentum.\n     */\n    momentum: number;\n    /**\n     * The loss function.\n     */\n    loss: lossType;\n    /**\n     * The dropout rate\n     */\n    dropoutRate: number;\n  }): number {\n    let errorSum = 0;\n    for (let i = 0; i < options.dataset.length; i++) {\n      const input: number[] = options.dataset[i].input;\n      const correctOutput: number[] = options.dataset[i].output;\n\n      const update: boolean =\n        (i + 1) % options.batchSize === 0 || i + 1 === options.dataset.length;\n\n      const output: number[] = this.activate(input, {\n        dropoutRate: options.dropoutRate,\n      });\n      this.propagate(correctOutput, {\n        rate: options.trainingRate,\n        momentum: options.momentum,\n        update,\n      });\n\n      errorSum += options.loss(correctOutput, output);\n    }\n    return errorSum / options.dataset.length;\n  }\n}\n","import {ConnectionType} from '../enums/ConnectionType';\nimport {InputLayer} from './Layers/CoreLayers/InputLayer';\nimport {OutputLayer} from './Layers/CoreLayers/OutputLayer';\nimport {Layer} from './Layers/Layer';\nimport {Network} from './Network';\n\n/**\n * Architect constructs multilayer networks with various types of layers.\n */\nexport class Architect {\n  /**\n   * Array with all layers and there incoming connection type\n   */\n  private readonly layers: {\n    /**\n     * The Layer\n     */\n    layer: Layer;\n    /**\n     * The incoming connection type for this layer\n     */\n    incomingConnectionType: ConnectionType;\n  }[];\n\n  constructor() {\n    this.layers = [];\n  }\n\n  /**\n   * Adds a layer to the architect.\n   *\n   * @param layer The layer\n   * @param incomingConnectionType The incoming connection to this layer\n   * @returns this object to function as builder class\n   */\n  public addLayer(\n    layer: Layer,\n    incomingConnectionType?: ConnectionType\n  ): Architect {\n    const connectionType: ConnectionType =\n      incomingConnectionType ?? layer.getDefaultIncomingConnectionType();\n\n    if (!layer.connectionTypeisAllowed(connectionType)) {\n      throw new ReferenceError(\n        'Connection type ' +\n          connectionType +\n          ' is not allowed at layer ' +\n          layer.constructor.name\n      );\n    }\n\n    this.layers.push({\n      layer,\n      incomingConnectionType: connectionType,\n    });\n    return this; // function as builder class\n  }\n\n  /**\n   * Build the network from the layers added to the architect.\n   *\n   * @returns the constructed network\n   */\n  public buildModel(): Network {\n    if (!(this.layers[0].layer instanceof InputLayer)) {\n      throw new ReferenceError(\n        'First layer has to be a InputLayer! Currently is: ' +\n          this.layers[0].layer.constructor.name\n      );\n    }\n    if (!(this.layers[this.layers.length - 1].layer instanceof OutputLayer)) {\n      throw new ReferenceError(\n        'Last layer has to be a OutputLayer! Currently is: ' +\n          this.layers[this.layers.length - 1].layer.constructor.name\n      );\n    }\n\n    const inputSize: number = this.layers[0].layer.nodes.length;\n    const outputSize: number = this.layers[this.layers.length - 1].layer.nodes\n      .length;\n\n    const network: Network = new Network(inputSize, outputSize);\n    network.nodes = [];\n    network.connections.clear();\n\n    for (let i = 0; i < this.layers.length - 1; i++) {\n      Layer.connect(\n        this.layers[i].layer,\n        this.layers[i + 1].layer,\n        this.layers[i + 1].incomingConnectionType\n      ).forEach(conn => network.connections.add(conn));\n\n      network.nodes.push(...this.layers[i].layer.nodes);\n      this.layers[i].layer.connections.forEach(conn =>\n        network.connections.add(conn)\n      );\n      this.layers[i].layer.gates.forEach(conn => network.gates.add(conn));\n    }\n    network.nodes.push(...this.layers[this.layers.length - 1].layer.nodes);\n    return network;\n  }\n}\n","import {sum} from '../../utils/Utils';\nimport {ConstantNode} from './ConstantNode';\n\n/**\n * Activation node\n */\nexport class ActivationNode extends ConstantNode {\n  constructor() {\n    super();\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @returns A neuron's output value\n   */\n  public activate(): number {\n    this.old = this.state;\n\n    const incomingStates: number[] = Array.from(this.incoming).map(\n      conn => conn.from.activation * conn.weight * conn.gain\n    );\n\n    if (incomingStates.length !== 1) {\n      throw new ReferenceError('Only 1 incoming connections is allowed!');\n    }\n\n    this.state = incomingStates[0];\n\n    this.activation = this.squash(this.state, false) * this.mask;\n    this.derivativeState = this.squash(this.state, true);\n\n    return this.activation;\n  }\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   */\n  public propagate(\n    target: number,\n    options: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    }\n  ): void {\n    options.momentum = options.momentum ?? 0;\n    options.rate = options.rate ?? 0.3;\n    options.update = options.update ?? true;\n\n    const connectionsStates: number[] = Array.from(this.outgoing).map(\n      conn => conn.to.errorResponsibility * conn.weight * conn.gain\n    );\n    this.errorResponsibility = this.errorProjected =\n      sum(connectionsStates) * this.derivativeState;\n\n    this.incoming.forEach(connection => {\n      // calculate gradient\n      let gradient: number = this.errorProjected * connection.eligibility;\n      connection.xTrace.forEach((value, key) => {\n        gradient += key.errorResponsibility * value;\n      });\n\n      connection.deltaWeightsTotal +=\n        (options.rate ?? 0.3) * gradient * this.mask;\n      if (options.update) {\n        connection.deltaWeightsTotal +=\n          (options.momentum ?? 0) * connection.deltaWeightsPrevious;\n        connection.weight += connection.deltaWeightsTotal;\n        connection.deltaWeightsPrevious = connection.deltaWeightsTotal;\n        connection.deltaWeightsTotal = 0;\n      }\n    });\n  }\n}\n","import {ActivationType, Logistic} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {ActivationNode} from '../../Nodes/ActivationNode';\nimport {Layer} from '../Layer';\n\n/**\n * Activation layer\n */\nexport class ActivationLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activation: ActivationType = options.activation ?? Logistic;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(new ActivationNode().setActivationType(activation));\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @param type the type to check\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(type: ConnectionType): boolean {\n    return type === ConnectionType.ONE_TO_ONE;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ONE_TO_ONE;\n  }\n}\n","import {ActivationType, Logistic} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * Dense layer\n */\nexport class DenseLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activationType?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activation: ActivationType = options.activationType ?? Logistic;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new Node(NodeType.HIDDEN).setActivationType(activation)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","import {DropoutNodeJSON} from '../../interfaces/NodeJSON';\nimport {randDouble, sum} from '../../utils/Utils';\nimport {Connection} from '../Connection';\nimport {ConstantNode} from './ConstantNode';\n\n/**\n * Dropout node\n */\nexport class DropoutNode extends ConstantNode {\n  /**\n   * Dropout probability\n   */\n  private probability: number;\n  /**\n   * Is dropped out at last activation?\n   */\n  private droppedOut: boolean;\n\n  constructor(probability: number) {\n    super();\n    this.probability = probability;\n    this.droppedOut = false;\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @returns A neuron's output value\n   */\n  public activate(): number {\n    if (this.incoming.size !== 1) {\n      throw new RangeError(\n        'Dropout node should have exactly one incoming connection!'\n      );\n    }\n    const incomingConnection: Connection = Array.from(this.incoming)[0];\n\n    // https://stats.stackexchange.com/a/219240\n    if (randDouble(0, 1) < this.probability) {\n      // DROPOUT\n      this.droppedOut = true;\n      this.state = 0;\n    } else {\n      this.droppedOut = false;\n      this.state =\n        incomingConnection.from.activation *\n        incomingConnection.weight *\n        incomingConnection.gain;\n      this.state *= 1 / (1 - this.probability);\n    }\n    this.activation = this.squash(this.state, false) * this.mask;\n\n    // Adjust gain\n    this.gated.forEach(conn => (conn.gain = this.activation));\n\n    return this.activation;\n  }\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   */\n  public propagate(\n    target?: number,\n    options: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    } = {}\n  ): void {\n    options.momentum = options.momentum ?? 0;\n    options.rate = options.rate ?? 0.3;\n    options.update = options.update ?? true;\n\n    const connectionsStates: number[] = Array.from(this.outgoing).map(\n      conn => conn.to.errorResponsibility * conn.weight * conn.gain\n    );\n    this.errorResponsibility = this.errorProjected =\n      sum(connectionsStates) / (1 - this.probability);\n\n    if (this.incoming.size !== 1) {\n      throw new RangeError(\n        'Dropout node should have exactly one incoming connection!'\n      );\n    }\n    const connection: Connection = Array.from(this.incoming)[0];\n\n    // calculate gradient\n    if (!this.droppedOut) {\n      let gradient: number = this.errorProjected * connection.eligibility;\n\n      connection.xTrace.forEach((value, key) => {\n        gradient += key.errorResponsibility * value;\n      });\n\n      if (options.update) {\n        connection.deltaWeightsTotal +=\n          options.rate * gradient * this.mask +\n          options.momentum * connection.deltaWeightsPrevious;\n        connection.weight += connection.deltaWeightsTotal;\n        connection.deltaWeightsPrevious = connection.deltaWeightsTotal;\n        connection.deltaWeightsTotal = 0;\n      }\n    }\n  }\n\n  /**\n   * Create a constant node from json object.\n   *\n   * @param json the json object representing the node\n   *\n   * @returns the created node\n   */\n  public fromJSON(json: DropoutNodeJSON): DropoutNode {\n    super.fromJSON(json);\n    this.probability = json.probability;\n    return this;\n  }\n\n  /**\n   * Convert this node into a json object.\n   *\n   * @returns the json object representing this node\n   */\n  public toJSON(): DropoutNodeJSON {\n    return Object.assign(super.toJSON(), {\n      probability: this.probability,\n    });\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {DropoutNode} from '../../Nodes/DropoutNode';\nimport {Layer} from '../Layer';\n\n/**\n * Dropout layer\n */\nexport class DropoutLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n      /**\n       * The dropout probability\n       */\n      probability?: number;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activation: ActivationType = options.activation ?? Identitiy;\n    const probability: number = options.probability ?? 0.1;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new DropoutNode(probability).setActivationType(activation)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ONE_TO_ONE;\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @param type the type to check\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(type: ConnectionType): boolean {\n    return type === ConnectionType.ONE_TO_ONE;\n  }\n}\n","import {PoolNodeType} from '../../enums/NodeType';\nimport {PoolNodeJSON} from '../../interfaces/NodeJSON';\nimport {avg, maxValueIndex, minValueIndex, sum} from '../../utils/Utils';\nimport {Connection} from '../Connection';\nimport {Node} from '../Node';\nimport {ConstantNode} from './ConstantNode';\n\n/**\n * Pool node\n */\nexport class PoolNode extends ConstantNode {\n  /**\n   * The type of pooling\n   */\n  private poolingType: PoolNodeType;\n  /**\n   * The used input neuron\n   */\n  private receivingNode: Node | null;\n\n  constructor(poolingType: PoolNodeType = PoolNodeType.MAX_POOLING) {\n    super();\n    this.poolingType = poolingType;\n    this.receivingNode = null;\n  }\n\n  /**\n   * Create a constant node from json object.\n   *\n   * @param json the json object representing the node\n   *\n   * @returns the created node\n   */\n  public fromJSON(json: PoolNodeJSON): PoolNode {\n    super.fromJSON(json);\n    this.poolingType = json.poolType;\n    return this;\n  }\n\n  /**\n   * Actives the node.\n   *\n   * When a neuron activates, it computes its state from all its input connections and 'squashes' it using its activation function, and returns the output (activation).\n   *\n   * You can also provide the activation (a float between 0 and 1) as a parameter, which is useful for neurons in the input layer.\n   *\n   * @returns A neuron's output value\n   */\n  public activate(): number {\n    const connections: Connection[] = Array.from(this.incoming);\n    const incomingStates: number[] = connections.map(\n      conn => conn.from.activation * conn.weight * conn.gain\n    );\n\n    if (this.poolingType === PoolNodeType.MAX_POOLING) {\n      const index: number = maxValueIndex(incomingStates);\n      this.receivingNode = connections[index].from;\n      this.state = incomingStates[index];\n    } else if (this.poolingType === PoolNodeType.AVG_POOLING) {\n      this.state = avg(incomingStates);\n    } else if (this.poolingType === PoolNodeType.MIN_POOLING) {\n      const index: number = minValueIndex(incomingStates);\n      this.receivingNode = connections[index].from;\n      this.state = incomingStates[index];\n    } else {\n      throw new ReferenceError(\n        'No valid pooling type! Type: ' + this.poolingType\n      );\n    }\n\n    this.activation = this.squash(this.state, false) * this.mask;\n    if (this.poolingType === PoolNodeType.AVG_POOLING) {\n      this.derivativeState = this.squash(this.state, true);\n    }\n\n    // Adjust gain\n    this.gated.forEach(conn => (conn.gain = this.activation));\n\n    return this.activation;\n  }\n\n  /**\n   * Backpropagate the error (a.k.a. learn).\n   *\n   * After an activation, you can teach the node what should have been the correct output (a.k.a. train). This is done by backpropagating. [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one. When the gradient keeps pointing in the same direction, this will increase the size of the steps taken towards the minimum.\n   *\n   * If you combine a high learning rate with a lot of momentum, you will rush past the minimum (of the error function) with huge steps. It is therefore often necessary to reduce the global learning rate  when using a lot of momentum (m close to 1).\n   *\n   * @param target The target value (i.e. \"the value the network SHOULD have given\")\n   * @param options More options for propagation\n   */\n  public propagate(\n    target?: number,\n    options: {\n      /**\n       * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html) adds a fraction of the previous weight update to the current one.\n       */\n      momentum?: number;\n      /**\n       * [Learning rate](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n       */\n      rate?: number;\n      /**\n       * When set to false weights won't update, but when set to true after being false the last propagation will include the delta weights of the first \"update:false\" propagations too.\n       */\n      update?: boolean;\n    } = {}\n  ): void {\n    options.momentum = options.momentum ?? 0;\n    options.rate = options.rate ?? 0.3;\n    options.update = options.update ?? true;\n\n    const connectionsStates: number[] = Array.from(this.outgoing).map(\n      conn => conn.to.errorResponsibility * conn.weight * conn.gain\n    );\n    this.errorResponsibility = this.errorProjected =\n      sum(connectionsStates) * this.derivativeState;\n    if (this.poolingType === PoolNodeType.AVG_POOLING) {\n      this.incoming.forEach(connection => {\n        // calculate gradient\n        let gradient: number = this.errorProjected * connection.eligibility;\n        connection.xTrace.forEach((value, key) => {\n          gradient += key.errorResponsibility * value;\n        });\n\n        connection.deltaWeightsTotal +=\n          (options.rate ?? 0.3) * gradient * this.mask;\n        if (options.update) {\n          connection.deltaWeightsTotal +=\n            (options.momentum ?? 0) * connection.deltaWeightsPrevious;\n          connection.weight += connection.deltaWeightsTotal;\n          connection.deltaWeightsPrevious = connection.deltaWeightsTotal;\n          connection.deltaWeightsTotal = 0;\n        }\n      });\n    } else {\n      // TODO: don't think that this is correct\n      // Passing only the connections that were used for getting the min or max\n      this.incoming.forEach(conn => {\n        conn.weight = this.receivingNode === conn.from ? 1 : 0;\n        conn.gain = this.receivingNode === conn.from ? 1 : 0;\n      });\n    }\n  }\n\n  /**\n   * Convert this node into a json object.\n   *\n   * @returns the json object representing this node\n   */\n  public toJSON(): PoolNodeJSON {\n    return Object.assign(super.toJSON(), {\n      poolType: this.poolingType,\n    });\n  }\n}\n","import {ConnectionType} from '../../../enums/ConnectionType';\nimport {Layer} from '../Layer';\n\n/**\n * Parent class for all pooling layers\n */\nexport abstract class PoolingLayer extends Layer {\n  protected constructor(outputSize: number) {\n    super(outputSize);\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.POOLING;\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {PoolNodeType} from '../../../enums/NodeType';\nimport {PoolNode} from '../../Nodes/PoolNode';\nimport {PoolingLayer} from './PoolingLayer';\n\n/**\n * Average pooling layer 1D\n */\nexport class AvgPooling1DLayer extends PoolingLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activationType: ActivationType = options.activation ?? Identitiy;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new PoolNode(PoolNodeType.AVG_POOLING).setActivationType(activationType)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n}\n","import {ActivationType} from 'activations/build/src';\nimport {AvgPooling1DLayer} from './AvgPooling1DLayer';\n\n/**\n * Global average pooling layer 1D\n */\nexport class GlobalAvgPooling1DLayer extends AvgPooling1DLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(1, options);\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {PoolNodeType} from '../../../enums/NodeType';\nimport {PoolNode} from '../../Nodes/PoolNode';\nimport {PoolingLayer} from './PoolingLayer';\n\n/**\n * Maximum pooling layer 1D\n */\nexport class MaxPooling1DLayer extends PoolingLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activationType: ActivationType = options.activation ?? Identitiy;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new PoolNode(PoolNodeType.MAX_POOLING).setActivationType(activationType)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n}\n","import {ActivationType} from 'activations/build/src';\nimport {MaxPooling1DLayer} from './MaxPooling1DLayer';\n\n/**\n * Global maximum pooling layer 1D\n */\nexport class GlobalMaxPooling1DLayer extends MaxPooling1DLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(1, options);\n  }\n}\n","import {ActivationType, Identitiy} from 'activations/build/src';\nimport {PoolNodeType} from '../../../enums/NodeType';\nimport {PoolNode} from '../../Nodes/PoolNode';\nimport {PoolingLayer} from './PoolingLayer';\n\n/**\n * Minimum pooling layer 1D\n */\nexport class MinPooling1DLayer extends PoolingLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const activationType: ActivationType = options.activation ?? Identitiy;\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new PoolNode(PoolNodeType.MIN_POOLING).setActivationType(activationType)\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n  }\n}\n","import {ActivationType} from 'activations/build/src';\nimport {MinPooling1DLayer} from './MinPooling1DLayer';\n\n/**\n * Global minimum pooling layer 1D\n */\nexport class GlobalMinPooling1DLayer extends MinPooling1DLayer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(1, options);\n  }\n}\n","import {ActivationType, Logistic, TANH} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {GatingType} from '../../../enums/GatingType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Connection} from '../../Connection';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * GRU layer\n */\nexport class GRULayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n    const updateGate: Node[] = [];\n    const inverseUpdateGate: Node[] = [];\n    const resetGate: Node[] = [];\n    const memoryCell: Node[] = [];\n    const previousOutput: Node[] = [];\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(new Node(NodeType.HIDDEN));\n      updateGate.push(new Node(NodeType.HIDDEN).setBias(1));\n      inverseUpdateGate.push(\n        new Node(NodeType.HIDDEN).setBias(0).setActivationType(Logistic)\n      );\n      resetGate.push(new Node(NodeType.HIDDEN).setBias(0));\n      memoryCell.push(new Node(NodeType.HIDDEN).setActivationType(TANH));\n      previousOutput.push(\n        new Node(NodeType.HIDDEN).setBias(0).setActivationType(Logistic)\n      );\n      this.outputNodes.add(new Node(NodeType.HIDDEN));\n    }\n\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, updateGate, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, resetGate, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, memoryCell, ConnectionType.ALL_TO_ALL)\n    );\n\n    this.connections.push(\n      ...Layer.connect(previousOutput, updateGate, ConnectionType.ALL_TO_ALL)\n    );\n\n    this.connections.push(\n      ...Layer.connect(\n        updateGate,\n        inverseUpdateGate,\n        ConnectionType.ONE_TO_ONE,\n        1\n      )\n    );\n\n    this.connections.push(\n      ...Layer.connect(previousOutput, resetGate, ConnectionType.ALL_TO_ALL)\n    );\n\n    const reset: Connection[] = Layer.connect(\n      previousOutput,\n      memoryCell,\n      ConnectionType.ALL_TO_ALL\n    );\n    this.connections.push(...reset);\n    this.gates.push(...Layer.gate(resetGate, reset, GatingType.OUTPUT));\n\n    const update: Connection[] = Layer.connect(\n      previousOutput,\n      this.outputNodes,\n      ConnectionType.ALL_TO_ALL\n    );\n    const inverseUpdate: Connection[] = Layer.connect(\n      memoryCell,\n      this.outputNodes,\n      ConnectionType.ALL_TO_ALL\n    );\n    this.connections.push(...update);\n    this.connections.push(...inverseUpdate);\n\n    this.gates.push(...Layer.gate(updateGate, update, GatingType.OUTPUT));\n    this.gates.push(\n      ...Layer.gate(inverseUpdateGate, inverseUpdate, GatingType.OUTPUT)\n    );\n\n    this.connections.push(\n      ...Layer.connect(\n        this.outputNodes,\n        previousOutput,\n        ConnectionType.ONE_TO_ONE,\n        1\n      )\n    );\n\n    this.nodes.push(...Array.from(this.inputNodes));\n    this.nodes.push(...updateGate);\n    this.nodes.push(...inverseUpdateGate);\n    this.nodes.push(...resetGate);\n    this.nodes.push(...memoryCell);\n    this.nodes.push(...Array.from(this.outputNodes));\n    this.nodes.push(...previousOutput);\n\n    this.outputNodes.forEach(\n      node => (node.squash = options.activation ?? Logistic)\n    );\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","import {BinaryStep} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * Hopfield layer\n */\nexport class HopfieldLayer extends Layer {\n  constructor(outputSize: number) {\n    super(outputSize);\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(new Node(NodeType.HIDDEN));\n      this.outputNodes.add(\n        new Node(NodeType.HIDDEN).setActivationType(BinaryStep)\n      );\n    }\n\n    this.connections.push(\n      ...Layer.connect(\n        this.inputNodes,\n        this.outputNodes,\n        ConnectionType.ALL_TO_ALL\n      )\n    );\n    this.connections.push(\n      ...Layer.connect(\n        this.outputNodes,\n        this.inputNodes,\n        ConnectionType.ALL_TO_ALL\n      )\n    );\n\n    this.nodes.push(...Array.from(this.inputNodes));\n    this.nodes.push(...Array.from(this.outputNodes));\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","import {ActivationType, Logistic, TANH} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {GatingType} from '../../../enums/GatingType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Connection} from '../../Connection';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * LSTM layer\n */\nexport class LSTMLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    const inputGate: Node[] = [];\n    const forgetGate: Node[] = [];\n    const memoryCell: Node[] = [];\n    const outputGate: Node[] = [];\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(new Node(NodeType.HIDDEN));\n      inputGate.push(new Node(NodeType.HIDDEN).setBias(1));\n      forgetGate.push(\n        new Node(NodeType.HIDDEN).setBias(1).setActivationType(Logistic)\n      );\n      memoryCell.push(new Node(NodeType.HIDDEN));\n      outputGate.push(new Node(NodeType.HIDDEN).setBias(1));\n      this.outputNodes.add(new Node(NodeType.HIDDEN));\n    }\n\n    this.connections.push(\n      ...Layer.connect(memoryCell, inputGate, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(memoryCell, forgetGate, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(memoryCell, outputGate, ConnectionType.ALL_TO_ALL)\n    );\n    const forgetGateConnections: Connection[] = Layer.connect(\n      memoryCell,\n      memoryCell,\n      ConnectionType.ONE_TO_ONE\n    );\n    const outputGateConnections: Connection[] = Layer.connect(\n      memoryCell,\n      this.outputNodes,\n      ConnectionType.ALL_TO_ALL\n    );\n    this.connections.push(...forgetGateConnections);\n    this.connections.push(...outputGateConnections);\n\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, memoryCell, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, outputGate, ConnectionType.ALL_TO_ALL)\n    );\n    this.connections.push(\n      ...Layer.connect(this.inputNodes, forgetGate, ConnectionType.ALL_TO_ALL)\n    );\n    const inputGateConnections: Connection[] = Layer.connect(\n      this.inputNodes,\n      inputGate,\n      ConnectionType.ALL_TO_ALL\n    );\n    this.connections.push(...inputGateConnections);\n\n    this.gates.push(\n      ...Layer.gate(forgetGate, forgetGateConnections, GatingType.SELF)\n    );\n    this.gates.push(\n      ...Layer.gate(outputGate, outputGateConnections, GatingType.OUTPUT)\n    );\n    this.gates.push(\n      ...Layer.gate(inputGate, inputGateConnections, GatingType.INPUT)\n    );\n\n    this.nodes.push(...Array.from(this.inputNodes));\n    this.nodes.push(...inputGate);\n    this.nodes.push(...forgetGate);\n    this.nodes.push(...memoryCell);\n    this.nodes.push(...outputGate);\n    this.nodes.push(...Array.from(this.outputNodes));\n\n    this.outputNodes.forEach(\n      node => (node.squash = options.activation ?? TANH)\n    );\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","import {ActivationType, Identitiy, Logistic} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * Memory layer\n */\nexport class MemoryLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n      /**\n       * The size of the memory.\n       */\n      memorySize?: number;\n    } = {}\n  ) {\n    super(outputSize);\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(new Node(NodeType.HIDDEN));\n    }\n\n    let prevNodes: Node[] = Array.from(this.inputNodes);\n    const nodes: Node[] = [];\n    for (let i = 0; i < (options.memorySize ?? 1); i++) {\n      const block: Node[] = [];\n      for (let j = 0; j < outputSize; j++) {\n        const node: Node = new Node(NodeType.HIDDEN);\n        node.squash = Identitiy;\n        node.bias = 0;\n        block.push(node);\n      }\n\n      this.connections.push(\n        ...Layer.connect(prevNodes, block, ConnectionType.ONE_TO_ONE)\n      );\n      nodes.push(...block);\n      prevNodes = block;\n    }\n\n    this.nodes.push(...Array.from(this.inputNodes));\n    this.nodes.push(...nodes.reverse());\n    prevNodes.forEach(node => this.outputNodes.add(node));\n\n    this.outputNodes.forEach(\n      node => (node.squash = options.activation ?? Logistic)\n    );\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","import {ActivationType, Logistic} from 'activations/build/src';\nimport {ConnectionType} from '../../../enums/ConnectionType';\nimport {NodeType} from '../../../enums/NodeType';\nimport {Node} from '../../Node';\nimport {Layer} from '../Layer';\n\n/**\n * RNN layer\n */\nexport class RNNLayer extends Layer {\n  constructor(\n    outputSize: number,\n    options: {\n      /**\n       * The activation type for the output nodes of this layer.\n       */\n      activation?: ActivationType;\n    } = {}\n  ) {\n    super(outputSize);\n\n    for (let i = 0; i < outputSize; i++) {\n      this.inputNodes.add(\n        new Node(NodeType.HIDDEN).setActivationType(\n          options.activation ?? Logistic\n        )\n      );\n    }\n\n    this.outputNodes = this.inputNodes;\n    this.nodes.push(...Array.from(this.inputNodes));\n\n    // Adding self connections\n    this.connections.push(\n      ...Layer.connect(this.nodes, this.nodes, ConnectionType.ONE_TO_ONE)\n    );\n  }\n\n  /**\n   * Checks if a given connection type is allowed on this layer.\n   *\n   * @return Is this connection type allowed?\n   */\n  public connectionTypeisAllowed(): boolean {\n    return true;\n  }\n\n  /**\n   * Gets the default connection type for a incoming connection to this layer.\n   *\n   * @returns the default incoming connection\n   */\n  public getDefaultIncomingConnectionType(): ConnectionType {\n    return ConnectionType.ALL_TO_ALL;\n  }\n}\n","/**\n * Built-in learning rate policies, which allow for a dynamic learning rate during neural network training.\n *\n * @see [Learning rates and how-to improve performance](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10)\n * @see [Learning rate policy](https://stackoverflow.com/questions/30033096/what-is-lr-policy-in-caffe/30045244)\n *\n */\nabstract class Rate {\n  /**\n   * The rate at the first iteration.\n   */\n  protected readonly baseRate: number;\n\n  /**\n   * Constructs a rate policy\n   * @param baseRate the rate at first iteration\n   */\n  constructor(baseRate: number) {\n    this.baseRate = baseRate;\n  }\n\n  /**\n   * Calculates the current training rate.\n   *\n   * @param iteration count\n   * @returns the current training rate\n   */\n  public abstract calc(iteration: number): number;\n}\n\n/**\n * Fixed Learning Rate\n *\n * Default rate policy. Using this will make learning rate static (no change). Useful as a way to update a previous rate policy.\n */\nclass FixedRate extends Rate {\n  /**\n   * Calculates the current training rate.\n   *\n   * @returns the current training rate\n   */\n  public calc(): number {\n    return this.baseRate;\n  }\n}\n\n/**\n * Step Learning Rate\n *\n * The learning rate will decrease (i.e. 'step down') every `stepSize` iterations.\n */\nclass StepRate extends Rate {\n  /**\n   * Learning rate retention per step; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to never converge, low `gamma` CAN cause networks to converge too quickly_\n   */\n  private readonly gamma: number;\n  /**\n   * Learning rate is updated every `step_size` iterations\n   */\n  private readonly stepSize: number;\n\n  /**\n   * Constructs a step rate policy.\n   *\n   * @param baseRate the rate at first iteration\n   * @param gamma=0.9 Learning rate retention per step; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to never converge, low `gamma` CAN cause networks to converge too quickly_\n   * @param stepSize=100 Learning rate is updated every `step_size` iterations\n   */\n  constructor(baseRate: number, gamma = 0.9, stepSize = 100) {\n    super(baseRate);\n    this.gamma = gamma;\n    this.stepSize = stepSize;\n  }\n\n  /**\n   * Calculates the current training rate.\n   *\n   * @param iteration count\n   * @returns the current training rate\n   */\n  public calc(iteration: number): number {\n    return this.baseRate * this.gamma ** Math.floor(iteration / this.stepSize);\n  }\n}\n\n/**\n * Exponential Learning Rate\n *\n * The learning rate will exponentially decrease.\n *\n * The rate at `iteration` is calculated as: `rate = base_rate * Math.pow(gamma, iteration)`\n */\nclass ExponentialRate extends Rate {\n  /**\n   * Learning rate retention per step; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to never converge, low `gamma` CAN cause networks to converge too quickly_\n   */\n  private readonly gamma: number;\n\n  /**\n   * Constructs a step rate policy.\n   *\n   * @param baseRate the rate at first iteration\n   * @param gamma=0.9 Learning rate retention per step; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to never converge, low `gamma` CAN cause networks to converge too quickly_\n   */\n  constructor(baseRate: number, gamma = 0.999) {\n    super(baseRate);\n    this.gamma = gamma;\n  }\n\n  /**\n   * Calculates the current training rate.\n   *\n   * @param iteration count\n   * @returns the current training rate\n   */\n  public calc(iteration: number): number {\n    return this.baseRate * this.gamma ** iteration;\n  }\n}\n\n/**\n * Inverse Exponential Learning Rate\n *\n * The learning rate will exponentially decrease.\n *\n * The rate at `iteration` is calculated as: `rate = baseRate * Math.pow(1 + gamma * iteration, -power)`\n */\nclass InverseRate extends Rate {\n  /**\n   * Learning rate decay per iteration; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to converge too quickly and stop learning, low `gamma` CAN cause networks to converge to learn VERY slowly_\n   */\n  private readonly gamma: number;\n  /**\n   * Decay rate per iteration - _0 < `power`_ - _large `power` CAN cause networks to stop learning quickly, low `power` CAN cause networks to learn VERY slowly_\n   */\n  private readonly power: number;\n\n  /**\n   * Constructs a step rate policy.\n   *\n   * @param baseRate the rate at first iteration\n   * @param gamma=0.001 Learning rate decay per iteration; - _0 < `gamma` < 1_ - _large `gamma` CAN cause networks to converge too quickly and stop learning, low `gamma` CAN cause networks to converge to learn VERY slowly_\n   * @param power=2 Decay rate per iteration - _0 < `power`_ - _large `power` CAN cause networks to stop learning quickly, low `power` CAN cause networks to learn VERY slowly_\n   */\n  constructor(baseRate: number, gamma = 0.001, power = 2) {\n    super(baseRate);\n    this.gamma = gamma;\n    this.power = power;\n  }\n\n  /**\n   * Calculates the current training rate.\n   *\n   * @param iteration count\n   * @returns the current training rate\n   */\n  public calc(iteration: number): number {\n    return this.baseRate * (1 + this.gamma * iteration) ** -this.power;\n  }\n}\n\nexport {Rate, FixedRate, StepRate, ExponentialRate, InverseRate};\n","import {lossType, MSELoss} from '../methods/Loss';\nimport {FixedRate, Rate} from '../methods/Rate';\n\n/**\n * Options used to train network\n */\nexport class TrainOptions {\n  constructor(\n    dataset: {\n      /**\n       * The input values\n       */\n      input: number[];\n      /**\n       * The target output values\n       */\n      output: number[];\n    }[]\n  ) {\n    this._dataset = dataset;\n    this._iterations = -1;\n    this._error = -1;\n    this._loss = MSELoss;\n    this._dropout = 0;\n    this._momentum = 0;\n    this._batchSize = this.dataset.length;\n    this._rate = new FixedRate(0.3);\n    this._log = -1;\n    this._crossValidateTestSize = -1;\n    this._shuffle = false;\n    this._clear = false;\n  }\n\n  /**\n   * A data of input values and ideal output values to train the network with\n   */\n  private _dataset: {\n    /**\n     * The input values\n     */\n    input: number[];\n    /**\n     * The target output values\n     */\n    output: number[];\n  }[];\n\n  /**\n   * Getter\n   */\n  public get dataset(): {\n    /**\n     * The input values\n     */\n    input: number[];\n    /**\n     * The target output values\n     */\n    output: number[];\n  }[] {\n    return this._dataset;\n  }\n\n  /**\n   * Setter\n   */\n  public set dataset(\n    value: {\n      /**\n       * The input values\n       */\n      input: number[];\n      /**\n       * The target output values\n       */\n      output: number[];\n    }[]\n  ) {\n    this._dataset = value;\n  }\n\n  /**\n   * If set to true, will shuffle the training data every iterationNumber. Good option to use if the network is performing worse in [cross validation](https://artint.info/html/ArtInt_189.html) than in the real training data.\n   */\n  private _shuffle: boolean;\n\n  /**\n   * Getter\n   */\n  public get shuffle(): boolean {\n    return this._shuffle;\n  }\n\n  /**\n   * Setter\n   */\n  public set shuffle(value: boolean) {\n    this._shuffle = value;\n  }\n\n  /**\n   * If set to true, will clear the network after every activation. This is useful for training LSTM's, more importantly for time series prediction.\n   */\n  private _clear: boolean;\n\n  /**\n   * Getter\n   */\n  public get clear(): boolean {\n    return this._clear;\n  }\n\n  /**\n   * Setter\n   */\n  public set clear(value: boolean) {\n    this._clear = value;\n  }\n\n  /**\n   * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n   */\n  private _schedule?: {\n    /**\n     * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n     */\n    iterations: number;\n    /**\n     * A function to run every n iterations as data by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n     *\n     * @param error the current network error\n     * @param iteration the current iteration count\n     */\n    function: (error: number, iteration: number) => undefined;\n  };\n\n  /**\n   * Getter\n   */\n  public get schedule():\n    | {\n        /**\n         * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n         */\n        iterations: number;\n        /**\n         * A function to run every n iterations as data by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n         *\n         * @param error the current network error\n         * @param iteration the current iteration count\n         */\n        function: (error: number, iteration: number) => undefined;\n      }\n    | undefined {\n    return this._schedule;\n  }\n\n  /**\n   * Setter\n   */\n  public set schedule(\n    value:\n      | {\n          /**\n           * You can schedule tasks to happen every n iterations. Paired with `options.schedule.function`\n           */\n          iterations: number;\n          /**\n           * A function to run every n iterations as data by `options.schedule.iterations`. Passed as an object with a \"function\" property that contains the function to run.\n           *\n           * @param error the current network error\n           * @param iteration the current iteration count\n           */\n          function: (error: number, iteration: number) => undefined;\n        }\n      | undefined\n  ) {\n    this._schedule = value;\n  }\n\n  /**\n   * Sets the amount of test cases that should be assigned to cross validation. If data to 0.4, 40% of the given data will be used for cross validation.\n   */\n  private _crossValidateTestSize: number;\n\n  /**\n   * Getter\n   */\n  public get crossValidateTestSize(): number {\n    return this._crossValidateTestSize;\n  }\n\n  /**\n   * Setter\n   */\n  public set crossValidateTestSize(value: number) {\n    this._crossValidateTestSize = value;\n  }\n\n  /**\n   * A [learning rate policy](https://towardsdatascience.com/understanding-learning-rates-and-how-it-improves-performance-in-deep-learning-d0d4059c1c10), i.e. how to change the learning rate during training to better network performance\n   */\n  private _rate: Rate;\n\n  /**\n   * Getter\n   */\n  public get rate(): Rate {\n    return this._rate;\n  }\n\n  /**\n   * Setter\n   */\n  public set rate(value: Rate) {\n    this._rate = value;\n  }\n\n  /**\n   * The [options.loss function](https://en.wikipedia.org/wiki/Loss_function) used to determine network error\n   */\n  private _loss: lossType;\n\n  /**\n   * Getter\n   */\n  public get loss(): lossType {\n    return this._loss;\n  }\n\n  /**\n   * Setter\n   */\n  public set loss(value: lossType) {\n    this._loss = value;\n  }\n\n  /**\n   * Sets amount of training cycles the process will maximally run, even when the target error has not been reached.\n   */\n  private _iterations: number;\n\n  /**\n   * Getter\n   */\n  public get iterations(): number {\n    return this._iterations;\n  }\n\n  /**\n   * Setter\n   */\n  public set iterations(value: number) {\n    this._iterations = value;\n  }\n\n  /**\n   * The target error to train for, once the network falls below this error, the process is stopped. Lower error rates require more training cycles.\n   */\n  private _error: number;\n\n  /**\n   * Getter\n   */\n  public get error(): number {\n    return this._error;\n  }\n\n  /**\n   * Setter\n   */\n  public set error(value: number) {\n    this._error = value;\n  }\n\n  /**\n   * [Momentum](https://www.willamette.edu/~gorr/classes/cs449/momrate.html). Adds a fraction of the previous weight update to the current one.\n   */\n  private _momentum: number;\n\n  /**\n   * Getter\n   */\n  public get momentum(): number {\n    return this._momentum;\n  }\n\n  /**\n   * Setter\n   */\n  public set momentum(value: number) {\n    this._momentum = value;\n  }\n\n  /**\n   * [Dropout rate](https://medium.com/@amarbudhiraja/https-medium-com-amarbudhiraja-learning-less-to-learn-better-options.dropout-in-deep-machine-learning-74334da4bfc5) likelihood for any given neuron to be ignored during network training. Must be between zero and one, numbers closer to one will result in more neurons ignored.\n   */\n  private _dropout: number;\n\n  /**\n   * Getter\n   */\n  public get dropout(): number {\n    return this._dropout;\n  }\n\n  /**\n   * Setter\n   */\n  public set dropout(value: number) {\n    this._dropout = value;\n  }\n\n  /**\n   * If set to n, outputs training status every n iterations. Setting `log` to 1 will log the status every iteration_number\n   */\n  private _log: number;\n\n  /**\n   * Getter\n   */\n  public get log(): number {\n    return this._log;\n  }\n\n  /**\n   * Setter\n   */\n  public set log(value: number) {\n    this._log = value;\n  }\n\n  /**\n   * Sets the (mini-) batch size of your training. Default: 1 [(online training)](https://www.quora.com/What-is-the-difference-between-batch-online-and-mini-batch-training-in-neural-networks-Which-one-should-I-use-for-a-small-to-medium-sized-dataset-for-prediction-purposes)\n   */\n  private _batchSize: number;\n\n  /**\n   * Getter\n   */\n  public get batchSize(): number {\n    return this._batchSize;\n  }\n\n  /**\n   * Setter\n   */\n  public set batchSize(value: number) {\n    this._batchSize = value;\n  }\n}\n","import {Architect} from '../src/architecture/Architect';\nimport {Connection} from '../src/architecture/Connection';\nimport {ActivationLayer} from '../src/architecture/Layers/CoreLayers/ActivationLayer';\nimport {DenseLayer} from '../src/architecture/Layers/CoreLayers/DenseLayer';\nimport {DropoutLayer} from '../src/architecture/Layers/CoreLayers/DropoutLayer';\nimport {InputLayer} from '../src/architecture/Layers/CoreLayers/InputLayer';\nimport {OutputLayer} from '../src/architecture/Layers/CoreLayers/OutputLayer';\nimport {Layer} from '../src/architecture/Layers/Layer';\nimport {NoiseLayer} from '../src/architecture/Layers/NoiseLayers/NoiseLayer';\nimport {AvgPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer';\nimport {GlobalAvgPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer';\nimport {GlobalMaxPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer';\nimport {GlobalMinPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer';\nimport {MaxPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer';\nimport {MinPooling1DLayer} from '../src/architecture/Layers/PoolingLayers/MinPooling1DLayer';\nimport {PoolingLayer} from '../src/architecture/Layers/PoolingLayers/PoolingLayer';\nimport {GRULayer} from '../src/architecture/Layers/RecurrentLayers/GRULayer';\nimport {HopfieldLayer} from '../src/architecture/Layers/RecurrentLayers/HopfieldLayer';\nimport {LSTMLayer} from '../src/architecture/Layers/RecurrentLayers/LSTMLayer';\nimport {MemoryLayer} from '../src/architecture/Layers/RecurrentLayers/MemoryLayer';\nimport {RNNLayer} from '../src/architecture/Layers/RecurrentLayers/RNNLayer';\nimport {Network} from '../src/architecture/Network';\nimport {Node} from '../src/architecture/Node';\nimport {ConstantNode} from '../src/architecture/Nodes/ConstantNode';\nimport {DropoutNode} from '../src/architecture/Nodes/DropoutNode';\nimport {NoiseNode} from '../src/architecture/Nodes/NoiseNode';\nimport {PoolNode} from '../src/architecture/Nodes/PoolNode';\nimport {Species} from '../src/architecture/Species';\nimport {ConnectionType} from '../src/enums/ConnectionType';\nimport {GatingType} from '../src/enums/GatingType';\nimport {NodeType, NoiseNodeType, PoolNodeType} from '../src/enums/NodeType';\nimport {ConnectionJSON} from '../src/interfaces/ConnectionJSON';\nimport {EvolveOptions} from '../src/interfaces/EvolveOptions';\nimport {NetworkJSON} from '../src/interfaces/NetworkJSON';\nimport {\n  DropoutNodeJSON,\n  NodeJSON,\n  PoolNodeJSON,\n} from '../src/interfaces/NodeJSON';\nimport {TrainOptions} from '../src/interfaces/TrainOptions';\nimport {\n  ALL_LOSSES,\n  BinaryLoss,\n  HINGELoss,\n  MAELoss,\n  MAPELoss,\n  MBELoss,\n  MSELoss,\n  MSLELoss,\n  WAPELoss,\n} from '../src/methods/Loss';\nimport {\n  AddBackConnectionMutation,\n  AddConnectionMutation,\n  AddGateMutation,\n  AddNodeMutation,\n  AddSelfConnectionMutation,\n  ALL_MUTATIONS,\n  FEEDFORWARD_MUTATIONS,\n  ModActivationMutation,\n  ModBiasMutation,\n  ModWeightMutation,\n  Mutation,\n  NO_STRUCTURE_MUTATIONS,\n  ONLY_STRUCTURE,\n  SubBackConnectionMutation,\n  SubConnectionMutation,\n  SubGateMutation,\n  SubNodeMutation,\n  SubSelfConnectionMutation,\n  SwapNodesMutation,\n} from '../src/methods/Mutation';\nimport {\n  ExponentialRate,\n  FixedRate,\n  InverseRate,\n  Rate,\n  StepRate,\n} from '../src/methods/Rate';\nimport {\n  FitnessProportionateSelection,\n  PowerSelection,\n  Selection,\n  TournamentSelection,\n} from '../src/methods/Selection';\nimport {\n  avg,\n  generateGaussian,\n  max,\n  maxValueIndex,\n  min,\n  minValueIndex,\n  pickRandom,\n  randBoolean,\n  randDouble,\n  randInt,\n  removeFromArray,\n  shuffle,\n  sum,\n} from '../src/utils/Utils';\n\n// TODO this could be more beautiful and also dynamic\nexport {\n  DenseLayer,\n  DropoutLayer,\n  InputLayer,\n  OutputLayer,\n  NoiseLayer,\n  AvgPooling1DLayer,\n  MinPooling1DLayer,\n  MaxPooling1DLayer,\n  GlobalAvgPooling1DLayer,\n  GlobalMinPooling1DLayer,\n  GlobalMaxPooling1DLayer,\n  PoolingLayer,\n  ActivationLayer,\n  HopfieldLayer,\n  RNNLayer,\n  GRULayer,\n  LSTMLayer,\n  MemoryLayer,\n  Layer,\n  ConstantNode,\n  DropoutNode,\n  NoiseNode,\n  PoolNode,\n  Architect,\n  Connection,\n  Network,\n  Species,\n  Node,\n  ConnectionType,\n  GatingType,\n  NodeType,\n  PoolNodeType,\n  NoiseNodeType,\n  ConnectionJSON,\n  EvolveOptions,\n  NetworkJSON,\n  NodeJSON,\n  PoolNodeJSON,\n  DropoutNodeJSON,\n  TrainOptions,\n  ALL_LOSSES,\n  MSELoss,\n  MBELoss,\n  BinaryLoss,\n  MAELoss,\n  MAPELoss,\n  WAPELoss,\n  MSLELoss,\n  HINGELoss,\n  ALL_MUTATIONS,\n  FEEDFORWARD_MUTATIONS,\n  NO_STRUCTURE_MUTATIONS,\n  ONLY_STRUCTURE,\n  Mutation,\n  AddNodeMutation,\n  SubNodeMutation,\n  AddConnectionMutation,\n  SubConnectionMutation,\n  ModWeightMutation,\n  ModBiasMutation,\n  ModActivationMutation,\n  AddGateMutation,\n  SubGateMutation,\n  AddSelfConnectionMutation,\n  SubSelfConnectionMutation,\n  AddBackConnectionMutation,\n  SubBackConnectionMutation,\n  SwapNodesMutation,\n  Rate,\n  FixedRate,\n  StepRate,\n  ExponentialRate,\n  InverseRate,\n  Selection,\n  FitnessProportionateSelection,\n  PowerSelection,\n  TournamentSelection,\n  pickRandom,\n  randInt,\n  randDouble,\n  randBoolean,\n  removeFromArray,\n  shuffle,\n  max,\n  maxValueIndex,\n  minValueIndex,\n  min,\n  sum,\n  avg,\n  generateGaussian,\n};\n"]}